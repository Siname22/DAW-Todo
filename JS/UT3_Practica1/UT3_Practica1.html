<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>UT3_Practica1</title>
    </head>
    <body>

        <label>Nota Examen: <input type="text" id="notaExamen"/></label>
        <br>
        <br>

        <label>Nota Primera Practica: <input type="text" id="notaFirstPractice"/></label>
        <br>
        <br>

        <label>Nota Segunda Practica: <input type="text" id="notaSecPractice" /></label>
        <br>
        <br>

        <label>Nota Actictud: <input type="text" id="notaActictud" /></label>
        <br>
        <br>

        <button onclick="hacerMedia();"><span>Hacer Media</span></button>

        <p id="resultado"></p>

        <script>
            /*
            var dni = prompt("DNI sin letra: ");
            dni = parseInt(dni);
            console.log(dni);
            resto = dni%23;
            console.log(resto);
            var letrasDNI = "TRWAGMYFPDXBNJZSQVHLCKET";
            var respuesta = "La letra de tu dni es: " + letrasDNI[resto] ;
            alert(respuesta);
            */
            
            function hacerMedia(){

                var notaExamen = document.getElementById('notaExamen').value;
                var notaFirstPractice = document.getElementById('notaFirstPractice').value;
                var notaSecPractice = document.getElementById('notaSecPractice').value;
                var notaActictud = document.getElementById('notaActictud').value;

                var notaMaxima = 10;
                var notaMinima = 0;
                var porcentajeExam = 0.45;
                var porcentajePractica = 0.45;
                var porcentajeActictud = 0.10;

                var mediaPractica = 0;
                var resultadoNota = 0;

                var resultado = document.getElementById('resultado');
                

                //Si no han escrito nada
                if(notaExamen !== "" && notaFirstPractice !=="" && notaSecPractice !=="" && notaActictud !==""){

                    notaExamen = parseFloat(notaExamen);
                    notaFirstPractice = parseFloat(notaFirstPractice);
                    notaSecPractice = parseFloat(notaSecPractice);
                    notaActictud = parseFloat(notaActictud);
                    
                    console.log("notas",notaExamen,notaFirstPractice,notaSecPractice,notaActictud);
                    //Si no es un numero
                    if(!isNaN(notaExamen)&&!isNaN(notaFirstPractice)&&!isNaN(notaSecPractice)&&!isNaN(notaActictud)){
                        //Si no supera 10 ( hay que poner el limite cero)
                        if(notaExamen <= notaMaxima && notaActictud <= notaMaxima && notaFirstPractice <= notaMaxima &&
                            notaSecPractice <= notaMaxima){
                            //Si supera el limite inferior (0)
                            if(notaExamen >= notaMinima && notaActictud >= notaMinima && notaFirstPractice >= notaMinima
                                && notaSecPractice >= notaMinima){
                                if(notaExamen < 5 || notaFirstPractice < 5 || notaSecPractice < 5){
                                notaActictud = 0;
                                }
                                //Si las notas es menor que 4
                                if(notaExamen < 4){
                                    notaExamen = 0;
                                }
                                notaExamen *= porcentajeExam;
                                notaActictud *= porcentajeActictud;
                                //Si las practicas son menor que 4
                                if(notaFirstPractice >= 4  && notaSecPractice >=4){
                                    mediaPractica = (notaFirstPractice + notaSecPractice) /2;
                                    mediaPractica *= porcentajePractica;
        
                                } else{
                                    mediaPractica = 0;
                                }
                                console.log("notas con porcentajes y media Practicas",notaExamen,
                                    mediaPractica,notaActictud);

                                resultadoNota = notaExamen + notaActictud + mediaPractica;
                                resultado.innerHTML = resultadoNota;

                            } else{
                                resultado.innerHTML="Datos numericos menores que 0, vuelva a ingresar las notas";
                            }
                            
                        } else{
                            resultado.innerHTML = "Datos numericos mayores que 10, vuelva a ingresar las notas";
                        }

                    } else{
                        resultado.innerHTML ="Datos no numericos, vuelva a ingresar las notas";
                    }

                    
                } else{
                    resultado.innerHTML="Hay algunos campos vacios, por favor rellenelos";
              }
            }
        </script>
    </body>
</html>