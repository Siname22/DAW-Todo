<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>UT4_Practica1</title>
</head>
    <body>
        <h1>Ejercicio 1: </h1>
        <h2> Mostrar los datos de un array uno por uno</h2>
        <input type="button" id="ejercicio1" value="Mostrar Array" onclick="ejercicio1()"/>
        <p id="mostrarArray"></p>

        <div id="contenedor">
            <section id="zonaformulario">
                <form name=formulario">
                    <p> Archivos: <br><input type="file" name="archivos" id="archivos"></p>

                </form>
                <input type="button" id="ejercicio2" value="Cargar fichero" onclick="ejercicio2()"/>
            </section>

            <section id="zonadatos">
                No hay información
            </section>
        </div>

        <script>
            function ejercicio1(){
                /*
                Crea un array llamado elementos que tenga 10 datos de tipo string (tipo primitivo).

                Sobre el array creado realiza las siguientes acciones.
                 */
                var elementos =["Hola", "Raul", "Caracola", "Carlos", "Jess", "Barcelona"];

                var recorrerArray = function (apartado){
                    document.getElementById("mostrarArray").innerHTML += "<br>" + apartado + "<br>";
                    for (var i = 0; i < elementos.length; i++) {

                        document.getElementById("mostrarArray").innerHTML += elementos[i] + "<br>";
                    }
                }
                //Visualiza por pantalla todo el contenido del array, separando cada dato en líneas distintas.
                recorrerArray("Primer array: ");

                //Añade al array un dato más. (mediante el uso [longitud]
                elementos[elementos.length] = "Fernando";
                recorrerArray("Segundo array: ")

                // Añade al array dos datos más mediante utilizando un solo método.
                elementos.push("Madrid", "Lo siento");
                recorrerArray("Tercer array: ");

                //Añade un dato más al principio del array.
                elementos.unshift("Dato añadido al principio");
                recorrerArray("Cuarto Array: ");

                //Localiza un cierto dato dentro del array.
                document.getElementById("mostrarArray").innerHTML += "Localizar Array: " + elementos.indexOf("Raul") + "<br>";

                //Elimina los últimos tres datos del array.
                elementos.length = elementos.length -3;
                recorrerArray("Borrar los ultimos datos del Array: ");

                // Crea un sub-array llamado array_recortado con los datos del array elementos, comprendidos entre la posición 4 y 8 (ambos inclusive).
                var array_recortado = elementos.slice(3,9);


                var recorrerArrayRecortado = function (apartado){
                    document.getElementById("mostrarArray").innerHTML += "<br>" + apartado + "<br>";
                    for (var i = 0; i < array_recortado.length; i++) {

                        document.getElementById("mostrarArray").innerHTML += array_recortado[i] + "<br>";
                    }
                }
                recorrerArrayRecortado("Array_Recortado: ");

                //Crea un nuevo array llamado elementos_MYCLS con los datos del array elementos en mayúsculas.
                var elementos_MYCLS = [];

                recorrerArrayMayusculas = function (apartado){
                    //cambio los datos a mayusculas
                    for (var i = 0; i < elementos.length; i++) {
                        elementos_MYCLS.push(elementos[i].toUpperCase());
                    }
                    //los muestro en pantalla
                    document.getElementById("mostrarArray").innerHTML += "<br>" + apartado + "<br>";
                    for (var i = 0; i < elementos_MYCLS.length; i++) {

                        document.getElementById("mostrarArray").innerHTML += elementos_MYCLS[i] + "<br>";
                    }
                }
                recorrerArrayMayusculas("Array Con Mayusculas: ")

            }

            function ejercicio2(){

                function comenzar(){
                    zonadatos = document.getElementById("zonadatos");

                    var archivos = document.getElementById("archivos");

                    //archivos.addEventListener("change", procesar, false);
                    procesar(archivos);


                }
                comenzar();
                function  procesar(e){
                    var archivos = e.files;
                    var mi_archivo = archivos[0];

                    var lector = new FileReader();
                    lector.readAsText(mi_archivo);

                    lector.addEventListener("load", mostrar_en_array, false);


                }

                function mostrar_en_web(e){
                    var resultado = e.target.result;

                    zonadatos.innerHTML = resultado;
                }
                function mostrar_en_array(e){
                    var resultado = e.target.result;
                    var datos = new Array();
                    datos = resultado.split("\n");
                    zonadatos.innerHTML = "";
                    for (var i = 0; i < datos.length; i++) {

                        zonadatos.innerHTML += datos[i] + "<br>";
                    }
                }
            }


        </script>
    </body>
</html>