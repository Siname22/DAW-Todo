<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>UT3_Practica2</title>
</head>
    <body>
        <h1> UT3 Practica 2 </h1>

        <h2>Ejercicio 1</h2>
            <input type="button" value="Ejercicio 1"
                   onclick="ejercicio1('https://aulavirtual3.educa.madrid.org/ies.lagunadejoatzel.getafe/course/view.php?id=616')"/>
        <br>
        <h2> Ejercicio 2</h2>
        <form>
            <input type="button" value="Atras" onClick="history.back()">
            <input type="button" value="Adelante" onClick="history.forward();">
        </form>

        <h2>Ejercicio 3</h2>
            <input type="button" value="Ejercicio 3"
                   onclick="ejercicio3('https://aulavirtual3.educa.madrid.org/ies.lagunadejoatzel.getafe/course/view.php?id=616')"/>
        <br>

        <h2>Ejercicio 4</h2>
        <input type="button" id="btnAbrirVentanaPadre" value="Abrir Ventana Padre" onclick="abrirVentanaPadre()"/>
        <br>

        <script>
            //Ejercicio1: Crea una ventana que se abra con el aula virtual del curso DWEC en Educamadrid y posicionala con
            // su esquina superior-izq en el centro exacto de tu pantalla.
            //ejercicio1(url);
            function ejercicio1(url){
                window.open(url, "ejercicio1", "width=1000, height=500, top=0, right=960");
            }

            /*Ejericicio tres:
            Realizar una aplicación en JavaScript que realice lo siguiente:

                Abra una nueva ventana no redimensionable.

                Hacer una función y dentro de esa función:
                    Escribir en la nueva ventana <h3>Ejemplo de Ventana Nueva</h3>
                    URL Completa: XXXXX
                    Protocolo utilizado: XXXXX
                    Nombre en código del navegador: XXXXX
                    Que detecte si está JAVA disponible en esa ventana del navegador y si es así que escriba:
                    Java SI disponible en esta ventana, o bien.
                    Java NO disponible en esta ventana.

                Y ahora fuera del código de la función que siga haciendo lo siguiente:
                    Que escriba en la ventana principal <h1>TAREA DliC03</H2><HR />
                    Que solicite: introduzca su nombre y apellidos.
                    Que solicite: introduzca DIA de nacimiento.
                    Que solicite: introduzca MES de nacimiento.
                    Que solicite: introduzca AÑO de nacimiento.

                Una vez solicitados esos datos imprimirá en la ventana principal:
                    Buenos dias XXXXX
                    Tu nombre tiene XX caracteres, incluidos espacios.
                    La primera letra A de tu nombre está en la posición: X
                    La última letra A de tu nombre está en la posición: X
                    Tu nombre menos las 3 primeras letras es: XXXXXXXX
                    Tu nombre todo en mayúsculas es: XXXXXXXX
                    Tu edad es: XX años.
                    Naciste un feliz XXXXXX del año XXXX.
                    El coseno de 180 es: XXXXXXXXXX
                    El número mayor de (34,67,23,75,35,19) es: XX
                    Ejemplo de número al azar: XXXXXXXXXX
                Donde aparecen las XXXX tendrá que aparecer el cálculo o texto que corresponda.
             */
            function ejercicio3(url){

                window.open(url, "noRedimensionable", "height=200,width=200,resizable=false");

                var abrirVentana = function() {
                    var ventana = window.open("","ventana1","width=300,height=300");
                    ventana.document.body.innerHTML = "<h3>Ejemplo de Ventana Nueva</h3>";
                    ventana.document.body.innerHTML += "<p>" + ventana.document.location.href + "</p>";
                    ventana.document.body.innerHTML += "<p>" + ventana.document.location.protocol + "</p>";
                    ventana.document.body.innerHTML += "<p>" + window.clientInformation.appVersion + "</p>";
                    ventana.document.body.innerHTML += "<p>" + (window.navigator.javaEnabled() ? "Java SI disponible en esta ventana" : "Java NO disponible en esta ventana") + "</p>";
                };
                abrirVentana();



                window.document.body.innerHTML += "<h1>TAREA DliC03</H2><HR />";
                window.document.body.innerHTML += "<label>Introduzca su Nombre y Apellidos.<input id='nombre' type='text'/></label><br/>";
                window.document.body.innerHTML += "<label>Introduzca DIA de nacimiento.<input id='dia' type='number'/></label><br/>";
                window.document.body.innerHTML += "<label>Introduzca MES de nacimiento (en numero).<input id='mes' type='number'/></label><br/>";
                window.document.body.innerHTML += "<label>Introduzca AÑO de nacimiento.<input id='anio' type='number'/></label><br/>";
                window.document.body.innerHTML += "<input type='button' value='ENVIAR' onclick='ejercicio3_2();'>";
            }

            function ejercicio3_2() {
                var nuevoContenido = "<hr/>";
                var nombreObtenido = document.getElementById("nombre").value;
                var nombre ;
                if (nombreObtenido === ""){
                    alert("Escribe tu nombre");
                    return;
                }else{
                    nombre = nombreObtenido.toLowerCase();
                }

                var anio = document.getElementById("anio").value;
                var anioActual = new Date().getFullYear();
                if(anio === "" || anio < 1800 || anio > anioActual){
                    alert("Año incorrecto, escribalo de nuevo");
                    return;
                }


                var dia = document.getElementById("dia").value;
                if (dia === "" ||dia < 1 || dia > 31){
                    alert("Dia incorrecto, escribalo de nuevo");
                    return;
                }

                var mes = document.getElementById("mes").value;
                if (mes ==="" || mes < 1 || mes > 12){
                    alert("Mes incorrecto, escribalo de nuevo");
                    return;
                }
                var numAzar = Math.random();

                //Para poner el dia de la semana que naciste (letra)
                var fechaNac = new Date(dia,mes,anio);
                var diaSemana = fechaNac.getDay();
                const dias = [
                    'Domingo',
                    'Lunes',
                    'Martes',
                    'Miércoles',
                    'Jueves',
                    'Viernes',
                    'Sábado',
                ];
                 var diaLetra = dias[diaSemana];

                 //Poner mes en letra
                var mesLetra;
                var meses = [
                    "Enero",
                    "Febrero",
                    "Marzo",
                    "Abril",
                    "Mayo",
                    "Junio",
                    "Julio",
                    "Agosto",
                    "Septiembre",
                    "Octubre",
                    "Noviembre",
                    "Diciembre"
                ];
                function convertir() {
                    var numeroMes = mes;
                    if(! isNaN(numeroMes) && numeroMes >= 1  && numeroMes <= 12 ) {
                        mes= meses[numeroMes - 1];
                        mesLetra = mes;
                    }
                }

                convertir();




                nuevoContenido += "Buenos dias " + nombreObtenido + "<br/>";
                nuevoContenido += "Tu nombre tiene " + nombre.length + " caracteres, incluidos espacios.<br/>";
                nuevoContenido += "La primera letra A de tu nombre está en la posición:" + nombre.indexOf("a") +  "<br/>";
                nuevoContenido += "La última letra A de tu nombre está en la posición: " + nombre.lastIndexOf("a") + "<br/>";
                nuevoContenido += "Tu nombre menos las 3 primeras letras es: " + nombre.slice(3,nombre.length) +"<br/>";
                nuevoContenido += "Tu nombre todo en minúscula es: " + nombre.toLowerCase() +"<br/>";
                nuevoContenido += "Tu nombre todo en mayúsculas es: " + nombre.toUpperCase() + "<br/>";
                nuevoContenido += "Tu edad es: " + (anioActual - anio) + " años " + "<br/>";
                nuevoContenido += "Naciste un feliz "+ diaLetra + ", " + dia + " de " + mesLetra + " del año: " + anio + ".<br/>";
                nuevoContenido += "El coseno de 180 es: " + Math.cos((180 * Math.PI)/180) +"<br/>";
                nuevoContenido += "Ejemplo de número al azar: " + numAzar +"<br/>";
                nuevoContenido += "El número mayor de (34,67,23,75,35,19) es: " + Math.max(34,67,23,75,35,19)+"<br/>";


                window.document.body.innerHTML += nuevoContenido;
            };


            /*Desde una ventalla llamada padre se deberá abrir una ventana llamada hija.
            Cada ventana deberá poder enviar un mensaje a la otra y que se visualice dicho mensaje
            en la ventana destino. (comunicación bidireccional).
            Nota: Será necesario utilizar xampp para alojar los ficheros html y js que crees.
            */

            function abrirVentanaPadre(){
                var ventanaPadre = window.open("ejercicio4_padre.html","ventanaPadre","width=300, height=300");
            };
        </script>
    </body>
</html>