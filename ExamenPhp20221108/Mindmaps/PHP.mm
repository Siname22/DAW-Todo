<map version="freeplane 1.9.13">
<!--To view this file, download free mind mapping software Freeplane from https://www.freeplane.org -->
<node TEXT="PHP" FOLDED="false" ID="ID_397824395" CREATED="1260913320728" MODIFIED="1447271947795"><hook NAME="MapStyle" zoom="1.771">
    <properties show_icon_for_attributes="true" edgeColorConfiguration="#808080ff,#ff0000ff,#0000ffff,#00ff00ff,#ff00ffff,#00ffffff,#7c0000ff,#00007cff,#007c00ff,#7c007cff,#007c7cff,#7c7c00ff" show_note_icons="true" fit_to_viewport="false"/>

<map_styles>
<stylenode LOCALIZED_TEXT="styles.root_node" STYLE="oval" UNIFORM_SHAPE="true" VGAP_QUANTITY="24 pt">
<font SIZE="24"/>
<stylenode LOCALIZED_TEXT="styles.predefined" POSITION="right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="default" ID="ID_657186184" COLOR="#000000" STYLE="fork">
<arrowlink SHAPE="CUBIC_CURVE" COLOR="#000000" WIDTH="2" TRANSPARENCY="200" DASH="" FONT_SIZE="9" FONT_FAMILY="SansSerif" DESTINATION="ID_657186184" STARTARROW="NONE" ENDARROW="DEFAULT"/>
<font NAME="SansSerif" SIZE="10" BOLD="false" ITALIC="false"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.details"/>
<stylenode LOCALIZED_TEXT="defaultstyle.attributes">
<font SIZE="9"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.note" COLOR="#000000" BACKGROUND_COLOR="#ffffff" TEXT_ALIGN="LEFT"/>
<stylenode LOCALIZED_TEXT="defaultstyle.floating">
<edge STYLE="hide_edge"/>
<cloud COLOR="#f0f0f0" SHAPE="ROUND_RECT"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.selection" BACKGROUND_COLOR="#ccffff" BORDER_COLOR_LIKE_EDGE="false" BORDER_COLOR="#002080"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.user-defined" POSITION="right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="styles.topic" COLOR="#18898b" STYLE="fork">
<font NAME="Liberation Sans" SIZE="10" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.subtopic" COLOR="#cc3300" STYLE="fork">
<font NAME="Liberation Sans" SIZE="10" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.subsubtopic" COLOR="#669900">
<font NAME="Liberation Sans" SIZE="10" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.important">
<icon BUILTIN="yes"/>
</stylenode>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.AutomaticLayout" POSITION="right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="AutomaticLayout.level.root" COLOR="#000000" STYLE="oval" SHAPE_HORIZONTAL_MARGIN="10 pt" SHAPE_VERTICAL_MARGIN="10 pt">
<font SIZE="18"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,1" COLOR="#0033ff">
<font SIZE="16"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,2" COLOR="#00b439">
<font SIZE="14"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,3" COLOR="#990000">
<font SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,4" COLOR="#111111">
<font SIZE="10"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,5"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,6"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,7"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,8"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,9"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,10"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,11"/>
</stylenode>
</stylenode>
</map_styles>
</hook>
<node TEXT="PHP - TEORÍA" POSITION="right" ID="ID_1746577332" CREATED="1347289001087" MODIFIED="1521139803575" STYLE="bubble">
<font NAME="Arial Narrow" SIZE="12" BOLD="true"/>
<node TEXT="ALAIN FERNÁNDEZ" ID="ID_1051326097" CREATED="1347288993817" MODIFIED="1637835402287" STYLE="bubble">
<font NAME="Arial Narrow" SIZE="12" BOLD="true"/>
<node TEXT="@ IES LAGUNA DE JOATZEL (GETAFE)" ID="ID_898047724" CREATED="1347288993817" MODIFIED="1637835398407" STYLE="bubble">
<font NAME="Arial Narrow" SIZE="12" BOLD="true"/>
</node>
</node>
</node>
<node TEXT="IAW2" POSITION="right" ID="ID_613589068" CREATED="1632736334831" MODIFIED="1632736343648">
<icon BUILTIN="info_acciвn"/>
</node>
<node TEXT="recursos PHP" FOLDED="true" POSITION="right" ID="ID_684937512" CREATED="1446115156465" MODIFIED="1573030892409">
<node TEXT="www.php.net" ID="ID_158488882" CREATED="1275120834488" MODIFIED="1414434456189" LINK="http://www.php.net">
<node TEXT="web oficial" ID="ID_1115416659" CREATED="1275120886818" MODIFIED="1380218440780"/>
</node>
<node TEXT="www.phptherightway.com" ID="ID_1928264433" CREATED="1446115165080" MODIFIED="1446115167828" LINK="http://www.phptherightway.com/">
<node TEXT="MUCHA INFO MUY INTERESANTE Y RESUMIDA" ID="ID_1370725755" CREATED="1606477128291" MODIFIED="1606477137401">
<icon BUILTIN="bookmark"/>
</node>
<node TEXT="en PHP las cosas se pueden hacer de muchas (demasiadas) maneras; este sitio pretende estandarizar un poco todo eso" ID="ID_867750921" CREATED="1446115168349" MODIFIED="1446115198332"/>
</node>
<node TEXT="www.w3schools.com/php" ID="ID_563661153" CREATED="1380218441751" MODIFIED="1414434456190" LINK="http://www.w3schools.com/php/">
<node TEXT="referencia de funciones y tutoriales MUY BUENOS" ID="ID_289281439" CREATED="1380218459351" MODIFIED="1380218469940"/>
<node TEXT="pero en inglés. Traducible con Google, pero no es una traducción perfecta" ID="ID_1066377921" CREATED="1380218470175" MODIFIED="1380218489971"/>
</node>
<node ID="ID_459617110" CREATED="1600855222358" MODIFIED="1600855222358" LINK="https://www.stackoverflow.com"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      https://www.stackoverflow.com
    </p>
  </body>
</html>
</richcontent>
<node TEXT="preguntas y respuestas" ID="ID_1315628131" CREATED="1442431711957" MODIFIED="1442431717247"/>
<node TEXT="si sale entre los resultados, dadle una oportunidad" ID="ID_990424878" CREATED="1442431797235" MODIFIED="1442431811351"/>
</node>
</node>
<node TEXT="aspectos&#xa;básicos" FOLDED="true" POSITION="right" ID="ID_1439237891" CREATED="1275132076746" MODIFIED="1573030892464">
<node TEXT="PHP es un lenguaje de entorno servidor libre y gratuito" ID="ID_1687524640" CREATED="1361584941646" MODIFIED="1414434456185">
<node TEXT="es análogo a JSP o ASP (son tecnlogías distintas que sirven para lo mismo)" ID="ID_610981581" CREATED="1361584961207" MODIFIED="1361585001891"/>
</node>
<node TEXT="su sintaxis es muy parecida a la de C/C++ (o Java...)" ID="ID_686849354" CREATED="1361585013553" MODIFIED="1632392009906">
<node TEXT="las diferencias más inmediatas con estos lenguajes consisten en que" ID="ID_1218889289" CREATED="1361585042960" MODIFIED="1414434456318">
<node TEXT="las variables no se declaran y su tipo no es fijo: puede ir cambiando" ID="ID_1673846392" CREATED="1361585052688" MODIFIED="1361585079430"/>
<node TEXT="los nombres de las $variables comienzan por el símbolo $" ID="ID_214476431" CREATED="1361585080402" MODIFIED="1632392076071"/>
<node TEXT="los strings pueden delimitarse &quot;así&quot; ó &apos;así&apos;" ID="ID_1681823986" CREATED="1632392076354" MODIFIED="1632392082632"/>
<node TEXT="la concatenación de strings se hace con el símbolo de punto . y NO con el más +" ID="ID_171519650" CREATED="1365100041352" MODIFIED="1365100056333"/>
<node TEXT="además de arrays escalares (normales) hay arrays &quot;asociativos&quot;, en los que el índice del array es un String, a modo de identificador, asociado a un valor (es básicamente equivalente a un Map)" ID="ID_1579190044" CREATED="1361585116547" MODIFIED="1632392203380"/>
</node>
</node>
<node TEXT="la tarea de un PHP es devolver HTML al cliente" ID="ID_471852862" CREATED="1361585460947" MODIFIED="1361585470267"/>
<node TEXT="PHP está embebido (incrustado) en código HTML" ID="ID_1985340537" CREATED="1275122296859" MODIFIED="1414434456205">
<node TEXT="delimitado por marcadores especiales" ID="ID_1144840931" CREATED="1275122304745" MODIFIED="1275122309599"/>
</node>
<node TEXT="se van intercalando partes de &quot;mundo HTML&quot;" ID="ID_439779871" CREATED="1380222108861" MODIFIED="1571657927969">
<node ID="ID_1966883680" CREATED="1571657928172" MODIFIED="1571657928172"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      y partes de &quot;Mundo PHP&quot;
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node TEXT="para ello, hay dos opciones" ID="ID_31415910" CREATED="1361585482424" MODIFIED="1414434456343">
<node TEXT="poner directamente el código HTML en el fichero PHP pero SIN incluirlo dentro de las etiquetas de &lt;?php ... ?&gt;" ID="ID_1829664149" CREATED="1361585486762" MODIFIED="1361585508554"/>
<node TEXT="o utilizar código PHP para ello" ID="ID_1871990915" CREATED="1361585510573" MODIFIED="1602064165629"/>
</node>
<node TEXT="resumen de cómo&#xa;producir HTML desde PHP" ID="ID_904101371" CREATED="1602060059096" MODIFIED="1602064130637">
<node TEXT="sentencias" ID="ID_798182556" CREATED="1602060060175" MODIFIED="1602060061933">
<node TEXT="&lt;?php&#xa;    echo &quot;¡Hola!&quot;;&#xa;    echo &quot;El resultado es &quot; . (17+5);&#xa;?&gt;" ID="ID_959519817" CREATED="1602060175917" MODIFIED="1648543810135"/>
</node>
<node TEXT="expresiones" ID="ID_1451700902" CREATED="1602060062081" MODIFIED="1602060063600">
<node TEXT="&lt;?= &quot;El resultado es &quot; . (17+5) ?&gt;" ID="ID_395963506" CREATED="1602064073304" MODIFIED="1602064112603"/>
</node>
</node>
<node TEXT="detalle" ID="ID_387314025" CREATED="1275122315454" MODIFIED="1602065401673">
<node TEXT="funciona por defecto" ID="ID_873696130" CREATED="1361585237557" MODIFIED="1414434456344">
<node TEXT="&lt;?php Sentencias PHP; ?&gt;" ID="ID_767217746" CREATED="1275122337411" MODIFIED="1521139800395">
<icon BUILTIN="z_tag_blue"/>
<node TEXT="contiene SENTENCIAS PHP" ID="ID_441335272" CREATED="1410884315189" MODIFIED="1410884375759"/>
</node>
</node>
<node TEXT="para estas, puede hacer&#xa;falta configurar el servidor&#xa;(Short open tag y&#xa;ASP style tag)&#xa;(PERO OJO: ESTÁ&#xa;DESACONSEJADO)" ID="ID_434642536" CREATED="1360866526886" MODIFIED="1442860915103">
<node TEXT="&lt;? Sentencias PHP; ?&gt;&#xa;                  ó&#xa;&lt;% Sentencias PHP; %&gt;" ID="ID_1640708742" CREATED="1410884362829" MODIFIED="1521139800391">
<icon BUILTIN="z_tag_blue"/>
<node TEXT="contiene SENTENCIAS PHP" ID="ID_81017998" CREATED="1410884315189" MODIFIED="1410884492901"/>
<node TEXT="es como si fuera(n) frase(s) con su verbo incluido" ID="ID_136504021" CREATED="1410884492900" MODIFIED="1521139803499">
<node TEXT="&quot;Hagamos tal cosa con tal valor&quot;" ID="ID_1652745085" CREATED="1410884478669" MODIFIED="1410884519821"/>
</node>
</node>
</node>
<node TEXT="para expresiones" ID="ID_1057272865" CREATED="1552945757733" MODIFIED="1552945762024">
<node TEXT="&lt;?= expresión_PHP ?&gt;&#xa;                  ó&#xa;&lt;%= expresión_PHP %&gt;" ID="ID_716550532" CREATED="1410884362829" MODIFIED="1602064192448">
<icon BUILTIN="z_tag_red"/>
<node TEXT="contiene UNA ***EXPRESIÓN*** PHP" ID="ID_694578272" CREATED="1410884315189" MODIFIED="1410884395169"/>
<node TEXT="es como si fuera un sustantivo" ID="ID_1145058231" CREATED="1410884525519" MODIFIED="1521139803498">
<node TEXT="&quot;Tal valor&quot;" ID="ID_1663759156" CREATED="1410884534670" MODIFIED="1410884539801"/>
</node>
<node TEXT="equivale a hacer un &quot;echo&quot; (sacar a la página) con el valor que ahí se ponga" ID="ID_34191836" CREATED="1410884422859" MODIFIED="1410884557221"/>
</node>
</node>
<node TEXT="etiqueta script (no se usa)" ID="ID_1450779545" CREATED="1361585223762" MODIFIED="1414434456347">
<node TEXT="&lt;script language=&quot;PHP&quot;&gt; Sentencias PHP &lt;/script&gt;" ID="ID_1262835967" CREATED="1275122316492" MODIFIED="1275122331329"/>
</node>
<node TEXT="por ejemplo, estas dos líneas hacen lo mismo" ID="ID_564348383" CREATED="1365100556749" MODIFIED="1414434456348">
<icon BUILTIN="atención_!!"/>
<node TEXT="&lt;p&gt;La suma da &lt;?php echo 10+20; ?&gt;.&lt;/p&gt;" ID="ID_719654667" CREATED="1365100569159" MODIFIED="1552945873949"/>
<node TEXT="&lt;p&gt;La suma da &lt;?= 10+20 ?&gt;.&lt;/p&gt;" ID="ID_1282991786" CREATED="1365100569159" MODIFIED="1600856391642"/>
</node>
</node>
<node TEXT="pasar parámetros a los scripts" ID="ID_1214345155" CREATED="1442862807222" MODIFIED="1442862851994">
<node TEXT="si cargamos así un script..." ID="ID_837979258" CREATED="1442862880101" MODIFIED="1442862894242">
<node TEXT="script.php?modo=b&amp;cantidad=17" ID="ID_261392125" CREATED="1442862852317" MODIFIED="1617785769435"/>
</node>
<node TEXT="...podemos recuperar el dato así desde PHP" ID="ID_1922640351" CREATED="1442862887917" MODIFIED="1442862907930">
<node TEXT="$modo = $_REQUEST[&quot;modo&quot;];" ID="ID_1756566131" CREATED="1442862895157" MODIFIED="1600856591346"/>
<node TEXT="$cantidad = (int)$_REQUEST[&quot;cantidad&quot;];" ID="ID_912496386" CREATED="1442862895157" MODIFIED="1602060905452"/>
</node>
</node>
</node>
<node TEXT="estándar de formato/código" FOLDED="true" POSITION="right" ID="ID_1068402278" CREATED="1574333977717" MODIFIED="1606477216230">
<node TEXT="PSR12" ID="ID_1396536626" CREATED="1606474609226" MODIFIED="1606474611557">
<node TEXT="es un estándar de sintaxis para PHP" ID="ID_730248174" CREATED="1602061228639" MODIFIED="1602061237253"/>
<node TEXT="https://www.php-fig.org/psr/psr-12/" ID="ID_1442126530" CREATED="1574333973448" MODIFIED="1574333973448" LINK="https://www.php-fig.org/psr/psr-12/"/>
</node>
</node>
<node TEXT="UTF8, etc." FOLDED="true" POSITION="right" ID="ID_1924483537" CREATED="1606475091484" MODIFIED="1606475095452">
<node TEXT="cadenas multibyte para UTF8..." ID="ID_386857960" CREATED="1606475099320" MODIFIED="1606475105654">
<node ID="ID_101546937" CREATED="1606474636093" MODIFIED="1606474636093" LINK="https://phptherightway.com/#php_and_utf8"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      https://phptherightway.com/#php_and_utf8
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
<node TEXT="instalación y config. de&#xa;XAMPP/PhpStorm/MySQL" FOLDED="true" POSITION="right" ID="ID_560545200" CREATED="1360941993238" MODIFIED="1602064060376">
<node TEXT="Para que funcionen los&#xa;PHPs en casa necesitáis:" FOLDED="true" ID="ID_228646396" CREATED="1411582436285" MODIFIED="1414434456191">
<node TEXT="un navegador web" ID="ID_1274730068" CREATED="1411582436287" MODIFIED="1411582737316">
<icon BUILTIN="z_bullet_black"/>
</node>
<node TEXT="XAMPP (que contiene el servidor Web Apache con PHP instalado dentro)" ID="ID_1519247559" CREATED="1411582436287" MODIFIED="1411582737315">
<icon BUILTIN="z_bullet_black"/>
</node>
<node TEXT="PhpStorm, que es un &quot;IDE&quot;, es decir, un editor avanzado que nos facilita la vida." ID="ID_511504117" CREATED="1411582436288" MODIFIED="1442856493097">
<icon BUILTIN="z_bullet_black"/>
</node>
</node>
<node TEXT="XAMPP" FOLDED="true" ID="ID_989182814" CREATED="1411583798507" MODIFIED="1521139803570">
<node TEXT="os paso un instalador de XAMPP" ID="ID_664487838" CREATED="1443111366570" MODIFIED="1574682401203"/>
<node TEXT="instalarlo" ID="ID_63685831" CREATED="1381169427572" MODIFIED="1443111340996">
<node TEXT="usad la versión que os indico YO" ID="ID_590537189" CREATED="1409699524570" MODIFIED="1521139800459">
<node TEXT="NO cojáis una versión de internet porque no será la misma versión, etc." ID="ID_1055754680" CREATED="1381169412175" MODIFIED="1411582567455"/>
</node>
<node TEXT="instalar es Siguiente, Siguiente... Todo por defecto." ID="ID_1380696353" CREATED="1381169430389" MODIFIED="1411582634391"/>
</node>
<node TEXT="configurarlo" ID="ID_402305292" CREATED="1381169454946" MODIFIED="1414434456322">
<node TEXT="abrir XAMPP" ID="ID_1944487086" CREATED="1360941344801" MODIFIED="1411582778814"/>
<node TEXT="Apache" ID="ID_1643550115" CREATED="1381169475460" MODIFIED="1633419576226">
<node TEXT="configurar la raíz/htdocs&#xa;del servidor Apache" ID="ID_315604316" CREATED="1365100369462" MODIFIED="1633419608729">
<node TEXT="(esto solo hay que hacerlo una vez, al instalar XAMPP)" ID="ID_1381601515" CREATED="1411582785865" MODIFIED="1411582797933"/>
<node TEXT="darle al botón Config de Apache" ID="ID_1688853151" CREATED="1381169523234" MODIFIED="1521139803569">
<node TEXT="y luego &quot;Open conf file&quot; o &quot;Apache (httpd.conf)&quot;" ID="ID_1754717887" CREATED="1381169534411" MODIFIED="1633419642940"/>
</node>
<node TEXT="se abrirá un fichero de texto de configuración" ID="ID_66927984" CREATED="1381169562288" MODIFIED="1381169571572"/>
<node TEXT="bajar alguna pantalla hasta la opción DocumentRoot, está aprox al 45% del fichero (buscad &quot;DocumentRoot&quot;)" ID="ID_999700246" CREATED="1381169572452" MODIFIED="1633419757101"/>
<node TEXT="en DocumentRoot poner la carpeta que vayamos a utilizar como raíz del servidor" ID="ID_474364686" CREATED="1381169589799" MODIFIED="1521139803568">
<node TEXT="ponerla con las BARRAS NORMALES /, NO CON ANTIBARRAS" ID="ID_1894869394" CREATED="1381169643759" MODIFIED="1411582823126"/>
<node TEXT="la línea quedaría algo como esto:" ID="ID_1087541724" CREATED="1381169658284" MODIFIED="1521139803568">
<node TEXT="DocumentRoot &quot;X:/ASIR2/IAW/htdocs&quot;" ID="ID_697993151" CREATED="1381169602234" MODIFIED="1633419882019">
<icon BUILTIN="z_application_xp_terminal"/>
</node>
</node>
</node>
<node TEXT="justo después viene una etiqueta &lt;Directory ...&gt;. Poner ahí la misma carpeta" ID="ID_62184260" CREATED="1381169673829" MODIFIED="1521139803564">
<node TEXT="también con BARRAS NORMALES /" ID="ID_203539173" CREATED="1381169750058" MODIFIED="1381169754366"/>
<node TEXT="la línea quedaría algo como esto:" ID="ID_1707609230" CREATED="1381169658284" MODIFIED="1521139803566">
<node TEXT="&lt;Directory &quot;X:/ASIR2/IAW/htdocs&quot;&gt;" ID="ID_1345826450" CREATED="1381169763653" MODIFIED="1633419886571">
<icon BUILTIN="z_application_xp_terminal"/>
</node>
</node>
</node>
<node TEXT="IMPORTANTE: EN LINUX HABRÁ QUE DARLE PERMISOS A LA CARPETA NUEVA" ID="ID_1442795127" CREATED="1633419894886" MODIFIED="1633419923471">
<icon BUILTIN="atenciвn_!!"/>
<icon BUILTIN="atenciвn_!!"/>
</node>
<node TEXT="OJO: si en el futuro cambiáis de sitio la carpeta raíz, tenéis que cambiar esto de nuevo" ID="ID_792266532" CREATED="1381169792701" MODIFIED="1411582899213">
<icon BUILTIN="atención_!!"/>
</node>
</node>
<node TEXT="iniciar Apache desde XAMPP" ID="ID_904063854" CREATED="1360941350361" MODIFIED="1521139803543">
<node TEXT="(hay que hacerlo cada vez que iniciemos el PC y vayamos a trabajar con PHP. Luego, se puede dejar todo parado y cerrar el XAMPP)" ID="ID_1397605729" CREATED="1411583738162" MODIFIED="1411583762334"/>
<node TEXT="se hace pulsando el botón Start que hay junto a Apache" ID="ID_1583080839" CREATED="1381169823144" MODIFIED="1411582933789"/>
<node TEXT="debería indicar puertos 80 y 443 y un PID que es un número concreto" ID="ID_1047388048" CREATED="1381169818924" MODIFIED="1381169849619"/>
<node TEXT="(mediante el botón Config se puede establecer que se inicie automáticamente junto con la apertura de XAMPP)" ID="ID_1245181392" CREATED="1442856908864" MODIFIED="1442856937470"/>
</node>
</node>
<node TEXT="PHP" FOLDED="true" ID="ID_385056019" CREATED="1365099392565" MODIFIED="1574682425564">
<icon BUILTIN="button_cancel"/>
<node TEXT="php.ini" ID="ID_1441007367" CREATED="1411583239807" MODIFIED="1521139803514">
<node TEXT="(esto solo hay que hacerlo una vez, al instalar XAMPP)" ID="ID_1491567411" CREATED="1411582785865" MODIFIED="1411583252671"/>
<node TEXT="bastará con que copiéis el php.ini que os doy yo en &quot;xampp\php&quot;, sobreescribiendo el existente" ID="ID_212742617" CREATED="1409699815959" MODIFIED="1411583927606"/>
<node TEXT="esto es lo que habría que hacer en caso de hacerlo a mano&#xa;(NO necesario si ya habéis copiado mi php.ini)" ID="ID_534915331" CREATED="1411583817283" MODIFIED="1521139803520">
<node TEXT="en el PHP.ini (accesible desde Xampp, Config) conviene poner a On estas dos líneas (que están en torno al 10-20% del documento)" ID="ID_1404925374" CREATED="1365099398858" MODIFIED="1409783395419"/>
<node TEXT="" ID="ID_216272161" CREATED="1411583225984" MODIFIED="1521139803532">
<node TEXT="short_open_tag = On" ID="ID_891609560" CREATED="1365099431309" MODIFIED="1365099431309"/>
<node TEXT="asp_tags = On" ID="ID_607639462" CREATED="1365099431313" MODIFIED="1365099431313"/>
</node>
<node TEXT="activar xDebug" ID="ID_162621009" CREATED="1409699715551" MODIFIED="1521139803527">
<node TEXT="hay que hacer lo que dice aquí:" ID="ID_65111493" CREATED="1409699728209" MODIFIED="1521139803528">
<node TEXT="wikihow.com &gt; Configure-XDebug-in-XAMPP-(1.7.2 &gt; Later)-on-Windows" ID="ID_1884379088" CREATED="1409699727277" MODIFIED="1409699727277" LINK="http://www.wikihow.com/Configure-XDebug-in-XAMPP-"/>
</node>
</node>
</node>
</node>
</node>
</node>
</node>
<node TEXT="en PhpStorm" FOLDED="true" ID="ID_1260667347" CREATED="1360941356697" MODIFIED="1446578941110">
<node TEXT="instalarlo si no lo está" ID="ID_1138254678" CREATED="1411583268213" MODIFIED="1574682470427">
<node TEXT="usad la versión que os indico YO" ID="ID_797110079" CREATED="1409699524570" MODIFIED="1521139800438">
<node TEXT="NO cojáis una versión de internet porque no será la misma versión, etc." ID="ID_462176376" CREATED="1381169412175" MODIFIED="1411582567455"/>
</node>
<node TEXT="instalar es Siguiente, Siguiente... Todo por defecto." ID="ID_302473869" CREATED="1381169430389" MODIFIED="1411582634391"/>
</node>
<node TEXT="crear proyecto" ID="ID_1812626995" CREATED="1360941316701" MODIFIED="1521139800437">
<node TEXT="indicar como carpeta una ubicación donde queráis (disco externo, por ejemplo)" ID="ID_944117980" CREATED="1409699631056" MODIFIED="1574682495765"/>
</node>
<node TEXT="crear script" ID="ID_1849844774" CREATED="1360941322228" MODIFIED="1574682506851">
<node ID="ID_1984481191" CREATED="1574682507134" MODIFIED="1574682507134"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      en la ra&#237;z del proyecto, un nuevo fichero PHP &quot;prueba.php&quot;
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="ponerle este contenido" ID="ID_1095959106" CREATED="1411583363126" MODIFIED="1521139800436">
<node TEXT="&lt;?php&#xa;         echo &quot;¡Hola, mundo!&quot;;&#xa;?&gt;" ID="ID_817582664" CREATED="1360941333888" MODIFIED="1574682444790" STYLE="bubble"/>
</node>
</node>
<node TEXT="configurar intérprete&#xa;PHP en PhpStorm" ID="ID_523863975" CREATED="1574682620674" MODIFIED="1574682631022">
<node TEXT="ir a CLI Interpreters" ID="ID_1037350449" CREATED="1574682632085" MODIFIED="1574683301541"/>
<node TEXT="se puede ir de dos maneras:" ID="ID_1342269065" CREATED="1574683301697" MODIFIED="1574683305072">
<node TEXT="si sale un mensaje de &quot;PHP interpreter is not configured&quot;, pulsar en &quot;configure PHP interpreter&quot;" ID="ID_1493628146" CREATED="1574682517521" MODIFIED="1574683318010"/>
<node TEXT="si no, File, Settings, Languages and Frameworks, y pulsar, al lado de &quot;CLI interpreters&quot; los puntos suspensivos [...]" ID="ID_994821186" CREATED="1574683323583" MODIFIED="1574683389409"/>
</node>
<node TEXT="pulsamos el botón &quot;+&quot; para añadir uno y &quot;Other local&quot;" ID="ID_494186759" CREATED="1574682649221" MODIFIED="1574682671443"/>
<node TEXT="PHP executable =" ID="ID_626560945" CREATED="1574682656733" MODIFIED="1574682698246">
<node TEXT="/opt/lampp/bin/php" ID="ID_188098537" CREATED="1574682726661" MODIFIED="1574682727920">
<node TEXT="(esta es la ruta en clase: la vuestra puede ser distinta)" ID="ID_1185754119" CREATED="1574682728634" MODIFIED="1574682738266"/>
</node>
<node TEXT="C:\xampp\php\php.exe" ID="ID_440055792" CREATED="1574682753405" MODIFIED="1574682836897">
<node TEXT="(esta es la probable ruta que será en Windows)" ID="ID_1320849707" CREATED="1574682754749" MODIFIED="1574682764224"/>
</node>
</node>
<node TEXT="(ahí ya tiene que reconocer la versión de PHP y tal)" ID="ID_1594855000" CREATED="1574682852934" MODIFIED="1574682861205"/>
<node TEXT="pulsar OK" ID="ID_683916839" CREATED="1574682917171" MODIFIED="1574682984547"/>
<node TEXT="volvemos a la ventana anterior" ID="ID_1987607453" CREATED="1574682919117" MODIFIED="1574683413493"/>
<node TEXT="poner PHP language level =" ID="ID_1933462248" CREATED="1574682949731" MODIFIED="1574683419685">
<node TEXT="(la misma que el intérprete que tengamos puesto)" ID="ID_1869583328" CREATED="1574682955326" MODIFIED="1574682968701"/>
</node>
<node TEXT="pulsar OK" ID="ID_1176969117" CREATED="1574682979208" MODIFIED="1574683420819"/>
</node>
</node>
<node TEXT="ejecutar ese primer script, pulsando en el icono de Chrome que sale arriba a la derecha" FOLDED="true" ID="ID_170984960" CREATED="1360941430212" MODIFIED="1574683710339">
<node TEXT="http://localhost/prueba.php" ID="ID_1709434018" CREATED="1411582053317" MODIFIED="1411582061603"/>
<node TEXT="debe verse el texto:" ID="ID_25005043" CREATED="1411583374436" MODIFIED="1414434456329">
<node TEXT="¡Hola, mundo!" ID="ID_733699256" CREATED="1411583379509" MODIFIED="1411583388481"/>
</node>
</node>
<node TEXT="configurar xDebug" FOLDED="true" ID="ID_933652686" CREATED="1575289547718" MODIFIED="1575289553309">
<node TEXT="tutorial" ID="ID_167702294" CREATED="1575289555594" MODIFIED="1575289567659">
<node TEXT="sigo esto:" ID="ID_234353241" CREATED="1575289628219" MODIFIED="1575289629657">
<node TEXT="https://7php.com/install-xdebug-xampp/" ID="ID_1212685324" CREATED="1575289626995" MODIFIED="1575289626995" LINK="https://7php.com/install-xdebug-xampp/"/>
</node>
<node TEXT="descargo y pongo el tgz en /tmp" ID="ID_1671901220" CREATED="1575289631627" MODIFIED="1575289655591"/>
<node TEXT="sudo tar -xvzf xdebug-2.8.1.tgz" ID="ID_498997941" CREATED="1575289656294" MODIFIED="1575290823207">
<icon BUILTIN="z_application_xp_terminal"/>
</node>
<node TEXT="cd xdebug-2.8.1" ID="ID_1545617446" CREATED="1575289677764" MODIFIED="1575290823206">
<icon BUILTIN="z_application_xp_terminal"/>
</node>
<node TEXT="sudo /opt/lampp/bin/phpize" ID="ID_319178980" CREATED="1575289685425" MODIFIED="1575290823206">
<icon BUILTIN="z_application_xp_terminal"/>
<node TEXT="(da error &quot;Cannot find autoconf. Please check your autoconf installation and the $PHP_AUTOCONF environment variable. Then, rerun this script.&quot;)" ID="ID_1270056397" CREATED="1575289687759" MODIFIED="1575289932031"/>
</node>
<node TEXT="apt-get install autoconf" ID="ID_219716675" CREATED="1575289556283" MODIFIED="1575290823205">
<icon BUILTIN="z_application_xp_terminal"/>
<node TEXT="(hago esto según stackoverflow; da ok)" ID="ID_1984251196" CREATED="1575289756103" MODIFIED="1575289780498"/>
</node>
<node TEXT="sudo /opt/lampp/bin/phpize" ID="ID_657645535" CREATED="1575289685425" MODIFIED="1575290823205">
<icon BUILTIN="z_application_xp_terminal"/>
<node TEXT="(ahora ya va bien)" ID="ID_1933824927" CREATED="1575289917634" MODIFIED="1575289924007"/>
<node TEXT="--&gt; ANOTAR EL NUMERITO DE &quot;Zend Module Api No&quot;" ID="ID_741217781" CREATED="1575290425884" MODIFIED="1575290445016"/>
</node>
<node TEXT="sudo ./configure -enable-xdebug -with-php-config=/opt/lampp/bin/php-config" ID="ID_1162757405" CREATED="1575289933547" MODIFIED="1575290823204">
<icon BUILTIN="z_application_xp_terminal"/>
<node TEXT="(OJO: en el tutorial los guiones no son el caracter normal de guion sino el guion largo: usar este texto, mejor)" ID="ID_1822323470" CREATED="1575289992307" MODIFIED="1575290014170"/>
</node>
<node TEXT="cp modules/xdebug.so /opt/lampp/lib/php/extensions/no-debug-non-zts-20180731" ID="ID_1953529809" CREATED="1575290405961" MODIFIED="1575290823202">
<icon BUILTIN="z_application_xp_terminal"/>
<node TEXT="&lt;-- SUSTITUIR POR EL NUMERITO ANOTADO ANTES" ID="ID_31399094" CREATED="1575290407425" MODIFIED="1575290457116"/>
</node>
<node TEXT="(aquí pide añadir una línea al php.ini pero esta adición está incluida en lo de a continuación)" ID="ID_1696489303" CREATED="1575292051339" MODIFIED="1575292139264"/>
</node>
<node TEXT="abrir php.ini (está en /opt/lampp/etc) y añadir estas líneas al final (SUSTITUIR EL NUMERITO)" ID="ID_1410431438" CREATED="1575290808908" MODIFIED="1575292146250">
<node TEXT="[zend]&#xa;zend_extension=/opt/lampp/lib/php/extensions/no-debug-non-zts-20180731/xdebug.so&#xa;&#xa;[xdebug]&#xa;xdebug.extended_info=1&#xa;xdebug.max_nesting_level=1000&#xa;xdebug.profiler_enable = 1&#xa;xdebug.profiler_enable_trigger = 1&#xa;xdebug.remote_enable=1&#xa;xdebug.remote_host = “127.0.0.1”&#xa;xdebug.idekey=”PHPSTORM”&#xa;xdebug.remote_port=9000&#xa;xdebug.remote_handler = “dbgp”&#xa;xdebug.remote_mode = “req”&#xa;xdebug.remote_log=”/opt/lampp/logs/xdebug.log”&#xa;xdebug.show_local_vars=1&#xa;xdebug.trace_output_dir = “/opt/lampp/tmp”&#xa;xdebug.var_display_max_data=1000&#xa;xdebug.var_display_max_depth=1" ID="ID_1408663211" CREATED="1575292149371" MODIFIED="1575448211106"/>
</node>
<node TEXT="(errores)" ID="ID_1521591293" CREATED="1575448211753" MODIFIED="1575448214154">
<node TEXT="al principio tenía puestas comillas en la siguiente línea, y fallaba (logs/php_error_log)" ID="ID_1840844982" CREATED="1575448214702" MODIFIED="1575448264032">
<node TEXT="zend_extension=&quot;____&quot;" ID="ID_947502190" CREATED="1575448264280" MODIFIED="1575448268719"/>
</node>
<node TEXT="OJO: ¡las comillas son &quot;torcidas&quot;! Es un caracter diferente." ID="ID_1943373696" CREATED="1575448397217" MODIFIED="1575448417291"/>
</node>
<node TEXT="reiniciar Apache" ID="ID_1772295110" CREATED="1575290857167" MODIFIED="1575290862404"/>
<node TEXT="en PhpStorm" ID="ID_691883524" CREATED="1575291184291" MODIFIED="1575291194359">
<node TEXT="sigo esto (mitad de la página, &quot;Integrando Xdebug en PhpStorm&quot;):" ID="ID_1663622683" CREATED="1575291194641" MODIFIED="1575291221796">
<node TEXT="https://medium.com/@bastian_af/xdebug-en-xampp-php-storm-config-windows-273f5ccd71c8" ID="ID_1557578473" CREATED="1575291202299" MODIFIED="1575291202299" LINK="https://medium.com/@bastian_af/xdebug-en-xampp-php-storm-config-windows-273f5ccd71c8"/>
</node>
<node TEXT="NO marco lo de &quot;filter debug connection by IDE key&quot;" ID="ID_259365060" CREATED="1575291470377" MODIFIED="1575291475686"/>
</node>
</node>
<node TEXT="phpmyadmin" FOLDED="true" ID="ID_552951245" CREATED="1575976853373" MODIFIED="1575976858245">
<node TEXT="no me abría, me decía &quot;Permisos incorrectos en el archivo de configuración ¡Cualquiera no debería poder modificarlo!&quot;" ID="ID_1459477290" CREATED="1575976878351" MODIFIED="1575976933036"/>
<node TEXT="y es que el archivo de configuración de phpmyadmin tenía permisos 777" ID="ID_1950667873" CREATED="1575976934381" MODIFIED="1575976947903"/>
<node TEXT="solución:" ID="ID_1494144978" CREATED="1575976948058" MODIFIED="1575976950553">
<node TEXT="sudo chmod 0755 /opt/lampp/phpmyadmin/config.inc.php" ID="ID_1983908982" CREATED="1575976859465" MODIFIED="1575976875360">
<icon BUILTIN="z_application_xp_terminal"/>
</node>
</node>
</node>
<node TEXT="config MySQL (para más adelante)" FOLDED="true" ID="ID_843090664" CREATED="1383853512673" MODIFIED="1414434456197">
<node TEXT="en CLASE" ID="ID_189714628" CREATED="1383853582625" MODIFIED="1414434456329">
<node TEXT="el MySQL de XAMPP utiliza lo siguiente como carpeta para guardar los datos (para que no se pierdan):" ID="ID_924406178" CREATED="1383853516640" MODIFIED="1521139800429">
<icon BUILTIN="atención_!!"/>
<icon BUILTIN="atención_!!"/>
<node TEXT="D:\Grupo tarde\IAW\Datos MySQL" ID="ID_1569995760" CREATED="1383853576697" MODIFIED="1383853576697"/>
</node>
</node>
<node TEXT="en CASA" ID="ID_777471127" CREATED="1383853577615" MODIFIED="1414434456330">
<node TEXT="el MySQL de XAMPP utilizará la carpeta por defecto, que es:" ID="ID_428919859" CREATED="1383853585056" MODIFIED="1521139800427">
<icon BUILTIN="atención_!!"/>
<node TEXT="C:\xampp\mysql\data" ID="ID_1489968317" CREATED="1383853616207" MODIFIED="1383853616207"/>
</node>
</node>
<node TEXT="por tanto" ID="ID_1992233138" CREATED="1383853617336" MODIFIED="1414434456331">
<node TEXT="si os lleváis los datos de MySQL a casa, o viceversa, tendréis que copiar entre estas dos carpetas (con MySQL CERRADO)" ID="ID_1859698617" CREATED="1383853620376" MODIFIED="1409783412591">
<icon BUILTIN="atención_!!"/>
</node>
</node>
<node TEXT="(¿cómo se ha configurado el cambio de carpeta de datos?)" ID="ID_1551458394" CREATED="1446062675793" MODIFIED="1446063327993">
<icon BUILTIN="info_informaciвn       "/>
<node TEXT="modificar el fichero de configuración de MySQL, my.ini,&#xa;y establecer la nueva ruta (por defecto tendrá c:\xampp\mysql\bin):" ID="ID_736275111" CREATED="1446062693234" MODIFIED="1521139800424">
<node TEXT="(línea ~30) datadir" ID="ID_1983242811" CREATED="1446062694209" MODIFIED="1446062777668"/>
<node TEXT="(línea ~140) innodb_data_home_dir" ID="ID_1142900738" CREATED="1446062767831" MODIFIED="1446062786548"/>
<node TEXT="(línea ~140) innodb_log_group_home_dir" ID="ID_456651417" CREATED="1446062767831" MODIFIED="1446062803446"/>
<node TEXT="(línea ~140) #innodb_log_arch_dir" ID="ID_1701068197" CREATED="1446062821951" MODIFIED="1521139803507">
<node TEXT="(la línea está comentada pero no está de más cambiarla para evitar malentendidos)" ID="ID_531279270" CREATED="1446062831135" MODIFIED="1446062851976">
<font NAME="SansSerif" SIZE="12" ITALIC="true"/>
</node>
</node>
</node>
</node>
</node>
</node>
<node TEXT="errores y problemas frecuentes" FOLDED="true" POSITION="right" ID="ID_76994381" CREATED="1380824496072" MODIFIED="1573030902589">
<node TEXT="si Apache no arranca" FOLDED="true" ID="ID_622419806" CREATED="1411407848327" MODIFIED="1414434456199">
<node TEXT="mirar carpeta DocumentRoot y Directory existe (debe indicarse la misma ruta en ambas)" ID="ID_416087543" CREATED="1411407881279" MODIFIED="1411407925405"/>
<node TEXT="en dichas rutas, poner las barras así / y no así \" ID="ID_1136514709" CREATED="1411407929447" MODIFIED="1411407943013"/>
<node TEXT="mirar posibles puertos ocupados y configurar las aplicaciones causantes para que no los usen, o parar los servicios que los usen" ID="ID_496441875" CREATED="1411407858544" MODIFIED="1411583052182"/>
<node TEXT="habituales" ID="ID_866623485" CREATED="1381169867643" MODIFIED="1414434456333">
<node TEXT="el VMWare suele ocupar el 443" ID="ID_1956076355" CREATED="1381169873252" MODIFIED="1521139800418">
<node TEXT="en este caso, parar servicios relativos a VMWare (si queremos pararlos permanentemente, poner los servicios en Inicio Manual desde Herramientas Administrativas)" ID="ID_1064171090" CREATED="1381169888579" MODIFIED="1381169953492"/>
</node>
<node TEXT="Windows trae a menudo el servidor&#xa;IIS activado, que ocupa el 80 y el 443" ID="ID_144713068" CREATED="1381169993801" MODIFIED="1521139800414">
<node TEXT="en este caso, parar servicios relacionados, &quot;Servicio de Publicación World Wide Web&quot; y quizá alguno más" ID="ID_1887629838" CREATED="1381170012599" MODIFIED="1381170068558"/>
</node>
<node TEXT="Oracle suele ocupar puertos también" ID="ID_890745488" CREATED="1381170069859" MODIFIED="1521139800411">
<node TEXT="solución: parar servicios" ID="ID_157220731" CREATED="1381170078634" MODIFIED="1381170087988"/>
</node>
<node TEXT="Skype suele ocupar el 80" ID="ID_1958127331" CREATED="1381170106293" MODIFIED="1381170112706"/>
<node TEXT="TeamViewer también el 80" ID="ID_1738276866" CREATED="1381170115512" MODIFIED="1381170126777"/>
<node TEXT="Si habéis instalado el XAMPP varias veces (distinta versión, etc.) puede que eso lleve algún servicio anterior..." ID="ID_359411842" CREATED="1381170138608" MODIFIED="1381170160294"/>
</node>
</node>
<node TEXT="si desde XAMPP no se abren los ficheros de configuración" FOLDED="true" ID="ID_62332063" CREATED="1443724285607" MODIFIED="1443724299297">
<node TEXT="asegurarnos de que los ficheros &quot;.conf&quot; y &quot;.ini&quot; tienen asociada una aplicación que los abre (si hago doble click a un fichero de estos tipos deberían abrirse con el Notepad o con la aplicación que sea)" ID="ID_850492002" CREATED="1443724299582" MODIFIED="1443724425943"/>
</node>
<node TEXT="si no se pueden cargar páginas" FOLDED="true" ID="ID_45437456" CREATED="1411407950431" MODIFIED="1414434456199">
<node TEXT="desactivar firewalls que pueda haber, incluido el de Windows" ID="ID_541638219" CREATED="1411407955768" MODIFIED="1411407966500"/>
</node>
<node TEXT="proxy vs localhost" FOLDED="true" ID="ID_1825377287" CREATED="1411408019327" MODIFIED="1414434456200">
<node TEXT="si usamos proxy (en el instituto lo usamos), hay que decirle al navegador que NO lo use para direcciones locales" ID="ID_1368771361" CREATED="1411408068382" MODIFIED="1411408154019"/>
</node>
<node TEXT="si cambiamos la configuración de un servidor y no la coge" FOLDED="true" ID="ID_287450574" CREATED="1411407970399" MODIFIED="1445886903407">
<node TEXT="reiniciar Apache/MySQL o lo que corresponda" ID="ID_767321953" CREATED="1411407975639" MODIFIED="1411407986443"/>
</node>
<node TEXT="errores PHP" ID="ID_1063529080" CREATED="1411407854105" MODIFIED="1414434456201">
<node TEXT="si ante un error solo vuelve un código 500 pero NO indica texto del error" ID="ID_1234149735" CREATED="1607604855509" MODIFIED="1607604879186">
<node TEXT="asegurarnos de que esta opción está a On:" ID="ID_1896331819" CREATED="1607604881395" MODIFIED="1607604890284"/>
<node TEXT="/opt/lampp/etc/php.ini" ID="ID_1831112905" CREATED="1607604891242" MODIFIED="1607604899449">
<node TEXT="display_errors=On" ID="ID_417229863" CREATED="1607604858968" MODIFIED="1607604863087"/>
</node>
<node TEXT="(está a un ~25% del documento)" ID="ID_1009201809" CREATED="1619602842990" MODIFIED="1619602851186"/>
</node>
<node TEXT="failed to open stream, failed opening..." ID="ID_1796562515" CREATED="1380824502706" MODIFIED="1414434456335">
<node TEXT="mensaje completo" ID="ID_1774696689" CREATED="1380824518770" MODIFIED="1521139800409">
<node TEXT="Warning: Unknown: failed to open stream: No such file or directory in Unknown on line 0&#xa;&#xa;Fatal error: Unknown: Failed opening required &apos;W:/p_PFE/13-14 LV/IMP/workspace/010 Ejercicios bÃ¡sicos/script.php&apos; (include_path=&apos;.;C:\xampp\php\PEAR&apos;) in Unknown on line 0" ID="ID_560502853" CREATED="1380824503823" MODIFIED="1380824505525"/>
</node>
<node TEXT="mira a ver si has puesto tildes (¡bien! Pero no en este caso) en el nombre de la carpeta o en el de alguno de los ficheros" ID="ID_916281918" CREATED="1380824523483" MODIFIED="1396285597899"/>
</node>
</node>
<node TEXT="si algo relativo a Apache/PHP/MySQL no funciona:" FOLDED="true" ID="ID_934544187" CREATED="1445876856371" MODIFIED="1445876868926">
<node TEXT="probar con WAMP (es un paquete alternativo parecido a XAMPP)" ID="ID_1071929763" CREATED="1445876869195" MODIFIED="1445876888070"/>
<node TEXT="usar una máquina virtual" ID="ID_1919661251" CREATED="1445876888298" MODIFIED="1445876896294"/>
</node>
<node TEXT="si MySQL no arranca" FOLDED="true" ID="ID_829916949" CREATED="1411407889512" MODIFIED="1445886898131">
<node TEXT="mirar posibles puertos ocupados y configurar las aplicaciones causantes para que no los usen, o parar los servicios que los usen" ID="ID_1072771598" CREATED="1411407858544" MODIFIED="1411407880116"/>
<node TEXT="el MySQL de XAMPP y un posible MySQL instalado en la máquina aparte mediante instalador son independientes: ¿está arrancado el instalado (lo estará a modo de servicio) y por tanto está ocupando el lugar del MySQL de XAMPP?)" ID="ID_641127277" CREATED="1445454593791" MODIFIED="1445454636916"/>
<node TEXT="mirar carpeta &quot;data-dir&quot; a ver si existe y tiene el contenido adecuado (el de una instalación virgen; o, si no lo tenéis, el profesor os proporcionará uno)" ID="ID_1326267427" CREATED="1411407895041" MODIFIED="1445455684052"/>
</node>
<node TEXT="si un schema (una BD) de MySQL hace &quot;cosas raras&quot;" FOLDED="true" ID="ID_742290707" CREATED="1445886907115" MODIFIED="1445886927007">
<node TEXT="ocurre a veces, especialmente cuando movemos de sitio la carpeta &quot;mysql_datos&quot;, cuando importamos/exportamos o cuando hay ordenadores &quot;congelados&quot; de por medio (tarjeta protectora)" ID="ID_1767610994" CREATED="1445886927410" MODIFIED="1445887034846"/>
<node TEXT="los síntomas son que PHPs aparentemente correctos dan error inexplicablemente o que al querer ver las tablas del schema a través del phpMyAdmin salen errores" ID="ID_1581472917" CREATED="1445887035665" MODIFIED="1445887067360"/>
<node TEXT="la solución consiste en ir a la carpeta mysql_datos, y eliminar la subcarpeta que se llame igual que el schema (luego, volver a crear o a importar el schema)" ID="ID_1710307946" CREATED="1445887070690" MODIFIED="1445887106246"/>
<node TEXT="si sigue dando problemas, puede que sea necesario reinicializar la carpeta de datos de mysql (mysql_datos); para ello, abrir CMD, ir a c:\xampp\mysql\bin y ejecutar lo siguiente:&#xa;mysqld --initialize-insecure --user=mysql" ID="ID_1023912525" CREATED="1445888990448" MODIFIED="1446062493030"/>
<node TEXT="si aún así sigue dando problemas, reinstalar MySQL (o XAMPP)" ID="ID_989451862" CREATED="1445889038884" MODIFIED="1445889053392"/>
<node TEXT="(conviene hacer backups de los schemas con los que trabajamos mediante la función de exportar)" ID="ID_991738027" CREATED="1445887106577" MODIFIED="1445888989970"/>
</node>
</node>
<node TEXT="elementos del lenguaje" FOLDED="true" POSITION="right" ID="ID_1507028848" CREATED="1318937466541" MODIFIED="1573030892477">
<node TEXT="" ID="ID_1935209892" CREATED="1379954817920" MODIFIED="1414434456210">
<node TEXT="comentarios" ID="ID_1397595670" CREATED="1350928358391" MODIFIED="1442856660766">
<node TEXT="para" ID="ID_1887982180" CREATED="1350928887756" MODIFIED="1521139800384">
<node TEXT="explicar cosas en lenguaje &quot;normal&quot;" ID="ID_1071041545" CREATED="1350928360831" MODIFIED="1521139803492">
<node TEXT="para" ID="ID_1639617784" CREATED="1350929075689" MODIFIED="1521139803494">
<node TEXT="describir los distintos bloques o fases que tiene el código" ID="ID_1497325629" CREATED="1350929081086" MODIFIED="1350929091461"/>
<node TEXT="explicar partes &quot;oscuras&quot; de código" ID="ID_700531609" CREATED="1350929091898" MODIFIED="1350929101662"/>
</node>
</node>
<node TEXT="dejar sin efecto parte del código (para hacer pruebas, etc.)" ID="ID_1806268791" CREATED="1350928889685" MODIFIED="1350928898966"/>
</node>
<node TEXT="tipos" ID="ID_893758903" CREATED="1350928907636" MODIFIED="1521139800382">
<node TEXT="convierte en comentario desde&#xa;un punto hasta el final de la línea" ID="ID_702835193" CREATED="1350928377870" MODIFIED="1521139803488">
<node TEXT="// ..." ID="ID_1088158412" CREATED="1350928369721" MODIFIED="1350928911377"/>
</node>
<node TEXT="convierte en comentario desde&#xa;un punto hasta otro punto" ID="ID_1693626059" CREATED="1350928381412" MODIFIED="1521139803487">
<node TEXT="/* ...&#xa;   ...&#xa;   ... */" ID="ID_1356035559" CREATED="1350928371379" MODIFIED="1350928940750"/>
</node>
</node>
</node>
</node>
<node TEXT="" ID="ID_1868355203" CREATED="1318937718961" MODIFIED="1414434456211">
<node TEXT="identificadores" ID="ID_1075560252" CREATED="1318937468478" MODIFIED="1442856660770">
<node TEXT="nombres que un programador les da a distintos elementos (variables, funciones, etc.)" ID="ID_1444496408" CREATED="1349286699262" MODIFIED="1411577196118"/>
<node TEXT="variables" ID="ID_1466121980" CREATED="1351004832584" MODIFIED="1521139800375">
<node TEXT="SIEMPRE empiezan por $ (esto es cosa de PHP y poco más)" ID="ID_884292582" CREATED="1411577259468" MODIFIED="1411577285030"/>
<node TEXT="$i" ID="ID_1692243729" CREATED="1379954907949" MODIFIED="1379954909338"/>
<node TEXT="$palabrasConCamelCase" ID="ID_1765553909" CREATED="1351004836730" MODIFIED="1602066214319"/>
</node>
<node TEXT="constantes" ID="ID_283984247" CREATED="1351004889580" MODIFIED="1521139800367">
<node TEXT="PI" ID="ID_880610163" CREATED="1411577370883" MODIFIED="1411577372382"/>
<node TEXT="PALABRAS_SEPARADAS_POR_GUIONES_BAJOS" ID="ID_77873656" CREATED="1351004892302" MODIFIED="1351004900510"/>
</node>
</node>
</node>
<node TEXT="" ID="ID_1287797071" CREATED="1380222041327" MODIFIED="1414434456211">
<node TEXT="tipos de datos" ID="ID_1929168280" CREATED="1349287038658" MODIFIED="1442856660777">
<node TEXT="en PHP los tipos no están muy &quot;visibles&quot; porque las variables pueden ir cambiando de tipo a lo largo de su existencia (aunque no conviene hacerlo)" ID="ID_491382911" CREATED="1379955248218" MODIFIED="1521139800361">
<icon BUILTIN="info_informaciвn"/>
<node TEXT="además, las variables NO se declaran previamente así que en ningún momento decimos de qué tipo son" ID="ID_1354752848" CREATED="1379955324842" MODIFIED="1379955326614"/>
</node>
<node TEXT="int" ID="ID_293503878" CREATED="1380221500361" MODIFIED="1589038190014">
<icon BUILTIN="button_ok"/>
<icon BUILTIN="button_ok"/>
</node>
<node TEXT="double" ID="ID_1855338096" CREATED="1380221503050" MODIFIED="1589038196529">
<icon BUILTIN="button_ok"/>
<icon BUILTIN="button_ok"/>
<node TEXT="&quot;número con coma&quot;" ID="ID_1530932679" CREATED="1380222048062" MODIFIED="1380222053195"/>
<node TEXT="se puede espeficicar como &quot;double&quot; o como &quot;float&quot;, pero" ID="ID_440407480" CREATED="1589038169397" MODIFIED="1589038179785">
<node TEXT="internamente utiliza el &quot;double&quot; de C" ID="ID_1631135902" CREATED="1589038157151" MODIFIED="1589038167913"/>
</node>
<node TEXT="OJO: cada vez que se almacena un valor en este formato se puede producir un redondeo que puede dar problemas..." ID="ID_484043695" CREATED="1349291377977" MODIFIED="1380222061563">
<icon BUILTIN="messagebox_warning"/>
</node>
</node>
<node TEXT="String (cadena de texto)" ID="ID_1420168254" CREATED="1349290752423" MODIFIED="1521139800348">
<icon BUILTIN="button_ok"/>
<icon BUILTIN="button_ok"/>
<node TEXT="almacena una CADENA de caracteres (un texto)" ID="ID_878613712" CREATED="1349290786498" MODIFIED="1350397136961"/>
<node TEXT="valores literales se expresan con comilla doble O SIMPLE (y a veces no es lo mismo):" ID="ID_672768820" CREATED="1349290690539" MODIFIED="1521139803485">
<node TEXT="&quot;Hola&quot;" ID="ID_849874423" CREATED="1349290697611" MODIFIED="1552946071005"/>
<node TEXT="&apos;&apos;Hola&apos;" ID="ID_1590853750" CREATED="1379956200597" MODIFIED="1552946062805"/>
</node>
</node>
<node TEXT="Boolean (true/false)" ID="ID_505184113" CREATED="1349287485130" MODIFIED="1521139800338">
<icon BUILTIN="button_ok"/>
<node TEXT="almacena o true o false, nada más" ID="ID_1213769885" CREATED="1349288002794" MODIFIED="1349288007897"/>
</node>
<node TEXT="Array" ID="ID_1885333882" CREATED="1380221543241" MODIFIED="1521139800337">
<icon BUILTIN="button_ok"/>
<node TEXT="una sucesión de valores (habitualmente del mismo tipo)" ID="ID_1861296974" CREATED="1396286595185" MODIFIED="1396286606492"/>
</node>
<node TEXT="Object" ID="ID_1579518485" CREATED="1380221545681" MODIFIED="1648544149105">
<icon BUILTIN="button_ok"/>
</node>
<node TEXT="Null" ID="ID_1810782990" CREATED="1648547872862" MODIFIED="1648547876094">
<icon BUILTIN="button_ok"/>
<node TEXT="ejemplos" ID="ID_1674374450" CREATED="1380221547481" MODIFIED="1648544249602">
<node TEXT="function tal(): ?int" ID="ID_1761067312" CREATED="1380221547481" MODIFIED="1648544249604"/>
<node TEXT="function tal(): ?Persona" ID="ID_499518430" CREATED="1380221547481" MODIFIED="1648544249605"/>
</node>
</node>
<node TEXT="[variable no definida]" ID="ID_1826322668" CREATED="1411577874785" MODIFIED="1602066315655">
<icon BUILTIN="flag-yellow"/>
<node TEXT="¡no es lo mismo que estar definida y valer null!" ID="ID_1322618441" CREATED="1411577885362" MODIFIED="1411577892197"/>
<node TEXT="esto es lo que preguntamos con" ID="ID_1779485568" CREATED="1427137700789" MODIFIED="1521139803483">
<node TEXT="if (isset($variable)) { ... }" ID="ID_620455785" CREATED="1427137715666" MODIFIED="1602066423236">
<icon BUILTIN="atenciвn_!"/>
</node>
<node TEXT="if (isset($_REQUEST[&quot;edad&quot;])) { ... }" ID="ID_1438079780" CREATED="1442862895157" MODIFIED="1648544374484">
<icon BUILTIN="atenciвn_!"/>
</node>
</node>
</node>
</node>
</node>
<node TEXT="" ID="ID_1817918344" CREATED="1318937535767" MODIFIED="1414434456214">
<node TEXT="(valores)&#xa;literales" ID="ID_78458148" CREATED="1318937470328" MODIFIED="1442861517099">
<node TEXT="valores &quot;fijos&quot; escritos por el&#xa;programador mientras programa" ID="ID_1847052850" CREATED="1349286721371" MODIFIED="1617786236288">
<node TEXT="17" ID="ID_647556858" CREATED="1349286735017" MODIFIED="1617786236288">
<node TEXT="0" ID="ID_589926687" CREATED="1349286737858" MODIFIED="1521139803482">
<node TEXT="&quot;Hola&quot;" ID="ID_1381624936" CREATED="1349286739893" MODIFIED="1521139803483">
<node TEXT="true" ID="ID_217783688" CREATED="1349286742022" MODIFIED="1349286743660"/>
</node>
</node>
</node>
</node>
</node>
<node TEXT="variables" ID="ID_568898711" CREATED="1318937478165" MODIFIED="1442856660788">
<node TEXT="es una caja que" ID="ID_1575168941" CREATED="1349286762316" MODIFIED="1521139800320">
<node TEXT="tiene un nombre (IDENTIFICADOR)" ID="ID_556276665" CREATED="1349286984241" MODIFIED="1349286998819"/>
<node TEXT="admite valores de determinado TIPO (en PHP, cualquier tipo)" ID="ID_1116052937" CREATED="1349286976595" MODIFIED="1379955615238"/>
<node TEXT="en un momento dado, tiene un VALOR y un TIPO concretos (que pueden cambiar en el futuro si el programador lo decide)" ID="ID_773601417" CREATED="1349287000957" MODIFIED="1379955631660"/>
</node>
</node>
<node TEXT="constantes" ID="ID_1383112684" CREATED="1318937641132" MODIFIED="1442856660789">
<node TEXT="&quot;variables&quot; cuyo valor no cambiará" ID="ID_1530349824" CREATED="1411578059833" MODIFIED="1617786270920"/>
<node TEXT="const PI = 3.1416;" ID="ID_298939581" CREATED="1633514675941" MODIFIED="1633514688792"/>
</node>
<node TEXT="operadores" ID="ID_335555844" CREATED="1318952959968" MODIFIED="1442856660793">
<node TEXT="trabajan con distintos TIPOS de entrada y/o salida" ID="ID_636385242" CREATED="1349291712120" MODIFIED="1349291720460"/>
<node TEXT="numéricos" ID="ID_370701107" CREATED="1349289839555" MODIFIED="1521139800313">
<node TEXT="+, -, *, /" ID="ID_1356066526" CREATED="1349288734933" MODIFIED="1350326332190"/>
<node TEXT="%" ID="ID_1944607238" CREATED="1349289848960" MODIFIED="1521139803479">
<node TEXT="módulo de una división (el resto): 17 % 5 = 2" ID="ID_635909178" CREATED="1349289852510" MODIFIED="1427137818190"/>
</node>
</node>
<node TEXT="booleanos" ID="ID_220012788" CREATED="1349289842445" MODIFIED="1521139800310">
<node TEXT="and: &amp;&amp;     or:  ||    not: !" ID="ID_1926487799" CREATED="1327743472661" MODIFIED="1327743490336"/>
<node TEXT="&amp;&amp;" ID="ID_859635376" CREATED="1396287575194" MODIFIED="1521139803478">
<node TEXT="if ($a == 2 &amp;&amp; $b == 15) ..." ID="ID_1604763942" CREATED="1396287534192" MODIFIED="1396287570241"/>
<node TEXT="if ( ($a == 2) &amp;&amp; ($b == 15) ) ..." ID="ID_986901036" CREATED="1396287570993" MODIFIED="1396287660393"/>
</node>
<node TEXT="||" ID="ID_104049896" CREATED="1396287575194" MODIFIED="1521139803477">
<node TEXT="if ($a == 2 || $b == 15) ..." ID="ID_1956949632" CREATED="1396287534192" MODIFIED="1411578383239"/>
<node TEXT="if ( ($a == 2) || ($b == 15) ) ..." ID="ID_154756293" CREATED="1396287570993" MODIFIED="1411578398278"/>
</node>
<node TEXT="!" ID="ID_1406628722" CREATED="1396287682104" MODIFIED="1521139803476">
<node TEXT="if ( ! ($a == 2) ) ..." ID="ID_411738023" CREATED="1396287684104" MODIFIED="1411578414322"/>
<node TEXT="if ($a != 2) ..." ID="ID_1892856296" CREATED="1396287684104" MODIFIED="1396287703885"/>
<node TEXT="if (!es_par($a)) ..." ID="ID_1760098368" CREATED="1396287684104" MODIFIED="1411578521674"/>
</node>
</node>
<node TEXT="de comparación" ID="ID_268867923" CREATED="1349290354011" MODIFIED="1521139800306">
<node TEXT="==, !=, &lt;, &lt;=, &gt;, &gt;=" ID="ID_685341291" CREATED="1349290358578" MODIFIED="1521139803474">
<node TEXT="¡y, por ejemplo, (&quot;1&quot; == 1) da true en PHP!" ID="ID_219560023" CREATED="1379956027157" MODIFIED="1396287870348"/>
</node>
<node TEXT="===" ID="ID_245245197" CREATED="1379955733175" MODIFIED="1602061378765">
<icon BUILTIN="atenciвn_!"/>
<node TEXT="comprueba si tienen el mismo valor ¡Y EL MISMO TIPO!" ID="ID_1573083499" CREATED="1379956012573" MODIFIED="1379956025338"/>
<node TEXT="por ejemplo" ID="ID_1661342784" CREATED="1379956027157" MODIFIED="1617786341385">
<node TEXT="(&quot;1&quot; == 1) da TRUE" ID="ID_1392814797" CREATED="1617786345165" MODIFIED="1617786349328"/>
<node TEXT="(&quot;1&quot; === 1) da FALSE" ID="ID_1913276438" CREATED="1617786341702" MODIFIED="1617786344752"/>
</node>
</node>
</node>
<node TEXT="de Strings" ID="ID_616434353" CREATED="1396288635169" MODIFIED="1521139800303">
<node TEXT="concatenación de strings" ID="ID_1746444408" CREATED="1365101409719" MODIFIED="1521139803468">
<node TEXT="." ID="ID_1625403885" CREATED="1365101415483" MODIFIED="1521139803471">
<node TEXT="(sí, es un punto normal y corriente)" ID="ID_1476376246" CREATED="1365101419445" MODIFIED="1365101424445"/>
</node>
</node>
<node TEXT="por ejemplo" ID="ID_1943643237" CREATED="1411578759884" MODIFIED="1521139803462">
<node TEXT="&quot;Hola&quot; . &quot;, ¿qué tal?&quot;" ID="ID_1874964616" CREATED="1411578763497" MODIFIED="1552946213271">
<node TEXT="se convierte en" ID="ID_430463980" CREATED="1411578777294" MODIFIED="1521139803467">
<node TEXT="&quot;Hola, ¿qué tal?&quot;" ID="ID_105753205" CREATED="1411578780032" MODIFIED="1411578783902"/>
</node>
</node>
</node>
</node>
</node>
<node TEXT="expresiones" ID="ID_1871392711" CREATED="1318937472273" MODIFIED="1442856660802">
<node TEXT="son una combinación&#xa;sintácticamente correcta de" ID="ID_430908940" CREATED="1349291562755" MODIFIED="1617786392760">
<node TEXT="(valores) literales" ID="ID_1084709052" CREATED="1349291567481" MODIFIED="1411578098804"/>
<node TEXT="identificadores/variables/constantes..." ID="ID_1222018821" CREATED="1396286689735" MODIFIED="1617786401401"/>
<node TEXT="operadores" ID="ID_1801292527" CREATED="1349291579313" MODIFIED="1349291580948"/>
</node>
<node TEXT="se evalúan hasta ser equivalentes a un valor concreto de determinado TIPO" ID="ID_1042368338" CREATED="1349291684069" MODIFIED="1349291697239"/>
<node TEXT="ejemplos" ID="ID_1710529334" CREATED="1349291591340" MODIFIED="1521139800296">
<node TEXT="17" OBJECT="java.lang.Long|17" ID="ID_1031174516" CREATED="1349291585959" MODIFIED="1617786451338">
<node TEXT="17+2" ID="ID_781886194" CREATED="1349291593708" MODIFIED="1521139803444">
<node TEXT="$a+17" ID="ID_1718560099" CREATED="1349291597704" MODIFIED="1521139803448">
<node TEXT="$a" ID="ID_1896215396" CREATED="1349291600344" MODIFIED="1521139803454">
<node TEXT="true" ID="ID_1353194689" CREATED="1349291603040" MODIFIED="1521139803455">
<node TEXT="(1 == 0)" ID="ID_321193709" CREATED="1349291606588" MODIFIED="1521139803456">
<node TEXT="x &lt; 7" ID="ID_1261561790" CREATED="1350326385527" MODIFIED="1521139803458">
<node TEXT="( ($a+2) == 10 )" ID="ID_1972312807" CREATED="1396287033117" MODIFIED="1396287042225"/>
</node>
</node>
</node>
</node>
</node>
</node>
</node>
</node>
</node>
<node TEXT="instrucciones" ID="ID_1994237351" CREATED="1617786196222" MODIFIED="1617786198042">
<node TEXT="&quot;frases con verbo&quot;" ID="ID_786295909" CREATED="1617786198286" MODIFIED="1617786203402"/>
<node TEXT="pueden contenter, o no, expresiones y demás elementos" ID="ID_1956539926" CREATED="1617786479852" MODIFIED="1617786487127"/>
</node>
</node>
<node TEXT="" ID="ID_1720283848" CREATED="1318943414570" MODIFIED="1414434456215">
<node TEXT="asignaciones" ID="ID_861534350" CREATED="1318943407814" MODIFIED="1442856660809">
<node TEXT="=" ID="ID_982508272" CREATED="1327743501263" MODIFIED="1327743502262"/>
<node TEXT="DEPOSITAR un valor en una variable" ID="ID_205445271" CREATED="1349291873596" MODIFIED="1521139800295">
<node TEXT="que saldrá de una expresión" ID="ID_399065217" CREATED="1349291890122" MODIFIED="1521139803435">
<node TEXT="literal" ID="ID_1025288338" CREATED="1349291884972" MODIFIED="1521139803441">
<node TEXT="$a = 17;" ID="ID_1155700460" CREATED="1350327279099" MODIFIED="1379956266160"/>
</node>
<node TEXT="otra variable" ID="ID_847610309" CREATED="1349291886746" MODIFIED="1521139803440">
<node TEXT="$b = $a;" ID="ID_558132184" CREATED="1350327283068" MODIFIED="1411578913188"/>
</node>
<node TEXT="combinación de operadores y valores..." ID="ID_460605613" CREATED="1349291959505" MODIFIED="1521139803437">
<node TEXT="$b = $a + 17 * c;" ID="ID_700496576" CREATED="1350327336878" MODIFIED="1411578918593"/>
</node>
</node>
</node>
<node TEXT="NO confundir con la comparación (== ó ===): no tiene NADA que ver" ID="ID_1054108595" CREATED="1349292185809" MODIFIED="1379956125305"/>
<node TEXT="asignación de +1 ó -1" ID="ID_1894589262" CREATED="1319453004089" MODIFIED="1521139800294">
<node TEXT="incremento" ID="ID_76363460" CREATED="1350328022630" MODIFIED="1521139803419">
<node TEXT="$var++;" ID="ID_616405200" CREATED="1319453078564" MODIFIED="1521139803421">
<node TEXT="equivale a:" ID="ID_1407415363" CREATED="1349718069815" MODIFIED="1521139803424">
<node TEXT="$var = $var+1;" ID="ID_1648383752" CREATED="1349718080697" MODIFIED="1379956288179"/>
</node>
</node>
</node>
<node TEXT="decremento" ID="ID_1756114972" CREATED="1350328025308" MODIFIED="1521139803412">
<node TEXT="$var--;" ID="ID_1426165273" CREATED="1349719043673" MODIFIED="1521139803413">
<node TEXT="equivale a:" ID="ID_357735435" CREATED="1349718069815" MODIFIED="1521139803415">
<node TEXT="$var = $var-1;" ID="ID_1704424805" CREATED="1349718080697" MODIFIED="1379956290912"/>
</node>
</node>
</node>
<node TEXT="NO LIARSE" ID="ID_1558770456" CREATED="1396287959942" MODIFIED="1521139803401">
<node TEXT="si quiero comprobar si $a + 1 vale 10" ID="ID_694348582" CREATED="1396287965622" MODIFIED="1396287986539"/>
<node TEXT="OK" ID="ID_766820364" CREATED="1396287986901" MODIFIED="1521139803406">
<icon BUILTIN="button_ok"/>
<node TEXT="if ($a+1 == 10) ..." ID="ID_262869802" CREATED="1396287991078" MODIFIED="1521139803408">
<node TEXT="esto sería &quot;Si $a MÁS UNO vale 10...&quot;" ID="ID_561831442" CREATED="1411579023868" MODIFIED="1633515418507">
<node TEXT="($a NO se modifica)" ID="ID_964090443" CREATED="1411579261049" MODIFIED="1411579267942"/>
</node>
</node>
</node>
<node TEXT="NO" ID="ID_714946292" CREATED="1396287989221" MODIFIED="1521139803402">
<icon BUILTIN="button_cancel"/>
<node TEXT="if ($a++ == 10) ..." ID="ID_1486291735" CREATED="1396287991078" MODIFIED="1633515409601">
<node TEXT="esto sería &quot;Si &lt;incrementemos uno a $a&gt; vale 10...&quot; (wtf??)" ID="ID_1532424372" CREATED="1411579023868" MODIFIED="1633515440994">
<node TEXT="($a SÍ se modifica)" ID="ID_302352818" CREATED="1411579261049" MODIFIED="1411579279782"/>
</node>
<node TEXT="lo malo es que muchos lenguajes  (PHP incluído) lo interpretan en el sentido doble: incrementamos Y comparamos" ID="ID_809083792" CREATED="1633515467479" MODIFIED="1633515488834"/>
</node>
</node>
</node>
</node>
</node>
<node TEXT="estructuras de control" ID="ID_215460923" CREATED="1318943404185" MODIFIED="1414434456361">
<node TEXT="(detalles, más abajo)" ID="ID_278675555" CREATED="1411579329521" MODIFIED="1411579633467"/>
<node TEXT="if, for, while, do-while" ID="ID_288527939" CREATED="1349292239706" MODIFIED="1521139800288"/>
<node TEXT="foreach" ID="ID_1881364487" CREATED="1633515508983" MODIFIED="1648544509683"/>
<node TEXT="switch" ID="ID_792131333" CREATED="1411579331737" MODIFIED="1521140117206">
<node TEXT="es como un if múltiple" ID="ID_1290988894" CREATED="1411579352448" MODIFIED="1411579358310"/>
<node TEXT="ahí está, es útil a veces, pero no la veremos por ahora" ID="ID_1273350107" CREATED="1411579334433" MODIFIED="1411579349462"/>
</node>
</node>
<node TEXT="llamadas a funciones, incluidas las del sistema PHP" ID="ID_502627360" CREATED="1318943411794" MODIFIED="1414434456361">
<node TEXT="(ya las veremos)" ID="ID_412281077" CREATED="1411579318673" MODIFIED="1411579320902"/>
</node>
</node>
<node TEXT="" ID="ID_1965166898" CREATED="1318937721480" MODIFIED="1414434456215">
<node TEXT="palabras reservadas" ID="ID_968555294" CREATED="1318937514067" MODIFIED="1414434456362">
<node TEXT="php, for, if..." ID="ID_1479516898" CREATED="1349291791763" MODIFIED="1379956696229"/>
<node TEXT="no puedo elegir un identificador que sea igual que una palabra reservada" ID="ID_365056438" CREATED="1349291830718" MODIFIED="1349291844584"/>
</node>
</node>
<node TEXT="" ID="ID_906926402" CREATED="1318937722471" MODIFIED="1414434456216">
<node TEXT="símbolos" ID="ID_968217610" CREATED="1318937517042" MODIFIED="1414434456362">
<node TEXT="{ } ; ..." ID="ID_1077494307" CREATED="1318952970796" MODIFIED="1324029596706"/>
</node>
</node>
</node>
<node TEXT="variables" FOLDED="true" POSITION="right" ID="ID_131614581" CREATED="1275122645085" MODIFIED="1574766892937">
<node TEXT="no hay que declarar las variables que vamos a usar: les damos un valor y existen a partir de ahí" ID="ID_254411811" CREATED="1275122647339" MODIFIED="1574766642669">
<node TEXT="de hecho, NO hay una instrucción en PHP para declarar una variable" ID="ID_1906492050" CREATED="1574766642871" MODIFIED="1574766656736"/>
</node>
<node TEXT="no tienen un tipo de datos fijo para siempre, sino que puede ir cambiando" ID="ID_1098301783" CREATED="1275122682907" MODIFIED="1574766633909">
<node TEXT="&quot;se lo tragan todo&quot;" ID="ID_1254769754" CREATED="1275122685552" MODIFIED="1360866796325"/>
<node TEXT="OJO: las variables siguen teniendo TIPO, pero no es muy explícito y puede ir cambiando" ID="ID_1003597948" CREATED="1361585649639" MODIFIED="1361585665784"/>
</node>
<node TEXT="los tipos de datos posibles son muy parecidos a los de Java o C, solo que el tipo NO suele figurar en programas sencillos ya que las variables no se declaran" ID="ID_1882975584" CREATED="1275122692579" MODIFIED="1414434456217"/>
<node TEXT="una variable es utilizable en todo el script PHP pero NO se conserva su valor o su existencia de una ejecución a otra" ID="ID_1530845491" CREATED="1275122818608" MODIFIED="1632815991215">
<node TEXT="si se conectan dos clientes en paralelo, cada uno usa una copia propia del valor, sin interferirse, como si cada cual estuviera solo en el servidor" ID="ID_409427091" CREATED="1411579470432" MODIFIED="1411579474924"/>
</node>
<node TEXT="constantes" ID="ID_1661399245" CREATED="1275123416018" MODIFIED="1414434456220">
<node TEXT="const TAMANNO_TABLERO = 10;" ID="ID_1211516746" CREATED="1574767368559" MODIFIED="1633515568192"/>
<node TEXT="van SIN el símbolo $" ID="ID_1602868149" CREATED="1275123417601" MODIFIED="1361585864773"/>
<node TEXT="su identificador se suele escribir en mayúsculas" ID="ID_230489286" CREATED="1411579586095" MODIFIED="1574767416434"/>
</node>
<node TEXT="ámbito" ID="ID_1676302200" CREATED="1574766883827" MODIFIED="1574766903886">
<node TEXT="global" ID="ID_5756214" CREATED="1574766905887" MODIFIED="1574766907196">
<node TEXT="es &quot;este script PHP entero&quot;" ID="ID_641108552" CREATED="1574766908937" MODIFIED="1574766915910"/>
<node TEXT="es el ámbito que tienen las variables declaradas &quot;directamente&quot;, es decir, fuera de ninguna función" ID="ID_853058535" CREATED="1574766916378" MODIFIED="1574766936991"/>
<node TEXT="¡desde dentro de las funciones NO se puede acceder al valor de estas variables!" ID="ID_345495692" CREATED="1574766937539" MODIFIED="1574767426808"/>
<node TEXT="para acceder a una global desde dentro de una función:" ID="ID_267730005" CREATED="1574766953686" MODIFIED="1574767477393">
<node TEXT="global $dato;" ID="ID_321813404" CREATED="1275122851961" MODIFIED="1275122861494"/>
<node TEXT="esa instrucción &quot;engancha&quot; la variable global que haya" ID="ID_284574770" CREATED="1275122865314" MODIFIED="1361585857517"/>
</node>
</node>
<node TEXT="local" ID="ID_1950594499" CREATED="1574766904696" MODIFIED="1574766905731">
<node TEXT="dentro de una función" ID="ID_658942159" CREATED="1574767488868" MODIFIED="1574767491947"/>
</node>
<node TEXT="static" ID="ID_1340504655" CREATED="1574767492142" MODIFIED="1574767494096">
<node TEXT="mejor no lo usemos..." ID="ID_1431053168" CREATED="1574767494335" MODIFIED="1574767499113"/>
</node>
</node>
<node TEXT="tipos de datos en PHP" ID="ID_482692633" CREATED="1574687879716" MODIFIED="1574766667840">
<node TEXT="https://www.tutorialrepublic.com/php-tutorial/php-data-types.php" ID="ID_22583393" CREATED="1574687885483" MODIFIED="1574687885483" LINK="https://www.tutorialrepublic.com/php-tutorial/php-data-types.php"/>
<node TEXT="tipos disponibles" ID="ID_75205690" CREATED="1574766343388" MODIFIED="1574766398203">
<node TEXT="int" ID="ID_1156150637" CREATED="1574686449870" MODIFIED="1574766348070"/>
<node TEXT="float" ID="ID_814503672" CREATED="1574686449871" MODIFIED="1574766369052"/>
<node TEXT="string" ID="ID_266330976" CREATED="1574686449870" MODIFIED="1574766346137"/>
<node TEXT="bool" ID="ID_1154998377" CREATED="1574686449871" MODIFIED="1574766374760"/>
<node TEXT="array" ID="ID_1649037769" CREATED="1574686449871" MODIFIED="1574766376302"/>
<node TEXT="object" ID="ID_841575536" CREATED="1574686449872" MODIFIED="1574766379788"/>
<node TEXT="NULL" ID="ID_417271624" CREATED="1574686449872" MODIFIED="1574686449872"/>
<node TEXT="resource" ID="ID_293851507" CREATED="1574686449872" MODIFIED="1574766383947"/>
</node>
</node>
</node>
<node TEXT="estructuras&#xa;de control" FOLDED="true" POSITION="right" ID="ID_1533577543" CREATED="1275124579732" MODIFIED="1573030892502">
<node TEXT="se pueden &quot;partir&quot;" FOLDED="true" ID="ID_1056054138" CREATED="1275124596728" MODIFIED="1521140314949">
<icon BUILTIN="info_informaciвn"/>
<node TEXT="a veces utilizar la función echo dentro de una estructura de control es muy farragoso si hay que sacar mucho HTML" ID="ID_221601588" CREATED="1361586709266" MODIFIED="1361586710072"/>
<node TEXT="así que puedo PARTIR UNA ESTRUCTURA DE CONTROL sin problemas" ID="ID_154691001" CREATED="1275124614863" MODIFIED="1361586712650"/>
<node TEXT="ejemplo" ID="ID_636709088" CREATED="1361586775141" MODIFIED="1571659207767">
<icon BUILTIN="z_script"/>
<node ID="ID_598802181" CREATED="1427139746878" MODIFIED="1521139800281"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <p class="MsoNormal" style="margin-bottom: .0001pt; line-height: normal">
      <span style="background-position: null; background-attachment: scroll; background-image: null; background-color: yellow; background-repeat: repeat" lang="EN-US">&lt;?php</span><span>&#xa0; </span><span style="background-position: null; background-attachment: scroll; background-image: null; background-color: yellow; background-repeat: repeat" lang="EN-US">if ($a = 17) {</span><span>&#xa0; </span><span style="background-position: null; background-attachment: scroll; background-image: null; background-color: yellow; background-repeat: repeat" lang="EN-US">?&gt;</span>
    </p>
    <p class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt">
      <span>&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="background-attachment: scroll; background-position: null; background-image: null; background-color: aqua; background-repeat: repeat">&lt;p&gt;Esto es HTML...&lt;/p&gt;</span>
    </p>
    <p class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt">
      <span style="background-attachment: scroll; background-position: null; background-image: null; background-color: yellow; background-repeat: repeat" lang="EN-US">&lt;?php</span><span>&#xa0; </span><span style="background-attachment: scroll; background-position: null; background-image: null; background-color: yellow; background-repeat: repeat" lang="EN-US">} else {</span><span>&#xa0; </span><span style="background-attachment: scroll; background-position: null; background-image: null; background-color: yellow; background-repeat: repeat" lang="EN-US">?&gt;</span>
    </p>
    <p class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt">
      <span>&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="background-attachment: scroll; background-position: null; background-image: null; background-color: aqua; background-repeat: repeat">&lt;ul&gt;</span>
    </p>
    <p class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt">
      <span>&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="background-attachment: scroll; background-position: null; background-image: null; background-color: aqua; background-repeat: repeat">&lt;li&gt;Esto tambi&#xe9;n es HTML...&lt;/li&gt;</span>
    </p>
    <p class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt">
      <span>&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="background-attachment: scroll; background-position: null; background-image: null; background-color: aqua; background-repeat: repeat">&lt;li&gt;Esto tambi&#xe9;n es HTML...&lt;/li&gt;</span>
    </p>
    <p class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt">
      <span>&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="background-attachment: scroll; background-position: null; background-image: null; background-color: aqua; background-repeat: repeat">&lt;li&gt;Esto tambi&#xe9;n es HTML...&lt;/li&gt;</span>
    </p>
    <p class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt">
      <span>&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="background-attachment: scroll; background-position: null; background-image: null; background-color: aqua; background-repeat: repeat">&lt;/ul&gt;</span>
    </p>
    <span style="background-attachment: scroll; background-position: null; background-image: null; background-color: yellow; font-family: Calibri,sans-serif; font-size: 11.0pt; background-repeat: repeat; line-height: 115%"><font face="Calibri,sans-serif" size="11.0pt">&lt;?php </font></span><font face="Calibri,sans-serif" size="11.0pt"><span>&#xa0; </span><span style="background-attachment: scroll; background-position: null; background-image: null; background-color: yellow; font-family: Calibri,sans-serif; font-size: 11.0pt; background-repeat: repeat; line-height: 115%">} ?&gt;</span></font>
  </body>
</html>
</richcontent>
<node ID="ID_1057391903" CREATED="1427139751652" MODIFIED="1427139751652"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <p class="MsoNormal" style="margin-bottom: .0001pt; line-height: normal">
      <span style="background-image: null; background-color: yellow; background-repeat: repeat; background-attachment: scroll; background-position: null">&lt;?php if ($a = 17) {</span>
    </p>
    <p class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt">
      <span>&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="background-image: null; background-color: yellow; background-repeat: repeat; background-attachment: scroll; background-position: null">echo </span><span style="background-image: null; background-color: aqua; background-repeat: repeat; background-attachment: scroll; background-position: null">"&lt;p&gt;Esto es HTML...&lt;/p&gt;</span><span style="background-image: null; background-color: yellow; background-repeat: repeat; background-attachment: scroll; background-position: null">";</span>
    </p>
    <p class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt">
      <span style="background-image: null; background-color: yellow; background-repeat: repeat; background-attachment: scroll; background-position: null">} else {</span>
    </p>
    <p class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt">
      <span>&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="background-image: null; background-color: yellow; background-repeat: repeat; background-attachment: scroll; background-position: null">echo "</span><span style="background-image: null; background-color: aqua; background-repeat: repeat; background-attachment: scroll; background-position: null">&lt;ul&gt;</span><span style="background-image: null; background-color: yellow; background-repeat: repeat; background-attachment: scroll; background-position: null">";</span>
    </p>
    <p class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt">
      <span>&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="background-image: null; background-color: yellow; background-repeat: repeat; background-attachment: scroll; background-position: null">echo "</span><span style="background-image: null; background-color: aqua; background-repeat: repeat; background-attachment: scroll; background-position: null">&lt;li&gt;Esto tambi&#xe9;n es HTML...&lt;/li&gt;</span><span style="background-image: null; background-color: yellow; background-repeat: repeat; background-attachment: scroll; background-position: null">";</span>
    </p>
    <p class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt">
      <span>&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="background-image: null; background-color: yellow; background-repeat: repeat; background-attachment: scroll; background-position: null">echo "</span><span style="background-image: null; background-color: aqua; background-repeat: repeat; background-attachment: scroll; background-position: null">&lt;li&gt;Esto tambi&#xe9;n es HTML...&lt;/li&gt;</span><span style="background-image: null; background-color: yellow; background-repeat: repeat; background-attachment: scroll; background-position: null">";</span>
    </p>
    <p class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt">
      <span>&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="background-image: null; background-color: yellow; background-repeat: repeat; background-attachment: scroll; background-position: null">echo "</span><span style="background-image: null; background-color: aqua; background-repeat: repeat; background-attachment: scroll; background-position: null">&lt;li&gt;Esto tambi&#xe9;n es HTML...&lt;/li&gt;</span><span style="background-image: null; background-color: yellow; background-repeat: repeat; background-attachment: scroll; background-position: null">";</span>
    </p>
    <p class="MsoNormal" style="line-height: normal; margin-bottom: .0001pt">
      <span>&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span style="background-image: null; background-color: yellow; background-repeat: repeat; background-attachment: scroll; background-position: null">echo "</span><span style="background-image: null; background-color: aqua; background-repeat: repeat; background-attachment: scroll; background-position: null">&lt;/ul&gt;</span><span style="background-image: null; background-color: yellow; background-repeat: repeat; background-attachment: scroll; background-position: null">";</span>
    </p>
    <span style="background-position: null; background-attachment: scroll; background-image: null; font-family: Calibri,sans-serif; background-color: yellow; font-size: 11.0pt; background-repeat: repeat; line-height: 115%"><font face="Calibri,sans-serif" size="11.0pt">} ?&gt;</font></span>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
</node>
<node TEXT="if" FOLDED="true" ID="ID_386853944" CREATED="1319453004107" MODIFIED="1521139803395">
<node TEXT="if (expr) &lt;sentencia&gt;;" ID="ID_1070233958" CREATED="1319453004108" MODIFIED="1411579884859"/>
<node TEXT="if (expr) &lt;sentencia&gt;; else &lt;sentencia&gt;;" ID="ID_9805562" CREATED="1319453004108" MODIFIED="1411580059865"/>
<node TEXT="if (expr) &lt;sentencia&gt;;&#xa;else &lt;sentencia&gt;; &lt;sentencia&gt;; &lt;sentencia&gt;;" ID="ID_428991954" CREATED="1411580103403" MODIFIED="1633515881370"/>
<node TEXT="if (expr) {&#xa;  &lt;sentencia(s)&gt;;&#xa;  &lt;sentencia(s)&gt;;&#xa;  &lt;sentencia(s)&gt;;&#xa;}" ID="ID_222309292" CREATED="1319453302235" MODIFIED="1633515813923"/>
<node TEXT="if (expr) {&#xa;  &lt;sentencia(s)&gt;;&#xa;  &lt;sentencia(s)&gt;;&#xa;  &lt;sentencia(s)&gt;;&#xa;} else {&#xa;  &lt;sentencia(s)&gt;;&#xa;  &lt;sentencia(s)&gt;;&#xa;  &lt;sentencia(s)&gt;;&#xa;}" ID="ID_1473828453" CREATED="1319453302235" MODIFIED="1633515866884"/>
<node TEXT="if (expr) {&#xa;  &lt;sentencia(s)&gt;;&#xa;} else if (expr) {&#xa;  &lt;sentencia(s)&gt;;&#xa;} else {&#xa;  &lt;sentencia(s)&gt;;&#xa;}" ID="ID_38619834" CREATED="1319453302235" MODIFIED="1445334207578"/>
<node TEXT="if (expr)&#xa;    &lt;sentencia&gt;;&#xa;else&#xa;    &lt;sentencia&gt;;" ID="ID_1014182171" CREATED="1319453004108" MODIFIED="1633516261484">
<icon BUILTIN="button_cancel"/>
<node TEXT="JAMÁS, PORQUE ES PARA LÍOS" ID="ID_335458748" CREATED="1411579871749" MODIFIED="1411579876098"/>
</node>
</node>
<node TEXT="switch" FOLDED="true" ID="ID_277202953" CREATED="1574335103388" MODIFIED="1574335106173">
<node TEXT="igual que en Java" ID="ID_1966373920" CREATED="1574335106378" MODIFIED="1574335110273"/>
</node>
<node TEXT="for" FOLDED="true" ID="ID_1799706564" CREATED="1319453004116" MODIFIED="1521139803395">
<node TEXT="bucle" ID="ID_782794696" CREATED="1319453004116" MODIFIED="1414434456367">
<node TEXT="for (inicialización; test; incremento) &lt;sentencia(s)&gt;;" ID="ID_1912999116" CREATED="1319453004117" MODIFIED="1319453759177"/>
<node TEXT="for (inicialización; test; incremento) {&#xa;  &lt;sentencia(s)&gt;;&#xa;}" ID="ID_1828505972" CREATED="1319453004117" MODIFIED="1521139800274">
<node TEXT="for ($i=0; $i&lt;10; $i++) {&#xa;  &lt;sentencia(s)&gt;;&#xa;}" ID="ID_1118162737" CREATED="1319453004117" MODIFIED="1396289332424"/>
</node>
<node TEXT="for (inicialización; test; incremento)&#xa;    &lt;sentencia(s)&gt;;" ID="ID_382960379" CREATED="1319453004117" MODIFIED="1521139800269">
<icon BUILTIN="button_cancel"/>
<node TEXT="JAMÁS, PORQUE ES PARA LÍOS" ID="ID_190184667" CREATED="1411579871749" MODIFIED="1411579876098"/>
</node>
</node>
<node TEXT="paso a paso" FOLDED="true" ID="ID_1966680005" CREATED="1379618817910" MODIFIED="1442856660727">
<node TEXT="for (A; B; C) {&#xa;  X;&#xa;}&#xa;&#xa;&#xa;A: instrucción (normalmente asignación/inicialización de variable)&#xa;B: condición (es decir, una expresión que se evalúa a true o a false)&#xa;C: instrucción (normalmente, $i++, $numero++, $a=$a+2 o algo parecido)&#xa;&#xa;A&#xa;B?  (como se cumple, damos una vuelta más, es decir, damos la primera vuelta)&#xa;X  (damos la vuelta ejecutando lo que haga falta…)&#xa;C&#xa;B?  (suponemos que también se cumple)&#xa;X  (damos otra vuelta…)&#xa;C&#xa;B?&#xa;X&#xa;C&#xa;B?  (supongamos que NO se cumple)&#xa;&#xa;Finalizó el bucle. Continuamos ejecutando lo que haya DESPUÉS de la llave de&#xa;cierre del for." ID="ID_810622270" CREATED="1379618827907" MODIFIED="1396289239545"/>
</node>
</node>
<node TEXT="foreach" FOLDED="true" ID="ID_435899171" CREATED="1275124749468" MODIFIED="1648544691996">
<node TEXT="recorre todo el array entero" ID="ID_361366201" CREATED="1275124909330" MODIFIED="1275124916609"/>
<node TEXT="según el tipo de array" ID="ID_747716299" CREATED="1275124789942" MODIFIED="1414434456396">
<node TEXT="foreach ($array as $valor)" ID="ID_1620983898" CREATED="1275124790777" MODIFIED="1635851700319">
<node TEXT="(en lugar de var pongo el nombre de una variable)" ID="ID_853190122" CREATED="1275124798834" MODIFIED="1275124808337"/>
<node TEXT="este sirve para ESCALARES" ID="ID_1054902234" CREATED="1275124818506" MODIFIED="1275124822642"/>
</node>
<node TEXT="foreach ($array as $clave =&gt; $valor)" ID="ID_1167966635" CREATED="1275124809513" MODIFIED="1635851662135">
<node TEXT="es para tratar ARRAYS ASOCIATIVOS" ID="ID_1781852263" CREATED="1275124753407" MODIFIED="1275124759446"/>
</node>
</node>
</node>
<node TEXT="while" FOLDED="true" ID="ID_503464905" CREATED="1319453004111" MODIFIED="1521139803394">
<node TEXT="bucle" ID="ID_1742148767" CREATED="1319453004112" MODIFIED="1414434456391">
<node TEXT="while (expr) &lt;sentencia(s)&gt;" ID="ID_297347620" CREATED="1319453004113" MODIFIED="1319453399891"/>
<node TEXT="while (expr) {&#xa;  &lt;sentencia(s)&gt;;&#xa;}" ID="ID_810546848" CREATED="1319453004113" MODIFIED="1319453735798"/>
<node TEXT="while (expr)&#xa;    &lt;sentencia(s)&gt;" ID="ID_414726568" CREATED="1319453004113" MODIFIED="1521139800263">
<icon BUILTIN="button_cancel"/>
<node TEXT="JAMÁS, PORQUE ES PARA LÍOS" ID="ID_1930188353" CREATED="1411579871749" MODIFIED="1411579876098"/>
</node>
</node>
</node>
<node TEXT="do (o do-while)" FOLDED="true" ID="ID_387058025" CREATED="1319453004114" MODIFIED="1521139803394">
<node TEXT="bucle" ID="ID_1574363148" CREATED="1319453004115" MODIFIED="1414434456392">
<node TEXT="do {&#xa;  &lt;sentencia(s)&gt;;&#xa;} while (expr);" ID="ID_1878066471" CREATED="1319453004116" MODIFIED="1319453747798"/>
</node>
</node>
<node TEXT="(condición de salida de los bucles)" FOLDED="true" ID="ID_1729468677" CREATED="1412014665697" MODIFIED="1521139803394">
<node TEXT="dado cualquiera de estos bucles:" ID="ID_330297673" CREATED="1412014676434" MODIFIED="1414434456393">
<node TEXT="while (C) {&#xa;    tal;&#xa;}" ID="ID_1926396480" CREATED="1412014683402" MODIFIED="1412014708229"/>
<node TEXT="do {&#xa;    tal;&#xa;} while (C);" ID="ID_1899187039" CREATED="1412014683402" MODIFIED="1412014715765"/>
</node>
<node TEXT="cuando termine el bucle, C ***NO*** se cumplirá" ID="ID_581109605" CREATED="1412014717688" MODIFIED="1412014788673"/>
</node>
<node TEXT="break" FOLDED="true" ID="ID_36158846" CREATED="1319453004120" MODIFIED="1521139803394">
<icon BUILTIN="forward"/>
<node TEXT="salir del bloque actual" ID="ID_229460166" CREATED="1319453004121" MODIFIED="1414434456394">
<node TEXT="break;" ID="ID_1759150990" CREATED="1319453004121" MODIFIED="1319453498811"/>
</node>
<node TEXT="ES PARA LÍOS, usar solo en casos en los que solucionemos más de lo que complicamos" ID="ID_1861789467" CREATED="1411579871749" MODIFIED="1411580351486"/>
</node>
<node TEXT="continue" FOLDED="true" ID="ID_470996745" CREATED="1320932706807" MODIFIED="1521139803394">
<icon BUILTIN="forward"/>
<node TEXT="da por terminada la iteración o &quot;vuelta&quot; actual en un bucle y pasa a la siguiente vuelta (si procede dar otra vuelta)" ID="ID_1381746486" CREATED="1320932710633" MODIFIED="1414434456394">
<node TEXT="NO USARLO, complica&#xa;mucho los bucles" ID="ID_974666526" CREATED="1320932739651" MODIFIED="1324029722480"/>
</node>
<node TEXT="ES PARA LÍOS, usar solo en casos en los que solucionemos más de lo que complicamos" ID="ID_1429093759" CREATED="1411579871749" MODIFIED="1411580351486"/>
</node>
<node TEXT="return" FOLDED="true" ID="ID_831197418" CREATED="1319453004125" MODIFIED="1521139803394">
<node TEXT="salir de la función actual" ID="ID_239678609" CREATED="1319453004125" MODIFIED="1414434456395">
<node TEXT="return [expr];   o   return;" ID="ID_877504075" CREATED="1319453004126" MODIFIED="1327744058481"/>
</node>
</node>
</node>
<node TEXT="strings (cadenas de texto)" FOLDED="true" POSITION="right" ID="ID_664668437" CREATED="1275122524030" MODIFIED="1573030892513">
<node TEXT="los strings (cadenas de texto) van con comillas dobles o sencillas, a elegir" ID="ID_1908214894" CREATED="1275122483989" MODIFIED="1414434456238">
<icon BUILTIN="atención_!!"/>
<node TEXT="puedo elegir una u otra según me interese (según si quiero usar dentro comillas simples o dobles, etc.)" ID="ID_996378183" CREATED="1275122492967" MODIFIED="1361585316975"/>
</node>
<node TEXT="los strings se concatenan mediante el operador ." ID="ID_41460074" CREATED="1275122544129" MODIFIED="1414434456239">
<icon BUILTIN="atención_!!"/>
<node TEXT="(un punto)" ID="ID_1232430986" CREATED="1275122562342" MODIFIED="1414434456396">
<node TEXT="OJO: NO se concatenan mediante el caracter de suma" ID="ID_751086716" CREATED="1361585383684" MODIFIED="1361585392260"/>
</node>
</node>
<node TEXT="variables dentro de cadenas" ID="ID_1319634321" CREATED="1360866698659" MODIFIED="1414434456239">
<icon BUILTIN="atención_!!"/>
<node TEXT="si usamos comillas &quot;DOBLES&quot;" ID="ID_288688437" CREATED="1360866705438" MODIFIED="1414434456396">
<node TEXT="podemos meter dentro de la cadena una variable con su dólar, $valor, y se sustituye por el valor que tenga" ID="ID_920504017" CREATED="1360866712023" MODIFIED="1360866736413"/>
<node TEXT="echo &quot;&lt;a href=&apos;miPag.php?id=$id&apos;&gt;Ir a donde sea&lt;/a&gt;&quot;;" ID="ID_1638338199" CREATED="1574335173874" MODIFIED="1574335260901"/>
</node>
<node TEXT="si usamos comillas &apos;simples&apos; NO se sustituye" ID="ID_1857252839" CREATED="1360866737329" MODIFIED="1411580450486"/>
</node>
<node TEXT="el caracter de &quot;escape&quot; es \" ID="ID_1431057473" CREATED="1275122527624" MODIFIED="1414434456241">
<node TEXT="para nueva línea pongo \n" ID="ID_115582552" CREATED="1361585359731" MODIFIED="1380566933444"/>
<node TEXT="para tabulador pongo \t" ID="ID_466049160" CREATED="1361585359731" MODIFIED="1411580475910"/>
<node TEXT="para meter unas comillas dobles en un string, pongo \&quot;" ID="ID_1041850907" CREATED="1380566933751" MODIFIED="1380566944054"/>
<node TEXT="para meter una comilla simple en un string, pongo \&apos;" ID="ID_1868744047" CREATED="1380566933751" MODIFIED="1380567292181"/>
<node TEXT="para escribir la propia antibarra, \, uso \\" ID="ID_161515453" CREATED="1275122534885" MODIFIED="1380567275083"/>
</node>
<node TEXT="utilicemos de forma habitual comillas dobles" ID="ID_633022653" CREATED="1380566781192" MODIFIED="1380566791895">
<icon BUILTIN="info_acción"/>
</node>
</node>
<node TEXT="variables&#xa;superglobales&#xa;($_REQUEST...)" FOLDED="true" POSITION="right" ID="ID_770555775" CREATED="1275122923362" MODIFIED="1573030892524">
<node TEXT="&quot;están ahí&quot; sin necesidad de declararlas ya que PHP las gestiona" ID="ID_557649590" CREATED="1275122927208" MODIFIED="1361587026427"/>
<node TEXT="su identificador va en mayúsculas" ID="ID_1590602066" CREATED="1275123400933" MODIFIED="1361587154571"/>
<node TEXT="su tipo es de &quot;array asociativo&quot;" ID="ID_1321015760" CREATED="1275122958844" MODIFIED="1648548434251">
<node TEXT="se accede a los datos por nombre y no por su índice" ID="ID_1315220453" CREATED="1275122972494" MODIFIED="1275122983635"/>
</node>
<node TEXT="VARIABLES&#xa;SUPERGLOBALES&#xa;IMPORTANTES" ID="ID_100193819" CREATED="1275123074316" MODIFIED="1414434456242">
<node TEXT="(todas estas contienen los datos en forma de STRINGS: si quiero números u otras cosas, tengo que convertilos con typecasts [ (int) ... ] u otras funciones)" ID="ID_613353326" CREATED="1414435821798" MODIFIED="1414435864075"/>
<node TEXT="$_REQUEST" ID="ID_1766545966" CREATED="1275123369795" MODIFIED="1574685690012">
<icon BUILTIN="atenciвn_!"/>
<node TEXT="contiene los datos que el cliente haya podido enviar a este PHP, ya sea vía GET o vía POST" ID="ID_540805604" CREATED="1361587059103" MODIFIED="1361587267685"/>
<node TEXT="engloba a $_GET y a $_POST, de modo que si no sé si un dato viene por uno u otro medio, puede pedírsele a $_REQUEST y siempre funcionará" ID="ID_922178232" CREATED="1361587101111" MODIFIED="1361587134899"/>
<node TEXT="$_GET" ID="ID_1752921149" CREATED="1361587052558" MODIFIED="1574683904778">
<icon BUILTIN="atenciвn_!"/>
<node TEXT="contiene los datos que el cliente haya podido enviar a este PHP vía GET" ID="ID_538113502" CREATED="1361587059103" MODIFIED="1361587079897"/>
</node>
<node TEXT="$_POST" ID="ID_1559871762" CREATED="1361587056448" MODIFIED="1574683904778">
<icon BUILTIN="atenciвn_!"/>
<node TEXT="contiene los datos que el cliente haya podido enviar a este PHP vía POST" ID="ID_691371034" CREATED="1361587059103" MODIFIED="1361587083190"/>
</node>
</node>
<node TEXT="$_COOKIE" ID="ID_923687309" CREATED="1361587195382" MODIFIED="1574683904779">
<icon BUILTIN="atenciвn_!"/>
<node TEXT="alberga los datos que hemos recibido del cliente en forma de cookie (que previamente le habremos pedido guardar nosotros mismos)" ID="ID_123177739" CREATED="1361587198644" MODIFIED="1617789316580"/>
</node>
<node TEXT="$_SESSION" ID="ID_577629267" CREATED="1361587185243" MODIFIED="1574683904778">
<icon BUILTIN="atenciвn_!"/>
<node TEXT="alberga los datos guardados en la sesión-RAM del servidor" ID="ID_609155787" CREATED="1361587198644" MODIFIED="1361587220005"/>
</node>
<node TEXT="$_SERVER" ID="ID_134652996" CREATED="1578563909486" MODIFIED="1578563923959">
<icon BUILTIN="atenciвn_!"/>
<node TEXT="datos sobre el servidor" ID="ID_265998232" CREATED="1578563924897" MODIFIED="1578563928158"/>
<node TEXT="PHP_SELF" ID="ID_447299911" CREATED="1578563942381" MODIFIED="1578564030561">
<icon BUILTIN="atenciвn_!"/>
<node TEXT="muy útil para ver la URL que solicitó el usuario" ID="ID_1496428871" CREATED="1578563928422" MODIFIED="1632817813864"/>
<node TEXT="si el PHP solicitado hace un require_once de otro y se comprueba desde el otro, devuelve la URL del primero" ID="ID_1057690616" CREATED="1578563951339" MODIFIED="1578563974601"/>
<node TEXT="ejemplo:" ID="ID_255477245" CREATED="1578563946279" MODIFIED="1578563949034">
<node ID="ID_904987371" CREATED="1578563938621" MODIFIED="1578563938621"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre style="background-color: #ffffff; color: #000000; font-family: DejaVu Sans Mono; font-size: 18,8pt"><span style="background-color: #f7faff">redireccionar(</span><span style="color: #008000; background-color: #f7faff; font-weight: bold"><font color="#008000"><b>&quot;iniciar-sesion.php?redir=&quot; </b></font></span><span style="background-color: #f7faff">. </span><span style="color: #660000; background-color: #f7faff"><font color="#660000">$_SERVER</font></span><span style="background-color: #f7faff">[</span><span style="color: #008000; background-color: #f7faff; font-weight: bold"><font color="#008000"><b>'PHP_SELF'</b></font></span><span style="background-color: #f7faff">]);<br style="background-color: #f7faff"/></span></pre>
  </body>
</html>
</richcontent>
</node>
<node TEXT="PHP_SELF valdría:" ID="ID_838274082" CREATED="1578564008808" MODIFIED="1578564015636">
<node TEXT="/phpstorm/022-sesiones-conbd/contenido1.php" ID="ID_1282256891" CREATED="1578563987769" MODIFIED="1578563988205"/>
</node>
<node TEXT="y por tanto redireccionaría a:" ID="ID_593723572" CREATED="1578563975669" MODIFIED="1578564025231">
<node TEXT="http://localhost/phpstorm/022-sesiones-conbd/iniciar-sesion.php?redir=/phpstorm/022-sesiones-conbd/contenido1.php" ID="ID_822846992" CREATED="1578563998519" MODIFIED="1578563999509"/>
</node>
</node>
</node>
</node>
</node>
</node>
<node TEXT="arrays" FOLDED="true" POSITION="right" ID="ID_453313871" CREATED="1275124180420" MODIFIED="1573030892533">
<node TEXT="arrays&#xa;escalares&#xa;(&quot;normales&quot;)" ID="ID_1747696347" CREATED="1275123654718" MODIFIED="1414434456300">
<node TEXT="funcionan más o menos igual que en Java" ID="ID_76686547" CREATED="1361586118844" MODIFIED="1361586129279"/>
<node TEXT="pero" ID="ID_1563028999" CREATED="1361586137922" MODIFIED="1414434456470">
<node TEXT="los valores que contiene no tienen por qué ser del mismo tipo" ID="ID_602157006" CREATED="1275123806467" MODIFIED="1361586959534"/>
<node TEXT="$a[7] = 1;" ID="ID_1700939833" CREATED="1275123704061" MODIFIED="1521139799993">
<node TEXT="lo mete en la posición 7" ID="ID_1321687923" CREATED="1275123715425" MODIFIED="1521139803166">
<node TEXT="y NO HACE FALTA que haya valores en las posiciones anteriores" ID="ID_1207936179" CREATED="1275123719988" MODIFIED="1275123729007"/>
</node>
</node>
<node TEXT="$a[] = 1;" ID="ID_967331949" CREATED="1275123680388" MODIFIED="1521139799994">
<node TEXT="mete un 1 en la primera posición QUE ESTÉ LIBRE" ID="ID_22766502" CREATED="1275123692743" MODIFIED="1275123702386"/>
</node>
<node TEXT="para ver si una posición está vacía" ID="ID_80477985" CREATED="1275123829438" MODIFIED="1521139799991">
<node TEXT="isset($a[7])" ID="ID_235932348" CREATED="1275123835390" MODIFIED="1275123860028"/>
</node>
</node>
<node TEXT="literales de array escalar:" ID="ID_312102278" CREATED="1602238217863" MODIFIED="1602238223140">
<node TEXT="$lista = array(&quot;Pepe Pérez&quot;, &quot;Pepe López&quot;, &quot;Tomás García&quot;);" ID="ID_802504718" CREATED="1602238230726" MODIFIED="1632818105745" MAX_WIDTH="304.85923 pt" MIN_WIDTH="304.85923 pt">
<node ID="ID_1563481400" CREATED="1632818106421" MODIFIED="1632818106421"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      // Las claves (índices) serán 0, 1, 2...
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
</node>
<node TEXT="arrays&#xa;asociativos" ID="ID_905278004" CREATED="1275123871719" MODIFIED="1414434456302">
<node TEXT="igual, pero USANDO UN STRING COMO ÍNDICE" ID="ID_626658404" CREATED="1275123877351" MODIFIED="1414434456470">
<node TEXT="(y ese índice puede ponerse CON o SIN comillas pero lo pondremos con porque es lo estándar)" ID="ID_1072367797" CREATED="1275125319720" MODIFIED="1632818165257"/>
</node>
<node TEXT="sigue siendo posible acceder a los elementos por su número-índice, como en los arrays escalares normales" ID="ID_233685720" CREATED="1275133695963" MODIFIED="1414434456470">
<node TEXT="pero esto no se suele usar" ID="ID_514450216" CREATED="1365102102636" MODIFIED="1365102106389"/>
</node>
<node TEXT="ejemplo: función getdate" ID="ID_877248168" CREATED="1275123908824" MODIFIED="1414434456471">
<node TEXT="su resultado es un ARRAY ASOCIATIVO" ID="ID_514036642" CREATED="1275123914338" MODIFIED="1521139799991">
<node TEXT="$fecha = getdate();" ID="ID_1560748426" CREATED="1275123925196" MODIFIED="1275124032775"/>
</node>
<node TEXT="y los elementos del array son los datos: día, mes, año..." ID="ID_1312997256" CREATED="1275124037975" MODIFIED="1361586336182"/>
</node>
<node TEXT="literales de array asociativo:" ID="ID_762237996" CREATED="1602237864518" MODIFIED="1602237880436">
<node TEXT="$datos = [&#xa;    &quot;nombre&quot; =&gt; &quot;Fulanito&quot;,&#xa;    &quot;apellido&quot; =&gt; &quot;Mengánez&quot;,&#xa;    &quot;annoNacimiento =&gt; 1982&#xa;];" ID="ID_896889515" CREATED="1602237880893" MODIFIED="1602237926733"/>
<node TEXT="$ciudades = [&#xa;    17 =&gt; &quot;Donosti&quot;,&#xa;    8 =&gt; &quot;Getafe&quot;,&#xa;    4 =&gt; &quot;Toledo&quot;,&#xa;    71 =&gt; &quot;Granada&quot;,&#xa;    52 =&gt; &quot;Lugo&quot;,&#xa;    47 =&gt; &quot;Zaragoza&quot;&#xa;];" ID="ID_843289624" CREATED="1602237870119" MODIFIED="1602237871610"/>
</node>
</node>
<node TEXT="arrays n-dimensionales (matrices...)" ID="ID_639199789" CREATED="1275123982744" MODIFIED="1414434456303">
<node TEXT="valen para los escalares y para los asociativos" ID="ID_1190444746" CREATED="1275123986746" MODIFIED="1275123999149"/>
<node TEXT="sintaxis: $a[7][4]" ID="ID_1452803996" CREATED="1275123999498" MODIFIED="1275124015147"/>
</node>
<node TEXT="mezclas" ID="ID_90467399" CREATED="1275124077053" MODIFIED="1414434456303">
<node TEXT="un array escalar puede contener arrays asociativos" ID="ID_399121555" CREATED="1275124078746" MODIFIED="1275124091634"/>
<node TEXT="o uno asociativo contener arrays escalares" ID="ID_75114316" CREATED="1275124092107" MODIFIED="1361586951691"/>
</node>
</node>
<node TEXT="definir funciones" FOLDED="true" POSITION="right" ID="ID_1492276655" CREATED="1362075311315" MODIFIED="1573030892541">
<node TEXT="función = método (más o menos)" ID="ID_833419808" CREATED="1362075346454" MODIFIED="1362075354808"/>
<node TEXT="sintaxis" ID="ID_1864663452" CREATED="1362075324084" MODIFIED="1414434456244">
<node TEXT="function nombreFuncion(int $parametro1, array $otroParametro)&#xa;{&#xa;         ... // Función sin tipo de devolución&#xa;}" ID="ID_567269409" CREATED="1362075335353" MODIFIED="1603364395415"/>
<node TEXT="function nombreFuncion(int $parametro1, array $otroParametro): int&#xa;{&#xa;         ...&#xa;         return $loQueSea;&#xa;}" ID="ID_1261071727" CREATED="1362075335353" MODIFIED="1648720859503"/>
<node TEXT="function nombreFuncion(int $parametro1, array $otroParametro): ?int&#xa;{&#xa;        if (...) return 17;&#xa;        else return Null;&#xa;&#xa;         ... // Función que devuelve o int, o Null;&#xa;}" ID="ID_722276055" CREATED="1362075335353" MODIFIED="1633675981438"/>
</node>
<node TEXT="se escriben igual las funciones que no devuelven nada (los métodos &quot;void&quot; de Java) que las que sí, solo que estas últimas harán return de alguna variable o valor" ID="ID_222019170" CREATED="1362075393526" MODIFIED="1574686224779"/>
<node TEXT="recomendación:" ID="ID_1661343333" CREATED="1366213171815" MODIFIED="1414434456244">
<icon BUILTIN="info_informaciвn"/>
<node TEXT="poner las funciones en sus propios PHP con &quot;solo funciones&quot; (&quot;utilidades.php&quot;, por ejemplo)" ID="ID_1109813976" CREATED="1366213178457" MODIFIED="1574686520678"/>
</node>
</node>
<node TEXT="funciones de PHP útiles" FOLDED="true" POSITION="right" ID="ID_1322435294" CREATED="1275125090532" MODIFIED="1573030892549">
<node TEXT="(instrucciones)&#xa;básicas" FOLDED="true" ID="ID_844685721" CREATED="1410884600190" MODIFIED="1633678523561">
<node TEXT="echo &lt;valor&gt;;" ID="ID_1672119834" CREATED="1410884617879" MODIFIED="1521139803385">
<icon BUILTIN="button_ok"/>
<node TEXT="(comentada en aspectos básicos)" ID="ID_678394408" CREATED="1410884630209" MODIFIED="1410884639351"/>
</node>
<node TEXT="exit;" ID="ID_1331733253" CREATED="1362150641562" MODIFIED="1633678507962">
<icon BUILTIN="button_ok"/>
<node TEXT="termina de ejecutar el PHP actual y devuelve &quot;LO QUE HAYA hasta ahora&quot;" ID="ID_761758810" CREATED="1362150654496" MODIFIED="1362150679244"/>
<node TEXT="si habíamos hecho algún redirect, lo conserva también" ID="ID_278804547" CREATED="1362150683151" MODIFIED="1521139800245">
<node TEXT="de hecho, SE USA MUCHO JUSTO TRAS UN REDIRECT" ID="ID_89255835" CREATED="1365100707198" MODIFIED="1365100718491"/>
</node>
</node>
</node>
<node TEXT="matemáticas" FOLDED="true" ID="ID_701046920" CREATED="1380824114909" MODIFIED="1521140644790">
<node TEXT="módulo (resto de la división entera)" ID="ID_1465386508" CREATED="1380824287456" MODIFIED="1521139803385">
<node TEXT="13 % 5" ID="ID_789756447" CREATED="1380824291593" MODIFIED="1521139800244">
<node TEXT="dará 3" ID="ID_150207999" CREATED="1380824301777" MODIFIED="1380824306023"/>
</node>
</node>
<node TEXT="truncar (quitar parte decimal)" ID="ID_1734717820" CREATED="1380824231489" MODIFIED="1521139803385">
<icon BUILTIN="button_ok"/>
<node TEXT="floor(17.7)" ID="ID_263067988" CREATED="1380824223337" MODIFIED="1380824230262"/>
</node>
<node TEXT="redondear" ID="ID_1520350083" CREATED="1380824238977" MODIFIED="1521139803385">
<icon BUILTIN="button_ok"/>
<node TEXT="round(17.72354, 0)" ID="ID_660394407" CREATED="1380824241555" MODIFIED="1521139800243">
<node TEXT="esto sería sin decimales (puro entero)" ID="ID_1098244887" CREATED="1380824251516" MODIFIED="1380824278260"/>
</node>
<node TEXT="round(17.72354, 2)" ID="ID_1018330493" CREATED="1380824241555" MODIFIED="1521139800239">
<node TEXT="esto sería con dos decimales" ID="ID_823781938" CREATED="1380824251516" MODIFIED="1380824254897"/>
</node>
</node>
</node>
<node TEXT="de strings" FOLDED="true" ID="ID_1617319115" CREATED="1361200698303" MODIFIED="1521140634882">
<node TEXT="sprintf" ID="ID_170487236" CREATED="1361200667070" MODIFIED="1521139803385">
<node TEXT="es como el String.format()" ID="ID_1050004735" CREATED="1361200669667" MODIFIED="1361200676117"/>
</node>
</node>
<node TEXT="de fechas" FOLDED="true" ID="ID_519572152" CREATED="1410885296534" MODIFIED="1521139803385">
<node TEXT="ejemplos con date()" FOLDED="true" ID="ID_1906295938" CREATED="1410885183921" MODIFIED="1521139803384">
<node TEXT="uno" ID="ID_1698303238" CREATED="1410885264412" MODIFIED="1521139800234">
<node TEXT="// Imprime algo como: Monday&#xa;echo date(&quot;l&quot;);&#xa;&#xa;// Imprime algo como: Monday 8th of August 2005 03:12:46 PM&#xa;echo date(&apos;l jS \of F Y h:i:s A&apos;);&#xa;&#xa;// Imprime: July 1, 2000 is on a Saturday&#xa;echo &quot;July 1, 2000 is on a &quot; . date(&quot;l&quot;, mktime(0, 0, 0, 7, 1, 2000));&#xa;&#xa;/* Usar las constantes en el parámetro de formato */&#xa;// Imprime algo como: Wed, 25 Sep 2013 15:28:57 -0700&#xa;echo date(DATE_RFC2822);&#xa;&#xa;// Imprime algo como: 2000-07-01T00:00:00+00:00&#xa;echo date(DATE_ATOM, mktime(0, 0, 0, 7, 1, 2000));" ID="ID_101562279" CREATED="1410885226737" MODIFIED="1574686758829"/>
</node>
<node TEXT="otro" ID="ID_188190284" CREATED="1410885266036" MODIFIED="1521139800229">
<node TEXT="$mañana        = mktime(0, 0, 0, date(&quot;m&quot;)  , date(&quot;d&quot;)+1, date(&quot;Y&quot;));&#xa;$mes_anterior  = mktime(0, 0, 0, date(&quot;m&quot;)-1, date(&quot;d&quot;),   date(&quot;Y&quot;));&#xa;$año_siguiente = mktime(0, 0, 0, date(&quot;m&quot;),   date(&quot;d&quot;),   date(&quot;Y&quot;)+1);" ID="ID_626591441" CREATED="1410885243579" MODIFIED="1410885244713"/>
</node>
<node TEXT="otro más" ID="ID_136278190" CREATED="1410885267777" MODIFIED="1521139800223">
<node TEXT="$hoy = date(&quot;F j, Y, g:i a&quot;);                 // March 10, 2001, 5:16 pm&#xa;$hoy = date(&quot;m.d.y&quot;);                         // 03.10.01&#xa;$hoy = date(&quot;j, n, Y&quot;);                       // 10, 3, 2001&#xa;$hoy = date(&quot;Ymd&quot;);                           // 20010310&#xa;$hoy = date(&apos;h-i-s, j-m-y, it is w Day&apos;);     // 05-16-18, 10-03-01, 1631 1618 6 Satpm01&#xa;$hoy = date(&apos;\i\t \i\s \t\h\e jS \d\a\y.&apos;);   // it is the 10th day.&#xa;$hoy = date(&quot;D M j G:i:s T Y&quot;);               // Sat Mar 10 17:16:18 MST 2001&#xa;$hoy = date(&apos;H:m:s \m \i\s\ \m\o\n\t\h&apos;);     // 17:03:18 m is month&#xa;$hoy = date(&quot;H:i:s&quot;);                         // 17:16:18&#xa;$hoy = date(&quot;Y-m-d H:i:s&quot;);                   // 2001-03-10 17:16:18 (el formato DATETIME de MySQL)" ID="ID_509075883" CREATED="1410885269118" MODIFIED="1410885270689"/>
</node>
</node>
<node TEXT="fecha para MySQL" FOLDED="true" ID="ID_845690515" CREATED="1578567047013" MODIFIED="1578567050933">
<node TEXT="$now = date(&quot;Y-m-d H:i:s&quot;)" ID="ID_1646171835" CREATED="1578567051200" MODIFIED="1578567062513"/>
<node TEXT="esto daría &quot;2020-09-01 11:48&quot; y este es el formato de un &quot;DATETIME&quot; de MySQL" ID="ID_515557291" CREATED="1578567062858" MODIFIED="1578567134168"/>
</node>
</node>
<node TEXT="de arrays" FOLDED="true" ID="ID_1699632072" CREATED="1275125355727" MODIFIED="1521139803382">
<node TEXT="sizeof(array)" FOLDED="true" ID="ID_1491512364" CREATED="1275125347839" MODIFIED="1574686904693">
<icon BUILTIN="atenciвn_!"/>
<node TEXT="nº de elementos" ID="ID_1863462199" CREATED="1275125359352" MODIFIED="1275125369751"/>
<node TEXT="OJO porque si tengo 17 elementos no sé cuál es el último (no tiene por qué ser el miArray[16] ó el miArray[17])" ID="ID_981445750" CREATED="1574687092925" MODIFIED="1574687120305"/>
</node>
<node TEXT="print_r($array);" FOLDED="true" ID="ID_1186599201" CREATED="1275123950429" MODIFIED="1574686895901">
<icon BUILTIN="atenciвn_!"/>
<node TEXT="saca al HTML (como si se hicieran &quot;echos&quot;) el contenido del array (incluye el &quot;echo&quot;, digamos)" ID="ID_196026592" CREATED="1275123962457" MODIFIED="1574687087874"/>
<node TEXT="es solo para depurar: buscar errores, etc." ID="ID_565418063" CREATED="1383850150200" MODIFIED="1383850318756"/>
</node>
<node TEXT="ejemplo diff y values" FOLDED="true" ID="ID_1080636115" CREATED="1383850114856" MODIFIED="1521139803379">
<icon BUILTIN="info_informaciвn"/>
<node TEXT="Tras Scandir:&#xa;array(6) {&#xa; [0]=&gt;&#xa; string(1) &quot;.&quot;&#xa; [1]=&gt;&#xa; string(2) &quot;..&quot;&#xa; [2]=&gt;&#xa; string(12) &quot;_portada.jpg&quot;&#xa; [3]=&gt;&#xa; string(12) &quot;otra mas.jpg&quot;&#xa; [4]=&gt;&#xa; string(8) &quot;otra.jpg&quot;&#xa; [5]=&gt;&#xa; string(7) &quot;una.jpg&quot;&#xa;}" ID="ID_1388874976" CREATED="1383850119145" MODIFIED="1383850440978"/>
<node TEXT="Tras Diff:&#xa;array(3) {&#xa; [3]=&gt;&#xa; string(12) &quot;otra mas.jpg&quot;&#xa; [4]=&gt;&#xa; string(8) &quot;otra.jpg&quot;&#xa; [5]=&gt;&#xa; string(7) &quot;una.jpg&quot;&#xa;}" ID="ID_1625319056" CREATED="1383850441374" MODIFIED="1383850443994"/>
<node TEXT="Tras Values:&#xa;array(3) {&#xa; [0]=&gt;&#xa; string(12) &quot;otra mas.jpg&quot;&#xa; [1]=&gt;&#xa; string(8) &quot;otra.jpg&quot;&#xa; [2]=&gt;&#xa; string(7) &quot;una.jpg&quot;&#xa;}" ID="ID_1043472619" CREATED="1383850433766" MODIFIED="1383850435195"/>
</node>
<node TEXT="array_diff($original, $quitar)" FOLDED="true" ID="ID_1465503766" CREATED="1383850069089" MODIFIED="1574686895898">
<icon BUILTIN="atenciвn_!"/>
<node TEXT="devuelve el array original, pero habiéndole quitado los elementos que contenía el array $quitar" ID="ID_843897316" CREATED="1383850345302" MODIFIED="1383850362795"/>
<node TEXT="esta función ARRANCA los elementos, por tanto los índices NO se actualizan y si se quieren actualizar hay que utilizar array_values o similar" ID="ID_190589394" CREATED="1383850363022" MODIFIED="1383850386588"/>
</node>
<node TEXT="array_values($array)" ID="ID_776334686" CREATED="1383850071345" MODIFIED="1574686895901">
<icon BUILTIN="atenciвn_!"/>
<node TEXT="reconstruye el array, de modo que si había huecos, los elimina" ID="ID_1144593117" CREATED="1383850395062" MODIFIED="1383850406227"/>
</node>
<node TEXT="array_keys($array)" FOLDED="true" ID="ID_227243022" CREATED="1275125395520" MODIFIED="1574687025482">
<node TEXT="devuelve un array escalar con todas las claves de un array asociativo" ID="ID_1770962828" CREATED="1275125412696" MODIFIED="1574687028516"/>
<node TEXT="útil para saber qué hay en un array" ID="ID_789577621" CREATED="1574687029890" MODIFIED="1574687036856"/>
</node>
<node TEXT="in_array(valor, array)" FOLDED="true" ID="ID_1634036617" CREATED="1275125382947" MODIFIED="1521139803377">
<node TEXT="devuelve un boolean indicando si está el valor en el array" ID="ID_1073113326" CREATED="1275125393016" MODIFIED="1574687220803"/>
<node TEXT="no busca claves: busca VALORES" ID="ID_489347655" CREATED="1574687146171" MODIFIED="1574687229137"/>
</node>
</node>
<node TEXT="sobre variables" FOLDED="true" ID="ID_1411206105" CREATED="1383849037201" MODIFIED="1445876808707">
<node TEXT="isset" ID="ID_807243970" CREATED="1361476363951" MODIFIED="1574687328455">
<icon BUILTIN="atenciвn_!"/>
<node TEXT="determina si una variable está definida *y* no es NULL" ID="ID_66304869" CREATED="1361476371156" MODIFIED="1574687249613"/>
<node TEXT="se puede utilizar sobre&#xa;tres tipos de elementos" ID="ID_835417584" CREATED="1414435264220" MODIFIED="1602842556499">
<node TEXT="sobre una variable &quot;normal&quot;" ID="ID_829814965" CREATED="1414435272530" MODIFIED="1521139803377">
<node TEXT="me dice si existe o no (si alguien le ha asignado un valor ya, o si no) (eso sí: si existe con null, también dice false)" ID="ID_673270034" CREATED="1414435283579" MODIFIED="1602842578245"/>
</node>
<node TEXT="sobre una variable de tipo array asociativo, como por ejemplo, $_REQUEST" ID="ID_136327500" CREATED="1414435309602" MODIFIED="1521139803376">
<node TEXT="¿existe &quot;la estantería&quot;?" ID="ID_1520281017" CREATED="1414435332537" MODIFIED="1602842590672"/>
</node>
<node TEXT="sobre un valor concreto que pueda estar dentro de una variable de tipo array asociativo, como por ejemplo, $_REQUEST[&quot;nombre&quot;]" ID="ID_1212659855" CREATED="1414435309602" MODIFIED="1521139803374">
<node TEXT="¿existe tal valor dentro de la estantería?" ID="ID_498010101" CREATED="1414435332537" MODIFIED="1602842607496"/>
<node TEXT="¿han enviado un parámetro llamado &quot;nombre&quot;?" ID="ID_769899022" CREATED="1414435390410" MODIFIED="1414435399646"/>
</node>
</node>
<node TEXT="por ejemplo" ID="ID_133397359" CREATED="1412793877326" MODIFIED="1521139800206">
<node TEXT="if (isset($valor)) {...}" ID="ID_1261137590" CREATED="1412793881079" MODIFIED="1412793894730"/>
</node>
<node TEXT="por ejemplo, para saber si han enviado un formulario" ID="ID_1635798991" CREATED="1361476389906" MODIFIED="1521139800204">
<node TEXT="if (isset($_REQUEST)) {...}" ID="ID_1050069870" CREATED="1412793835384" MODIFIED="1412793853563"/>
</node>
<node TEXT="por ejemplo, para saber si viene determinado parámetro" ID="ID_640936982" CREATED="1412793860921" MODIFIED="1521139800203">
<node TEXT="if (isset($_REQUEST[&quot;usuario&quot;])) { ... }" ID="ID_126446707" CREATED="1361476417818" MODIFIED="1361476424885"/>
</node>
<node TEXT="si una variable contiene &quot;&quot; (cadena de texto vacía) SÍ ESTÁ &quot;set&quot;" ID="ID_1038296450" CREATED="1444761823317" MODIFIED="1444761836458"/>
</node>
<node TEXT="unset($n)" ID="ID_1636975216" CREATED="1383849041075" MODIFIED="1574687328457">
<icon BUILTIN="atenciвn_!"/>
<node TEXT="retira una variable del mundo PHP (como si nunca hubiera existido)" ID="ID_982185332" CREATED="1383849042893" MODIFIED="1383849057489"/>
<node TEXT="con un array" ID="ID_1726622285" CREATED="1383849059672" MODIFIED="1521139800202">
<node TEXT="si hago unset($entradas[2])" ID="ID_1317456131" CREATED="1383849150391" MODIFIED="1521139803373">
<node TEXT="elimino la 3ª entrada (base 0)" ID="ID_649634184" CREATED="1383849159167" MODIFIED="1383849165148"/>
</node>
<node TEXT="pero OJO, que no se actualizan los índices de los siguientes elementos (queda un HUECO)" ID="ID_1196193536" CREATED="1383849170943" MODIFIED="1383849183708"/>
<node TEXT="para normalizar, habría que utilizar array_values" ID="ID_946253612" CREATED="1383849209479" MODIFIED="1383850056214"/>
</node>
</node>
<node TEXT="var_dump($variable)" ID="ID_136642340" CREATED="1383850298087" MODIFIED="1574687328457">
<icon BUILTIN="atenciвn_!"/>
<node TEXT="saca al HTML el valor de la variable indicada" ID="ID_1701872190" CREATED="1383850302991" MODIFIED="1383850311853"/>
<node TEXT="es solo para depurar: buscar errores, etc." ID="ID_183296671" CREATED="1383850150200" MODIFIED="1383850318756"/>
</node>
</node>
<node TEXT="de tipos" FOLDED="true" ID="ID_1682256707" CREATED="1361200701407" MODIFIED="1521139803372">
<node TEXT="comprobar TIPO DE LA VARIABLE" FOLDED="true" ID="ID_1075843506" CREATED="1381172695279" MODIFIED="1521139803371">
<node TEXT="is_integer, is_float, is_string..." ID="ID_1071982489" CREATED="1275125370318" MODIFIED="1275125385257"/>
<node TEXT="ejemplo" ID="ID_1270110068" CREATED="1381172726083" MODIFIED="1521139800195">
<node TEXT="is_integer(7) dice que TRUE" ID="ID_477863360" CREATED="1381172705036" MODIFIED="1381172733942"/>
<node TEXT="is_integer(&quot;7&quot;) dice que FALSE" ID="ID_256578867" CREATED="1381172705036" MODIFIED="1381172714167"/>
</node>
</node>
<node TEXT="comprobar VALOR de la variable" FOLDED="true" ID="ID_457915928" CREATED="1381172753958" MODIFIED="1521139803371">
<node TEXT="is_numeric" ID="ID_710537635" CREATED="1381172763494" MODIFIED="1574687534334">
<icon BUILTIN="atenciвn_!"/>
<node TEXT="dice si la variable contiene algo que, sea o no sea integer, PUEDA SER interpretado como integer" ID="ID_1177114261" CREATED="1445450554147" MODIFIED="1445450571830"/>
<node TEXT="ejemplo" ID="ID_1757346192" CREATED="1381172726083" MODIFIED="1521139803370">
<node TEXT="is_numeric(7) dice que TRUE" ID="ID_129321801" CREATED="1381172705036" MODIFIED="1381172774945"/>
<node TEXT="is_numeric(&quot;7&quot;) también dice que *TRUE*" ID="ID_135743540" CREATED="1381172705036" MODIFIED="1381172785527"/>
</node>
</node>
</node>
<node TEXT="gettype($variable)" ID="ID_1666300336" CREATED="1275122751137" MODIFIED="1521139803368">
<node TEXT="consulta un tipo" ID="ID_1146593781" CREATED="1275122788274" MODIFIED="1275122791255"/>
</node>
<node TEXT="settype($variable, nuevo tipo)" FOLDED="true" ID="ID_1140082567" CREATED="1275122770950" MODIFIED="1521139803368">
<node TEXT="fuerza una conversión (ojo con recortes, errores...)" ID="ID_1247205760" CREATED="1275122780138" MODIFIED="1275122898279"/>
</node>
<node TEXT="manipulación implícita de tipos" ID="ID_1527984884" CREATED="1384195291033" MODIFIED="1521139803368">
<node TEXT="ejemplos 1" ID="ID_1379929507" CREATED="1384195307041" MODIFIED="1521139800190">
<node TEXT="$foo = &quot;0&quot;;  // $foo es string (ASCII 48)&#xa;$foo = $foo + 2;   // $foo es ahora un integer (2)&#xa;$foo = $foo + 1.3;  // $foo es ahora un float (3.3)&#xa;$foo = 5 + &quot;10 Cerditos pequeñitos&quot;; // $foo es integer (15)" ID="ID_680587901" CREATED="1384195309010" MODIFIED="1574687610423"/>
</node>
<node TEXT="ejemplos 2" ID="ID_1911295294" CREATED="1384195331224" MODIFIED="1521139800188">
<node TEXT="$foo = 10;            // $foo es un integer&#xa;$str = &quot;$foo&quot;;        // $str es un string&#xa;$fst = (string) $foo; // $fst es tambien un string" ID="ID_1589126515" CREATED="1384195333384" MODIFIED="1384195334518"/>
</node>
</node>
<node TEXT="conversiones explícitas&#xa;entre tipos (typecast-s)" ID="ID_211103596" CREATED="1380824118293" MODIFIED="1521139803366">
<icon BUILTIN="button_ok"/>
<node TEXT="se antepone el tipo deseado entre paréntesis" ID="ID_80263406" CREATED="1380824168979" MODIFIED="1521139800186">
<node TEXT="tiene que ser posible la conversión, no vale convertir &quot;hola&quot; a entero..." ID="ID_1239604288" CREATED="1380824190113" MODIFIED="1380824201548"/>
</node>
<node TEXT="ejemplo: convertir a int (es lo que más se usa)" ID="ID_631532378" CREATED="1380824135567" MODIFIED="1521139800185">
<node TEXT="$a = 17.7;   ó   $a = &quot;17&quot;;   ó   $a = &quot;17.7&quot;;   ó   $a = &quot;17 manzanas&quot;;&#xa;$b = (int) $a; // Se queda el 17 a secas con cualquiera de los ejemplos anteriores." ID="ID_910294392" CREATED="1380824139946" MODIFIED="1384195258406"/>
</node>
</node>
</node>
<node TEXT="de ficheros" FOLDED="true" ID="ID_1978983270" CREATED="1381778631696" MODIFIED="1521139803366">
<node TEXT="listar ficheros que hay en una carpeta" FOLDED="true" ID="ID_1115932562" CREATED="1381778634519" MODIFIED="1521139803366">
<node TEXT="scandir (usada en clase)" ID="ID_82886335" CREATED="1381778590581" MODIFIED="1574687735101">
<icon BUILTIN="atenciвn_!"/>
<node TEXT="$carpeta = &quot;imagenes&quot;;&#xa;$ficheros = scandir($carpeta);&#xa;$cantidad_ficheros = count($ficheros);&#xa;&#xa;// Se empieza en 2 porque 0 y 1 son las carpetas &quot;.&quot; y &quot;..&quot;.&#xa;for($num_fichero=2; $num_fichero&lt;$cantidad_ficheros; $num_fichero++) {&#xa;&#x9;echo &quot;$ficheros[$num_fichero]&lt;br \&gt;&quot;;&#xa;}&#xa;" ID="ID_602573215" CREATED="1381778550288" MODIFIED="1381778560245"/>
</node>
<node TEXT="opendir (no usada en clase" ID="ID_1068859705" CREATED="1381778587774" MODIFIED="1521139800180">
<node TEXT="$carpeta = opendir(&apos;imagenes&apos;);&#xa;if ($carpeta) {&#xa;&#x9;while (($fichero = readdir($carpeta)) !== false) {&#xa;&#x9;&#x9;if ($fichero != &quot;.&quot; &amp;&amp; $fichero != &quot;..&quot;) {&#xa;&#x9;&#x9;&#x9;echo &quot;$fichero&lt;br /&gt;&quot;;&#xa;&#x9;&#x9;}&#xa;&#x9;}&#xa;&#x9;closedir($carpeta);&#xa;}" ID="ID_800397337" CREATED="1381423734687" MODIFIED="1381778586289"/>
</node>
</node>
</node>
<node TEXT="valor vs referencia" FOLDED="true" ID="ID_57427693" CREATED="1275125165695" MODIFIED="1521139803366">
<icon BUILTIN="info_informaciвn"/>
<node TEXT="(si no sabes a qué se refiere esto, no te preocupes)" ID="ID_1653576905" CREATED="1444760250026" MODIFIED="1444760262782"/>
<node TEXT="los parámetros se pasan por defecto POR VALOR" ID="ID_1506289269" CREATED="1275125142729" MODIFIED="1275125150828"/>
<node TEXT="para pasar por REFERENCIA" ID="ID_1262065663" CREATED="1275125210818" MODIFIED="1414434456419">
<node TEXT="pero para esto hay que activar una directiva allow_call_pass_by_reference" ID="ID_377775521" CREATED="1275125214154" MODIFIED="1384195440774"/>
<node TEXT="y hay que poner un &amp;" ID="ID_961897679" CREATED="1275125163610" MODIFIED="1521139800176">
<node TEXT="al llamar" ID="ID_1800217290" CREATED="1275125179709" MODIFIED="1521139803365">
<node TEXT="o al recibir" ID="ID_1188542180" CREATED="1275125183605" MODIFIED="1275125187613"/>
</node>
<node TEXT="¡en cualquiera de los dos!" ID="ID_1314695750" CREATED="1275125190551" MODIFIED="1361587625559"/>
</node>
</node>
</node>
</node>
<node TEXT="&quot;maneras de llamar&quot; a otros PHPs" FOLDED="true" POSITION="right" ID="ID_1032821341" CREATED="1416426544726" MODIFIED="1664535695461">
<node TEXT="links (sean parametrizados o no)" ID="ID_1564348510" CREATED="1416426551126" MODIFIED="1416426563067"/>
<node TEXT="formularios: action=&apos;url&apos;" ID="ID_1351730628" CREATED="1416426564070" MODIFIED="1604920427986"/>
<node TEXT="redirecciones y remapeos del servidor web (de Apache...)" ID="ID_1042722096" CREATED="1603365356496" MODIFIED="1604920444367"/>
<node TEXT="require_once" ID="ID_1935401366" CREATED="1416426576078" MODIFIED="1416426583690">
<node TEXT="equivale a incrustar &quot;aquí&quot; TODO el contenido de otro fichero" ID="ID_1574393693" CREATED="1603365500585" MODIFIED="1603365517231"/>
</node>
<node TEXT="llamar a una función" ID="ID_739271633" CREATED="1416426585278" MODIFIED="1416426590890"/>
<node TEXT="redireccionar&#xa;(redirect)" ID="ID_1508211487" CREATED="1416426641854" MODIFIED="1664535695463">
<node TEXT="es como devolverle al navegador un &quot;link obligatorio&quot;" ID="ID_1922077365" CREATED="1444761216115" MODIFIED="1603364695991"/>
<node TEXT="el navegador ES CONSCIENTE de la redirección" ID="ID_143439016" CREATED="1603364696147" MODIFIED="1603364703071"/>
<node TEXT="el humano, NO es consciente" ID="ID_122000103" CREATED="1604920849460" MODIFIED="1604920856402"/>
<node TEXT="hay dos maneras" ID="ID_1007562585" CREATED="1603367410161" MODIFIED="1603367412007">
<node TEXT="&quot;meta redirect&quot;" ID="ID_1114805327" CREATED="1603367415391" MODIFIED="1633677417792">
<icon BUILTIN="button_cancel"/>
</node>
<node TEXT="&quot;header location&quot;" ID="ID_449200806" CREATED="1603367412211" MODIFIED="1633677420057">
<icon BUILTIN="button_ok"/>
</node>
</node>
</node>
</node>
<node TEXT="include/require" FOLDED="true" POSITION="right" ID="ID_1598411886" CREATED="1361472642335" MODIFIED="1604921351850">
<node TEXT="sirven para incrustar en este PHP un php que hay en otro fichero" ID="ID_133279188" CREATED="1361473137655" MODIFIED="1361473152232"/>
<node TEXT="include/require + ¿_once?" ID="ID_1657062023" CREATED="1361473068254" MODIFIED="1414434456245">
<node TEXT="include &quot;loquesea.php&quot;;" ID="ID_1092903553" CREATED="1361473088816" MODIFIED="1603365806716">
<icon BUILTIN="smily_bad"/>
</node>
<node TEXT="include_once &quot;loquesea.php&quot;;" ID="ID_986131555" CREATED="1361473088816" MODIFIED="1603365806714">
<icon BUILTIN="smily_bad"/>
</node>
<node TEXT="require &quot;loquesea.php&quot;;" ID="ID_1581276382" CREATED="1361473088816" MODIFIED="1574761723546">
<icon BUILTIN="atenciвn_!"/>
</node>
<node TEXT="require_once &quot;loquesea.php&quot;;" ID="ID_657201349" CREATED="1361473088816" MODIFIED="1574761727917">
<icon BUILTIN="atenciвn_!"/>
<icon BUILTIN="atenciвn_!"/>
<node TEXT="ESTE ES EL QUE MÁS SE UTILIZA" ID="ID_444065593" CREATED="1381418426733" MODIFIED="1381418433538"/>
</node>
</node>
<node TEXT="comportamiento" ID="ID_1340283808" CREATED="1361473161064" MODIFIED="1414434456247">
<node TEXT="los include y los require funcionan exactamente igual salvo en lo que se refiere a cómo actúan ante un error" ID="ID_1465879128" CREATED="1361473166201" MODIFIED="1414434456400">
<node TEXT="include: si al incrustar el otro PHP surge un error, se continúa procesando la página actual a pesar de todo" ID="ID_521964012" CREATED="1361473189516" MODIFIED="1361473285804"/>
<node TEXT="require: si al incrustar el otro PHP surge un error, se DETIENE el procesamiento de la página y al cliente se le devuelve un código de error (se supone que no revela información sensible sobre el servidor)" ID="ID_1168433378" CREATED="1361473189516" MODIFIED="1603365846576"/>
</node>
<node TEXT="la coletilla &quot;_once&quot; funciona igual salvo en el caso de que se incruste algo más de una vez" ID="ID_1317991987" CREATED="1361473188583" MODIFIED="1414434456401">
<node TEXT="sin _once, se incrustará por segunda vez" ID="ID_226526596" CREATED="1361473333240" MODIFIED="1361473344467"/>
<node TEXT="con _once, NO se incrustará por segunda vez" ID="ID_1520021551" CREATED="1361473333240" MODIFIED="1361473350941"/>
</node>
</node>
<node TEXT="los ficheros php que vayamos a incrustar se tratan y se procesan exactamente igual que el fichero que pide la inclusión" ID="ID_1558508560" CREATED="1361474057049" MODIFIED="1414434456247">
<node TEXT="es decir, que se les puede meter HTML, PHP, javascript..." ID="ID_1643165808" CREATED="1361474113443" MODIFIED="1361474124823"/>
<node TEXT="y, por tanto, si quiero meter php tengo que ponerlo entre etiquetas &lt;?php ... ?&gt;" ID="ID_1270192877" CREATED="1361474131208" MODIFIED="1361474145130"/>
</node>
<node TEXT="es conveniente poner a los ficheros &quot;trozo&quot; una denominación que los identifique claramente" ID="ID_912741523" CREATED="1361473814029" MODIFIED="1414434456248">
<icon BUILTIN="info_informaciвn"/>
<node TEXT="por ejemplo, que comiencen por _" ID="ID_1395462070" CREATED="1361473831398" MODIFIED="1361473839398"/>
</node>
</node>
<node TEXT="redirecciones" FOLDED="true" POSITION="right" ID="ID_762877911" CREATED="1384454993727" MODIFIED="1604921355097">
<node TEXT="&quot;meta redirect&quot; (HTML)" FOLDED="true" ID="ID_1019255048" CREATED="1381173423760" MODIFIED="1603367875812">
<node TEXT="esto se devuelve como parte de una página HTML &quot;COMPLETA&quot;" ID="ID_1210942810" CREATED="1603367766822" MODIFIED="1604921485064"/>
<node TEXT="&lt;_html&gt;&#xa;&lt;head&gt;&#xa;    &lt;meta http-equiv=&quot;refresh&quot; content=&quot;5;URL=listado.php&quot;&gt;&#xa;&lt;/head&gt;&#xa;&lt;body&gt;&#xa;   ... contenido ...&#xa;&lt;/html&gt;" ID="ID_1948733852" CREATED="1381173428401" MODIFIED="1633678225099">
<icon BUILTIN="atenciвn_!"/>
</node>
<node TEXT="puedo poner 0 pero eso provoca &quot;glitches&quot;" ID="ID_178420931" CREATED="1604921485618" MODIFIED="1604921494719"/>
<node TEXT="NO es, en principio, el estilo actual de hacer las cosas" ID="ID_240435326" CREATED="1618826530692" MODIFIED="1618826541412"/>
</node>
<node TEXT="&quot;header location&quot; (HTTP)" FOLDED="true" ID="ID_166162388" CREATED="1384455000607" MODIFIED="1604921372144">
<node TEXT="header(&quot;Location: otroScript.php?posibleParam=17&quot;);" ID="ID_1497097085" CREATED="1384455009903" MODIFIED="1634556345116">
<icon BUILTIN="atenciвn_!"/>
<node TEXT="se basa en meta-órdenes del protocolo HTTP" ID="ID_1626804127" CREATED="1604921540322" MODIFIED="1604921550485"/>
<node TEXT="redirige al cliente a otro PHP (es decir, PIDE al navegador que cargue otro PHP)." ID="ID_882481267" CREATED="1384455046871" MODIFIED="1604921551831"/>
<node TEXT="es como devolver al cliente un &quot;link obligatorio&quot;" ID="ID_531008869" CREATED="1444761422664" MODIFIED="1444761434963"/>
<node TEXT="(en PHP suele ir seguido de un exit; para terminar de procesar inmediatamente este PHP y devolver el control al navegador) (y el navegador deberá solicitarnos la URL del link)" ID="ID_1378637154" CREATED="1416426680269" MODIFIED="1604921577520"/>
<node TEXT="esto de header(...) sirve para varias cosas, no solo esto" ID="ID_317574086" CREATED="1604921589350" MODIFIED="1604921981844"/>
<node TEXT="el header(...) SIEMPRE tiene que ir ANTES de generar ni un solo espacio en HTML" ID="ID_1570093326" CREATED="1604921982311" MODIFIED="1604922105418"/>
<node TEXT="en algunos casos se puede poner header(...) y, luego, generar página HTML. En el caso del &quot;header location&quot;, NO se puede generar página HTML" ID="ID_1374277989" CREATED="1604921991691" MODIFIED="1604922019930"/>
</node>
<node TEXT="exit;" ID="ID_1971667045" CREATED="1384455066191" MODIFIED="1633678483762">
<icon BUILTIN="atenciвn_!"/>
<node TEXT="termina de procesar este PHP y se devuelve &quot;lo que haya&quot;" ID="ID_55323259" CREATED="1384455070366" MODIFIED="1384458748313"/>
<node TEXT="muy útil si justo después de la redirección viene código que SOLO debe ejecutarse si NO hemos redirigido [por ejemplo, if (hay error) {redirijo; exit();} Y si no, continúo con más cosas...]" ID="ID_1846106333" CREATED="1384458740496" MODIFIED="1384458817175"/>
</node>
</node>
</node>
<node TEXT="depurar (&quot;syso&quot;/&quot;sysout&quot;)" FOLDED="true" POSITION="right" ID="ID_704969651" CREATED="1361985646718" MODIFIED="1573030892591">
<node TEXT="en PHP, al ejecutarse en servidor, no hay una consola a la que se pueda sacar texto, como hace en Java el System.out.println()" ID="ID_495259531" CREATED="1361985655208" MODIFIED="1362075593100"/>
<node TEXT="opción fácil y rápida" ID="ID_1406010987" CREATED="1361986088142" MODIFIED="1414434456305">
<node TEXT="en su lugar, se puede utilizar este &quot;truco&quot; para sacar contenido a un fichero de Logs de APACHE que estará situado en una carpeta como esta:" ID="ID_1675296303" CREATED="1361985987439" MODIFIED="1414434456472">
<node TEXT="C:\xampp\apache\logs\error.log" ID="ID_1090375402" CREATED="1361986057981" MODIFIED="1361986057981"/>
</node>
<node TEXT="" ID="ID_688061122" CREATED="1361985991692" MODIFIED="1414434456473">
<node TEXT="file_put_contents(&apos;php://stderr&apos;, &quot;HOLA&quot;);" ID="ID_1896555483" CREATED="1361985657193" MODIFIED="1362075675834"/>
<node TEXT="file_put_contents(&apos;php://stderr&apos;, print_r($_SESSION, TRUE));" ID="ID_1001348278" CREATED="1361985657187" MODIFIED="1361985663399"/>
</node>
</node>
<node TEXT="otras ideas" ID="ID_1492887969" CREATED="1361986093893" MODIFIED="1414434456306">
<node TEXT="hacer un método que facilite el file_put_contents..." ID="ID_1325814847" CREATED="1361988192007" MODIFIED="1414434456473">
<node TEXT="function syso($contenido) {&#xa;         file_put_contents(&apos;php://stderr&apos;, $contenido . &quot;\n&quot;);&#xa;}" ID="ID_16000492" CREATED="1366213997471" MODIFIED="1603368647680"/>
</node>
<node TEXT="esta:" ID="ID_1434672734" CREATED="1361986321075" MODIFIED="1414434456474">
<node TEXT="http://php.net/manual/en/debugger.php" ID="ID_1184515449" CREATED="1361986326799" MODIFIED="1361986329070" LINK="http://php.net/manual/en/debugger.php"/>
</node>
</node>
</node>
<node TEXT="acceso&#xa;a BBDD" FOLDED="true" POSITION="right" ID="ID_316249312" CREATED="1275131296618" MODIFIED="1613135327930">
<node TEXT="tutoriales" FOLDED="true" ID="ID_1643720653" CREATED="1574766505250" MODIFIED="1576659850741">
<node TEXT="https://websitebeaver.com/php-pdo-vs-mysqli" ID="ID_536140428" CREATED="1575976474136" MODIFIED="1576655616318" LINK="https://websitebeaver.com/php-pdo-vs-mysqli">
<icon BUILTIN="button_ok"/>
<icon BUILTIN="button_ok"/>
<icon BUILTIN="button_ok"/>
</node>
<node TEXT="https://code.tutsplus.com/tutorials/pdo-vs-mysqli-which-should-you-use--net-24059" ID="ID_148899216" CREATED="1575976279647" MODIFIED="1576655612293" LINK="https://code.tutsplus.com/tutorials/pdo-vs-mysqli-which-should-you-use--net-24059">
<icon BUILTIN="help"/>
</node>
<node TEXT="https://www.tutorialrepublic.com/php-tutorial/php-mysql-introduction.php" ID="ID_1626252134" CREATED="1574766506182" MODIFIED="1576655612295" LINK="https://www.tutorialrepublic.com/php-tutorial/php-mysql-introduction.php">
<icon BUILTIN="help"/>
</node>
</node>
<node TEXT="hay tres formas de acceder&#xa;a BBDD/MySQL desde PHP:" ID="ID_1201680916" CREATED="1445449286793" MODIFIED="1635320412772">
<node TEXT="funciones mysql_***" ID="ID_912876348" CREATED="1445449321105" MODIFIED="1576493907760">
<icon BUILTIN="button_cancel"/>
<node TEXT="¡eliminadas desde PHP 7!" ID="ID_1825018928" CREATED="1445449338759" MODIFIED="1576493891376"/>
</node>
<node TEXT="funciones y objetos mysqli_***" ID="ID_54579371" CREATED="1445449355033" MODIFIED="1576659753805">
<icon BUILTIN="button_ok"/>
</node>
<node TEXT="esquema orientado a objetos PDO" ID="ID_1367101820" CREATED="1445449369877" MODIFIED="1576659749666">
<icon BUILTIN="button_ok"/>
<icon BUILTIN="button_ok"/>
<icon BUILTIN="button_ok"/>
<node TEXT="ESTE ES EL QUE UTILIZAREMOS" ID="ID_1204955042" CREATED="1576659755996" MODIFIED="1576659766025">
<icon BUILTIN="info_acciвn"/>
</node>
</node>
</node>
<node TEXT="instrucciones para cargar un backup&#xa;de una BD en el MySQL de XAMPP" FOLDED="true" ID="ID_1312358146" CREATED="1413411252161" MODIFIED="1521139803248">
<icon BUILTIN="info_informaciвn"/>
<node TEXT="Instrucciones para poder importar una BD (un schema) sobre el que lanzar consultas para los ejercicios que haremos." ID="ID_1128155860" CREATED="1413411280791" MODIFIED="1445452784426"/>
<node TEXT="Abrir Xampp" ID="ID_1332561169" CREATED="1413411280791" MODIFIED="1413411280791"/>
<node TEXT="Aseguraos de que MySQL está iniciado (además de Apache)." ID="ID_40302497" CREATED="1413411280791" MODIFIED="1413411280791"/>
<node TEXT="ir a" ID="ID_781391754" CREATED="1576494598330" MODIFIED="1576659826175">
<node TEXT="http://localhost/phpmyadmin/" ID="ID_529000009" CREATED="1576494599267" MODIFIED="1576494599267" LINK="http://localhost/phpmyadmin/"/>
</node>
<node TEXT="se abrirá el navegador con un panel de control del SGBD" ID="ID_1126778563" CREATED="1413411280801" MODIFIED="1604922239225"/>
<node TEXT="pegar el código SQL en la pestaña &quot;SQL&quot; o ir a Importar, Seleccionar Archivo, seleccionad el .sql y Continuar" ID="ID_1121550017" CREATED="1413411280801" MODIFIED="1604922224172"/>
<node TEXT="debe decir algo como &quot;se ejecutó exitosamente, se ejecutaron XX consultas&quot;" ID="ID_1890287289" CREATED="1413411280811" MODIFIED="1604922236786"/>
<node TEXT="con esto último, hemos ejecutado un montón de consultas de creación de schema, tablas e inserción de datos que dejan preparado un schema llamado Agenda con el que podemos trabajar" ID="ID_1847859640" CREATED="1413411280811" MODIFIED="1604922242639"/>
</node>
<node TEXT="conectar con SGBD&#xa;y seleccionar BD" FOLDED="true" ID="ID_1933660106" CREATED="1275131564025" MODIFIED="1665477298518">
<icon BUILTIN="full-1"/>
<node TEXT="datos y&#xa;opciones&#xa;generales" FOLDED="true" ID="ID_1066498149" CREATED="1576495557688" MODIFIED="1576495706291">
<node TEXT="para conectar con MySQL desde PHP&#xa;necesitamos los siguientes datos" ID="ID_193611375" CREATED="1275131482383" MODIFIED="1604922398877">
<node TEXT="nombre o IP de la máquina (con puerto,&#xa;si no es el 3126, que es el que viene por defecto)" ID="ID_1418820901" CREATED="1275131484450" MODIFIED="1576494690865">
<node TEXT="en nuestro caso, &quot;localhost&quot;" ID="ID_1610886290" CREATED="1275131543441" MODIFIED="1604922260498"/>
</node>
<node TEXT="nombre de usuario" ID="ID_1924234693" CREATED="1275131489309" MODIFIED="1414434456427">
<node TEXT="&quot;root&quot;" ID="ID_12821611" CREATED="1413399521087" MODIFIED="1413399522819"/>
</node>
<node TEXT="contraseña" ID="ID_980990697" CREATED="1275131490378" MODIFIED="1414434456427">
<node TEXT="&quot;&quot;" ID="ID_1412709429" CREATED="1413399520142" MODIFIED="1413399520596"/>
</node>
<node TEXT="BD (schema) al que nos queremos conectar" ID="ID_191763149" CREATED="1384190295333" MODIFIED="1414434456427">
<node TEXT="&quot;agenda&quot; (o el que sea)" ID="ID_984054516" CREATED="1413399517172" MODIFIED="1576494653574"/>
</node>
</node>
<node TEXT="$servidor = &quot;localhost&quot;;&#xa;$identificador = &quot;root&quot;;&#xa;$contrasenna = &quot;&quot;;&#xa;$bd = &quot;agenda&quot;;&#xa;&#xa;$opciones = [&#xa;    PDO::ATTR_EMULATE_PREPARES   =&gt; false, // Modo emulación desactivado para prepared statements &quot;reales&quot;&#xa;    PDO::ATTR_ERRMODE            =&gt; PDO::ERRMODE_EXCEPTION, // Que los errores salgan como excepciones&#xa;    PDO::ATTR_DEFAULT_FETCH_MODE =&gt; PDO::FETCH_ASSOC, // El modo de fetch que queremos por defecto.&#xa;];" ID="ID_19044037" CREATED="1576495477638" MODIFIED="1604922438777"/>
</node>
<node TEXT="conectar" FOLDED="true" ID="ID_1423141842" CREATED="1576495649969" MODIFIED="1576495653632">
<node TEXT="try {&#xa;    $conexion = new PDO(&quot;mysql:host=$servidor;dbname=$bd;charset=utf8&quot;, $identificador, $contrasenna, $opciones);&#xa;} catch (Exception $e) {&#xa;    error_log(&quot;Error al conectar: &quot; . $e-&gt;getMessage());&#xa;    exit(&apos;Error al conectar&apos;);&#xa;}" ID="ID_1579793351" CREATED="1576495516374" MODIFIED="1604059526500"/>
</node>
<node TEXT="cómo usar esto&#xa;(desde un PHP &quot;normal&quot;)" ID="ID_1618345987" CREATED="1635329417244" MODIFIED="1635329541551">
<node TEXT="require_once &quot;_Varios.php&quot;;" ID="ID_1736224125" CREATED="1635329457275" MODIFIED="1635505047306">
<icon BUILTIN="atenciвn_!!"/>
</node>
<node TEXT="$conexion = obtenerPdoConexionBD();" ID="ID_1126917372" CREATED="1635329421339" MODIFIED="1635330089443">
<icon BUILTIN="atenciвn_!!"/>
</node>
</node>
</node>
<node TEXT="consultas que SÍ&#xa;devuelven datos&#xa;(SELECT)" FOLDED="true" ID="ID_1746855546" CREATED="1275132334962" MODIFIED="1635506377167">
<icon BUILTIN="full-2"/>
<node TEXT="al ejecutarlas, me devuelven una &quot;tabla&quot; con todos los registros que vienen como resultado de la select" ID="ID_1776372879" CREATED="1275132379071" MODIFIED="1576495738611">
<icon BUILTIN="info_informaciвn"/>
</node>
<node TEXT="primero redacto la select,&#xa;opcionalmente con huecos" ID="ID_1237057906" CREATED="1398276154511" MODIFIED="1604925261775">
<node TEXT="$sql = &quot;SELECT id, nombre FROM categoria ORDER BY nombre&quot;;" ID="ID_28388962" CREATED="1576659972930" MODIFIED="1636101535984">
<icon BUILTIN="atenciвn_!!"/>
</node>
</node>
<node TEXT="luego la &quot;preparo&quot; (por seguridad)&#xa;(&quot;conviertir string a objeto&quot;)" ID="ID_841518484" CREATED="1604925264746" MODIFIED="1604925281362">
<node TEXT="$sentencia = $conexion-&gt;prepare($sql);" ID="ID_350253790" CREATED="1604925273428" MODIFIED="1636101538905">
<icon BUILTIN="atenciвn_!!"/>
</node>
</node>
<node TEXT="luego la ejecuto, pasando un&#xa;array para rellenar huecos" ID="ID_1468859892" CREATED="1576656651610" MODIFIED="1604925372066">
<node TEXT="$sentencia-&gt;execute([]);" ID="ID_750262611" CREATED="1576659972932" MODIFIED="1635847545537">
<icon BUILTIN="atenciвn_!!"/>
</node>
<node TEXT="$sentencia-&gt;execute([&quot;jlopez&quot;, &quot;17&quot;]);" ID="ID_1452280065" CREATED="1576659972932" MODIFIED="1635847545540">
<icon BUILTIN="atenciвn_!!"/>
</node>
</node>
<node TEXT="(control de errores)" ID="ID_1557665702" CREATED="1649154148480" MODIFIED="1649154152683">
<node TEXT="devuelve true o false en función de si ha ido bien (¿el SGBD me ha entendido?)" ID="ID_1590924898" CREATED="1603452033543" MODIFIED="1635505903640"/>
<node ID="ID_1361026051" CREATED="1576656463692" MODIFIED="1649154154481"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre http-equiv="content-type" content="text/html; charset=utf-8" class="line-numbers language-php code-toolbar"><code class=" language-php"><span class="token variable">$sqlConExito = $sentencia-&gt;</span><span class="token function">execute</span><span class="token punctuation">([&quot;Jaimito&quot;, &quot;García&quot;]);</span></code></pre>
  </body>
</html>
</richcontent>
</node>
</node>
<node TEXT="y por último &quot;traigo&quot; a una variable&#xa;los datos que han venido como resultado" ID="ID_1980127427" CREATED="1604925376052" MODIFIED="1604925397137">
<node TEXT="para una tabla con N registros&#xa;(viene un array escalar de arrays asociativos)" ID="ID_634926529" CREATED="1636103459757" MODIFIED="1636103492345">
<node TEXT="$rs = $sentencia-&gt;fetchAll();" ID="ID_663883666" CREATED="1604925397498" MODIFIED="1635847545541">
<icon BUILTIN="atenciвn_!!"/>
</node>
</node>
<node TEXT="para un solo registro&#xa;(viene solo UN array asociativo,&#xa;sin array escalar por fuera)" ID="ID_711963841" CREATED="1636103459757" MODIFIED="1636103508986">
<node TEXT="$fila = $sentencia-&gt;fetch();" ID="ID_1745875273" CREATED="1604925397498" MODIFIED="1636103482065">
<icon BUILTIN="atenciвn_!!"/>
</node>
</node>
</node>
<node TEXT="el $rs que&#xa;he obtenido" ID="ID_955116771" CREATED="1275132684645" MODIFIED="1635330557997">
<node TEXT="$rs = &quot;record set&quot; (&quot;conjunto de registros&quot;)" ID="ID_918292832" CREATED="1578474484199" MODIFIED="1635323757694"/>
<node TEXT="es un ARRAY ESCALAR/&quot;NORMAL&quot; (1er nivel)" ID="ID_829708486" CREATED="1275132693560" MODIFIED="1619601145681">
<node TEXT="de ARRAYS ASOCIATIVOS (2º nivel)" ID="ID_808823819" CREATED="1275132859382" MODIFIED="1275132863111"/>
</node>
<node TEXT="cada registro es un ARRAY ASOCIATIVO" ID="ID_1281921116" CREATED="1275132705478" MODIFIED="1275132711954"/>
<node TEXT="(es &quot;una TABLA&quot;, podríamos decir)" ID="ID_1986150980" CREATED="1398276332700" MODIFIED="1445889368846"/>
<node TEXT="si el resultado no tiene ninguna fila, en $rs viene un array, pero vacío (en este caso, if ($rs) sale que NO)" ID="ID_1860310757" CREATED="1576660485334" MODIFIED="1635324073197"/>
<node TEXT="(comprobado que NO viene ni false ni nulo ni nada)" ID="ID_872315085" CREATED="1606902030183" MODIFIED="1635323993278"/>
<node TEXT="ejemplo" FOLDED="true" ID="ID_1803486930" CREATED="1604578800261" MODIFIED="1604578809812">
<icon BUILTIN="z_script"/>
<node TEXT="Array (&#xa;&#xa;    [0] =&gt; Array (&#xa;        [id] =&gt; 19&#xa;        [nombre] =&gt; Colegio&#xa;    )&#xa;    [1] =&gt; Array (&#xa;        [id] =&gt; 18&#xa;        [nombre] =&gt; Negocios&#xa;    )&#xa;    [2] =&gt; Array (&#xa;        [id] =&gt; 8&#xa;        [nombre] =&gt; Estudios&#xa;    )&#xa;    [3] =&gt; Array (&#xa;        [id] =&gt; 1&#xa;        [nombre] =&gt; Familiares&#xa;    )&#xa;    [4] =&gt; Array (&#xa;        [id] =&gt; 4&#xa;        [nombre] =&gt; Otros&#xa;    )&#xa;    [5] =&gt; Array (&#xa;        [id] =&gt; 3&#xa;        [nombre] =&gt; Trabajo&#xa;    )&#xa;&#xa;)" ID="ID_633585920" CREATED="1604578786332" MODIFIED="1604578787564"/>
</node>
</node>
<node TEXT="tratamiento&#xa;del record set" ID="ID_1858477053" CREATED="1275132870987" MODIFIED="1604925720869">
<node TEXT="foreach ($rs as $fila) {&#xa;    // ...&#xa;}" ID="ID_1252977988" CREATED="1576660637313" MODIFIED="1604925792294"/>
<node TEXT="cuando estoy DENTRO del for, para obtener el valor de UN campo de ESTA fila en concreto que estoy tratando" ID="ID_1552437794" CREATED="1384191003840" MODIFIED="1576660677521">
<node TEXT="$id = (int) $fila[&quot;id&quot;]" ID="ID_1284021596" CREATED="1384191035039" MODIFIED="1619601170833"/>
<node TEXT="$nombre = $fila[&quot;nombre&quot;];" ID="ID_1988667085" CREATED="1384191020104" MODIFIED="1445889934160"/>
<node TEXT="..." ID="ID_1123366710" CREATED="1384191038751" MODIFIED="1384191039348"/>
</node>
<node TEXT="por tanto, hago" ID="ID_1709606239" CREATED="1275133381241" MODIFIED="1521139800077">
<node TEXT="ejemplo" FOLDED="true" ID="ID_1882590644" CREATED="1366216545995" MODIFIED="1576660736702">
<icon BUILTIN="z_script"/>
<node TEXT="&lt;?php foreach ($rs as $fila) { ?&gt;&#xa;    &lt;tr&gt;&#xa;        &lt;td&gt;&lt;a href=&quot;ficha-categoria.php?id=&lt;?=$fila[&quot;id&quot;] ?&gt;&quot;&gt;&lt;?=$fila[&quot;nombre&quot;] ?&gt;&lt;/a&gt;&lt;/td&gt;&#xa;        &lt;td&gt;&lt;a href=&quot;eliminar-categoria.php?id=&lt;?=$fila[&quot;id&quot;] ?&gt;&quot;&gt;(X)&lt;/a&gt;&lt;/td&gt;&#xa;    &lt;/tr&gt;&#xa;&lt;?php } ?&gt;" ID="ID_1002294957" CREATED="1366216556206" MODIFIED="1576660733178"/>
</node>
</node>
</node>
<node TEXT="tratamiento del $rs&#xa;con una sola fila" ID="ID_655826309" CREATED="1578474587786" MODIFIED="1635324583845">
<node TEXT="en dos pasos" ID="ID_1452018945" CREATED="1604925882619" MODIFIED="1604925884553">
<node TEXT="obtengo la única fila" ID="ID_335575438" CREATED="1578474653096" MODIFIED="1578474666306">
<node TEXT="$fila = rs[0];" ID="ID_662438302" CREATED="1578474600986" MODIFIED="1578474613148"/>
</node>
<node TEXT="y extraigo los datos" ID="ID_1471663432" CREATED="1578474654385" MODIFIED="1604925863525">
<node TEXT="$nombre = $fila[&quot;nombre&quot;];" ID="ID_344924052" CREATED="1384191020104" MODIFIED="1445889934160"/>
<node TEXT="$telefono = $fila[&quot;telefono&quot;]" ID="ID_1563583656" CREATED="1384191035039" MODIFIED="1604925913900"/>
</node>
</node>
<node TEXT="o, de una sola vez:" ID="ID_1421086778" CREATED="1604925864345" MODIFIED="1604925871816">
<node TEXT="$nombre = $rs[0][&quot;nombre&quot;];" ID="ID_1511128204" CREATED="1384191020104" MODIFIED="1604925904185"/>
<node TEXT="$telefono = $rs[0][&quot;telefono&quot;]" ID="ID_760086201" CREATED="1384191035039" MODIFIED="1604925919123"/>
</node>
</node>
<node TEXT="$sentencia-&gt;rowCount()" ID="ID_429482772" CREATED="1606902383454" MODIFIED="1635506287133">
<node TEXT="para contar el número de filas obtenidas" ID="ID_490046366" CREATED="1606902388926" MODIFIED="1606902393842"/>
</node>
</node>
<node TEXT="sentencias que NO&#xa;devuelven datos&#xa;(INS, UPD, DEL)" FOLDED="true" ID="ID_803700530" CREATED="1275132334962" MODIFIED="1635506403199">
<icon BUILTIN="full-3"/>
<node TEXT="primero redacto la sentencia,&#xa;opcionalmente con huecos" ID="ID_200036736" CREATED="1398276154511" MODIFIED="1604923107899">
<node ID="ID_1923589749" CREATED="1576656463690" MODIFIED="1649154066649">
<icon BUILTIN="atenciвn_!!"/>
<richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre http-equiv="content-type" content="text/html; charset=utf-8" class="line-numbers language-php code-toolbar"><code class=" language-php"><span class="token variable">$sql = &quot;DELETE FROM categoria WHERE id=?&quot;;</span></code></pre>
  </body>
</html>
</richcontent>
<node TEXT="Elimina de Categoría donde el id sea &lt;tal&gt;" ID="ID_1091925654" CREATED="1665742104802" MODIFIED="1665742125525"/>
</node>
<node ID="ID_1818879539" CREATED="1576656463690" MODIFIED="1665741978393">
<icon BUILTIN="atenciвn_!!"/>
<richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre http-equiv="content-type" content="text/html; charset=utf-8" class="line-numbers language-php code-toolbar"><code class=" language-php"><span class="token variable">$sql = &quot;INSERT INTO persona(nombre, apellidos) VALUES (?, ?)&quot;;</span></code></pre>
  </body>
</html>
</richcontent>
<node TEXT="Inserta en Persona(campoA, campoB) los valores &lt;tal&gt; y &lt;cual&gt;" ID="ID_667614636" CREATED="1665742131665" MODIFIED="1665742157756"/>
</node>
<node ID="ID_1238257708" CREATED="1576656463690" MODIFIED="1665742233478">
<icon BUILTIN="atenciвn_!!"/>
<richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre http-equiv="content-type" content="text/html; charset=utf-8" class="line-numbers language-php code-toolbar"><code class=" language-php"><span class="token variable">$sql = &quot;UPDATE categoria SET nombre=? WHERE id=?&quot;;</span></code></pre>
  </body>
</html>
</richcontent>
<node TEXT="Actualiza Categoría, establece nombre=&lt;tal&gt; donde id sea &lt;cual&gt;" ID="ID_1361965499" CREATED="1665742104802" MODIFIED="1665742267869"/>
</node>
</node>
<node TEXT="luego la &quot;preparo&quot; (por seguridad)&#xa;(&quot;convertir string a objeto&quot;)" ID="ID_208713291" CREATED="1604923112023" MODIFIED="1619435400367">
<node ID="ID_518111315" CREATED="1604923119927" MODIFIED="1649154086957">
<icon BUILTIN="atenciвn_!!"/>
<richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre http-equiv="content-type" content="text/html; charset=utf-8" class="line-numbers language-php code-toolbar"><code class=" language-php"><span class="token variable">$sentencia </span><span class="token operator">=</span> <span class="token variable">$conexion-&gt;</span><span class="token function">prepare</span><span class="token punctuation">($sql);</span></code></pre>
  </body>
</html>
</richcontent>
</node>
</node>
<node TEXT="y luego la ejecuto, pasando un&#xa;array para rellenar huecos" ID="ID_1977365181" CREATED="1576656651610" MODIFIED="1576659876609">
<node ID="ID_1756829186" CREATED="1576656463692" MODIFIED="1649154139781">
<icon BUILTIN="atenciвn_!!"/>
<richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre http-equiv="content-type" content="text/html; charset=utf-8" class="line-numbers language-php code-toolbar"><code class=" language-php"><span class="token variable">$sentencia-&gt;</span><span class="token function">execute</span><span class="token punctuation">([&quot;Jaimito&quot;, &quot;García&quot;]);</span></code></pre>
  </body>
</html>
</richcontent>
</node>
</node>
<node TEXT="(control de errores)" ID="ID_462457384" CREATED="1649154148480" MODIFIED="1649154152683">
<node TEXT="devuelve true o false en función de si ha ido bien (¿el SGBD me ha entendido?)" ID="ID_247357934" CREATED="1603452033543" MODIFIED="1635505903640"/>
<node ID="ID_1310417588" CREATED="1576656463692" MODIFIED="1649154154481"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre http-equiv="content-type" content="text/html; charset=utf-8" class="line-numbers language-php code-toolbar"><code class=" language-php"><span class="token variable">$sqlConExito = $sentencia-&gt;</span><span class="token function">execute</span><span class="token punctuation">([&quot;Jaimito&quot;, &quot;García&quot;]);</span></code></pre>
  </body>
</html>
</richcontent>
</node>
</node>
<node TEXT="$numFilasAfectadas = $sentencia-&gt;rowCount();" ID="ID_909919678" CREATED="1275132405209" MODIFIED="1619435990682">
<icon BUILTIN="atenciвn_!"/>
<node TEXT="cuántas filas se han visto afectadas en lo último que he ejecutado" ID="ID_337401225" CREATED="1275132442719" MODIFIED="1603879650709"/>
<node TEXT="habitualmente (según la sentencia), lo suyo es que salga 1" ID="ID_649466945" CREATED="1384196718927" MODIFIED="1665742060323"/>
<node TEXT="si sale 0, es posible que la sentencia estuviera bien pero que sencillamente el where no ha coincidido con ningún caso (lo pueden haber borrado en paralelo...)" ID="ID_1770772324" CREATED="1445453638230" MODIFIED="1603976338152"/>
<node TEXT="nota sobre&#xa;actualización con&#xa;los mismos datos" ID="ID_817985661" CREATED="1384194571326" MODIFIED="1635323591556">
<icon BUILTIN="info_informaciвn"/>
<node TEXT="parece ser que, en MYSQL, si se actualiza un registro metiéndole los mismos datos que ya tenía cuenta como rowCount() = 0" ID="ID_1712798575" CREATED="1384194582174" MODIFIED="1635323361731"/>
</node>
</node>
<node TEXT="$id = $conexion-&gt;lastInsertId();" ID="ID_1698286276" CREATED="1384461137077" MODIFIED="1619435994921">
<icon BUILTIN="atenciвn_!"/>
<node TEXT="tras un INSERT, para obtener el id que MySQL ha asignado al nuevo registro" ID="ID_1930669587" CREATED="1384461142852" MODIFIED="1384461168873"/>
<node TEXT="OJO: esto se solicita sobre el objeto conexión (el &quot;PDO&quot;), no sobre el objeto sentencia" ID="ID_1781564233" CREATED="1576657479179" MODIFIED="1604059450156"/>
</node>
</node>
<node TEXT="desconectar" FOLDED="true" ID="ID_638936873" CREATED="1275132597893" MODIFIED="1521139803230">
<icon BUILTIN="full-4"/>
<node TEXT="PHP desconecta y libera los recursos automáticamente cuando termina el script" ID="ID_1347477526" CREATED="1413400733378" MODIFIED="1604922969135"/>
<node TEXT="si necesito en algún momento hacerlo de forma explícita:" ID="ID_1412313541" CREATED="1576660763088" MODIFIED="1604922986999"/>
<node TEXT="" ID="ID_1679462985" CREATED="1603369067183" MODIFIED="1603369067183">
<node TEXT="$conexion = null;" ID="ID_191888552" CREATED="1576660790279" MODIFIED="1604922992858"/>
<node TEXT="$sentencia = null; ó $select = null;" ID="ID_368674551" CREATED="1576660783609" MODIFIED="1576660815624"/>
</node>
<node TEXT="(no desconectaremos explícitamente en clase)" ID="ID_284058754" CREATED="1604923001057" MODIFIED="1604923009424"/>
</node>
<node TEXT="cuestiones&#xa;asociadas" FOLDED="true" ID="ID_659880427" CREATED="1275132411745" MODIFIED="1576660832815">
<icon BUILTIN="z_bricks"/>
<node TEXT="tildes y eñes" ID="ID_217809839" CREATED="1360946246266" MODIFIED="1414434456439">
<node TEXT="en la BD los strings se pueden guardar con una codificación que no es la misma que la que utiliza PHP" ID="ID_559162226" CREATED="1360946255204" MODIFIED="1384189913387"/>
<node TEXT="esto provoca que las tildes y las eñes se vean mal" ID="ID_1348406098" CREATED="1360946289996" MODIFIED="1360946323510"/>
<node TEXT="solución si no coinciden, convertir (encode&#xa;o decode, según cómo estén las cosas...):" ID="ID_194382487" CREATED="1360946323802" MODIFIED="1521139800071">
<node TEXT="al recuperar un dato de la BD (SELECT):" ID="ID_1620430282" CREATED="1360946326761" MODIFIED="1521139803229">
<node TEXT="utf8_decode($fila[&quot;nombre_campo&quot;])" ID="ID_738398605" CREATED="1360946332259" MODIFIED="1635324772110"/>
</node>
<node TEXT="al guardar un dato en la BD (INSERT/...):" ID="ID_686987843" CREATED="1360946326761" MODIFIED="1521139803228">
<node TEXT="utf8_encode(&quot;valor_campo&quot;])" ID="ID_1468999715" CREATED="1360946332259" MODIFIED="1635324772112"/>
</node>
</node>
</node>
<node TEXT="seguridad" ID="ID_1431113241" CREATED="1275131846862" MODIFIED="1576660845834">
<node TEXT="mediante show_source(&quot;url&quot;) se le pide a un servidor que dé, ÍNTEGRA, su página PHP" ID="ID_476170860" CREATED="1275131848398" MODIFIED="1414434456439">
<node TEXT="y hay ROBOTS que se dedican a hacerlo hasta pillar a algún incauto" ID="ID_1907462489" CREATED="1275131881447" MODIFIED="1275131892322"/>
</node>
<node TEXT="en lugar de meter las contraseñas en la página" ID="ID_241009625" CREATED="1275131892843" MODIFIED="1635324822781">
<node TEXT="las meto en un FICHERO APARTE" ID="ID_1624560276" CREATED="1275131923785" MODIFIED="1521139800069">
<node TEXT="lo incluyo con un INCLUDE" ID="ID_368202191" CREATED="1275131968378" MODIFIED="1275131972265"/>
</node>
<node TEXT="y pongo el fichero FUERA del directorio de PUBLICACIÓN" ID="ID_70656064" CREATED="1275131944510" MODIFIED="1521139800068">
<node TEXT="(fuera del htdocs...)" ID="ID_871102377" CREATED="1275131993416" MODIFIED="1275131997973"/>
</node>
</node>
</node>
<node TEXT="fechas en BD" ID="ID_179063395" CREATED="1637751646199" MODIFIED="1637751648733">
<node TEXT="$fecha = time() + 24 * 60 * 60;&#xa;$fechaParaBD = date(&quot;Y-m-d H:i:s&quot;, $fecha);" ID="ID_999286648" CREATED="1637751656910" MODIFIED="1637751671636"/>
</node>
</node>
</node>
<node TEXT="cookies" FOLDED="true" POSITION="right" ID="ID_578081402" CREATED="1275125484565" MODIFIED="1650615998281">
<node TEXT="para acceder al&#xa;valor de una cookie" ID="ID_70278479" CREATED="1275126411467" MODIFIED="1417636498312">
<node TEXT="mediante el array asociativo supergobal" ID="ID_867586564" CREATED="1275126719898" MODIFIED="1521139799986">
<node TEXT="$_COOKIE[&quot;clave&quot;]" ID="ID_1833983350" CREATED="1275126423869" MODIFIED="1575369869397"/>
</node>
<node TEXT="$valor = $_COOKIE[&quot;clave&quot;];" ID="ID_1086470399" CREATED="1275126728749" MODIFIED="1575369940435">
<icon BUILTIN="atenciвn_!"/>
</node>
</node>
<node TEXT="isset($_COOKIE[&quot;clave&quot;]))" ID="ID_152046541" CREATED="1275127046093" MODIFIED="1575369671400">
<node TEXT="comprueba si una cookie exacta existe" ID="ID_257971040" CREATED="1275127049283" MODIFIED="1275127055213"/>
</node>
<node TEXT="if (empty($_COOKIE))" ID="ID_600288840" CREATED="1275126791579" MODIFIED="1575369882533">
<node TEXT="comprueba si hay o no hay ALGUNA cookie" ID="ID_406831019" CREATED="1275126804776" MODIFIED="1275126811549"/>
</node>
<node TEXT="count($_COOKIE)" ID="ID_1324753031" CREATED="1575369668630" MODIFIED="1634719698676">
<node TEXT="comprueba cuántas cookies han venido" ID="ID_1439273699" CREATED="1575369673163" MODIFIED="1575369684353"/>
</node>
<node TEXT="setcookie()" ID="ID_277078675" CREATED="1275126260561" MODIFIED="1417636300725">
<node TEXT="OJO" ID="ID_479664070" CREATED="1275126224696" MODIFIED="1521139799985">
<node TEXT="hay que hacerlo al PRINCIPIO de la página" ID="ID_1278763678" CREATED="1275126228136" MODIFIED="1521139803143">
<node TEXT="tiene que ir ANTES de cualquier HTML" ID="ID_1747540899" CREATED="1275126238175" MODIFIED="1618391973685">
<node TEXT="porque son ENCABEZADOS" ID="ID_1381931007" CREATED="1275126249898" MODIFIED="1275126254424"/>
</node>
</node>
<node TEXT="no puedo hacer un solo echo antes de esto" ID="ID_471566727" CREATED="1275126290076" MODIFIED="1634719850587">
<icon BUILTIN="atención_!"/>
</node>
</node>
<node TEXT="OJO #2" ID="ID_1486492869" CREATED="1417636614588" MODIFIED="1521139799982">
<node TEXT="NO se puede asignar (no funciona):" ID="ID_1963690572" CREATED="1417636617364" MODIFIED="1521139803141">
<node TEXT="$_COOKIE[&quot;clave&quot;] = &quot;valor&quot;;" ID="ID_1823499971" CREATED="1417636647052" MODIFIED="1575369927589">
<icon BUILTIN="button_cancel"/>
</node>
</node>
</node>
<node TEXT="setcookie(clave, valor, fechaDeCaducidad)" ID="ID_1156199949" CREATED="1275126301979" MODIFIED="1575369940432">
<icon BUILTIN="atenciвn_!"/>
<node TEXT="el valor es opcional pero recomendable" ID="ID_982179716" CREATED="1275126330184" MODIFIED="1386011960983"/>
</node>
<node TEXT="nombre y contenido son strings" ID="ID_129491473" CREATED="1386011926794" MODIFIED="1521139799980">
<node TEXT="pero PUEDO guardar un número como string sin problemas (o JSON...)" ID="ID_1155245136" CREATED="1417636312335" MODIFIED="1634719887437"/>
</node>
<node TEXT="para la caducidad:" ID="ID_321286840" CREATED="1417636300711" MODIFIED="1521139799979">
<node TEXT="setcookie(clave, contenido, time()+24*60*60)" ID="ID_909602239" CREATED="1275126301979" MODIFIED="1575369967343">
<icon BUILTIN="atenciвn_!"/>
<node TEXT="esto expiraría en 24h" ID="ID_1787197244" CREATED="1275126330184" MODIFIED="1417636023277"/>
</node>
<node TEXT="función time()" ID="ID_955987036" CREATED="1275126343405" MODIFIED="1575369967346">
<icon BUILTIN="atenciвn_!"/>
<node TEXT="devuelve la fecha/hora actual en SEGUNDOS" ID="ID_1581256949" CREATED="1275126384161" MODIFIED="1521139803132">
<node TEXT="si le sumo 3600, será para expirar en una hora, etc...." ID="ID_1810753076" CREATED="1275126367951" MODIFIED="1386011992401"/>
<node TEXT="para 10 días: 60*60*24*15" ID="ID_202503221" CREATED="1386011993219" MODIFIED="1634720074667"/>
</node>
</node>
<node TEXT="si se pone 0, la cookie expirará al final de la sesión (al cerrar el navegador): &quot;cookie de sesión&quot;" ID="ID_892533980" CREATED="1575370206181" MODIFIED="1607083358130">
<node TEXT="esta es la caducidad de la cookie implícita PHPSESSID" ID="ID_184957869" CREATED="1605692439193" MODIFIED="1605692450665"/>
</node>
</node>
<node TEXT="las cookies no se pueden &quot;modificar&quot; como tal pero se pueden sobreescribir" ID="ID_1218930642" CREATED="1417637129936" MODIFIED="1417637150861"/>
<node TEXT="en cada página sólo tengo que poner las cookies NUEVAS" ID="ID_350177417" CREATED="1275126684140" MODIFIED="1521139799976">
<node TEXT="el resto de COOKIES se MANTIENEN" ID="ID_1687122951" CREATED="1275126689172" MODIFIED="1275126694759"/>
</node>
</node>
<node TEXT="para ELIMINAR una cookie" ID="ID_236974058" CREATED="1387392094528" MODIFIED="1417636335608">
<node TEXT="setcookie con fecha en el pasado" ID="ID_168719293" CREATED="1387392099160" MODIFIED="1575370008327">
<icon BUILTIN="atenciвn_!"/>
</node>
<node TEXT="ej:" ID="ID_627256320" CREATED="1417636335599" MODIFIED="1521139799975">
<node TEXT="setcookie(clave, &quot;&quot;, time()-3600)" ID="ID_805964125" CREATED="1275126301979" MODIFIED="1575370008331">
<icon BUILTIN="atenciвn_!"/>
<node TEXT="hace 1h, por ejemplo" ID="ID_113846712" CREATED="1275126330184" MODIFIED="1418240270432"/>
</node>
</node>
</node>
</node>
<node TEXT="sesiones" FOLDED="true" POSITION="right" ID="ID_89182252" CREATED="1275125486180" MODIFIED="1650615998285">
<node TEXT="¿qué es lo que da soporte&#xa;al mecanismo de la sesión?&#xa;(¿cómo nos &quot;acordamos&quot;&#xa;del id de sesión?)" ID="ID_1213888443" CREATED="1275129962771" MODIFIED="1605692539444">
<node TEXT="mediante&#xa;la URL" ID="ID_793557493" CREATED="1605787181051" MODIFIED="1605787184118">
<node TEXT="de forma&#xa;MANUAL" ID="ID_1827202374" CREATED="1275130611811" MODIFIED="1605787186264">
<node TEXT="poniendo enlaces como" ID="ID_1660755617" CREATED="1275130624829" MODIFIED="1521139800059">
<node TEXT="pag_sig.php?&lt;?= session_name().&quot;=&quot;session_id() ?&gt;" ID="ID_1859623688" CREATED="1275130619500" MODIFIED="1415649083102"/>
<node TEXT="(hay que pasar tb el NAME porque pueden repetirse los ids en distintos names...)" ID="ID_1263301812" CREATED="1275130662228" MODIFIED="1275130704974"/>
</node>
<node TEXT="esto siempre funciona" ID="ID_272404279" CREATED="1385051063506" MODIFIED="1385051065737"/>
<node TEXT="posible problema" ID="ID_1135074305" CREATED="1385051047851" MODIFIED="1521139800056">
<node TEXT="es farragoso de programar" ID="ID_1847342962" CREATED="1385051052882" MODIFIED="1385051058029"/>
<node TEXT="es muy inseguro" ID="ID_1575615870" CREATED="1605692601598" MODIFIED="1605692609371"/>
</node>
</node>
<node TEXT="de forma&#xa;AUTO-&#xa;MÁTICA" ID="ID_837359256" CREATED="1275130070336" MODIFIED="1605787193181">
<node TEXT="añadirlo a las URLs" ID="ID_476669974" CREATED="1275130074728" MODIFIED="1275130081157"/>
<node TEXT="php.ini" ID="ID_864386478" CREATED="1275130090258" MODIFIED="1521139800053">
<node TEXT="session.use_trans_sid=1" ID="ID_98284786" CREATED="1275130092761" MODIFIED="1275130098083"/>
</node>
<node TEXT="está en el encabezado. No se ve en la página pero está accesible" ID="ID_1663293615" CREATED="1275130106037" MODIFIED="1275130125274"/>
<node TEXT="posible problema" ID="ID_742609834" CREATED="1385051020680" MODIFIED="1521139800048">
<node TEXT="puede que esto no lo admitan algunos servidores" ID="ID_1548798358" CREATED="1275130140872" MODIFIED="1385051017419"/>
<node TEXT="puede suponer problemas de seguridad más fácilmente" ID="ID_1106632856" CREATED="1575971086883" MODIFIED="1575971096414"/>
</node>
</node>
</node>
<node TEXT="cookies" ID="ID_1992282971" CREATED="1275130054916" MODIFIED="1575971031393">
<icon BUILTIN="button_ok"/>
<node TEXT="php.ini" ID="ID_714313853" CREATED="1275130023123" MODIFIED="1521139800061">
<node TEXT="session.use_cookies =1" ID="ID_68019424" CREATED="1275130026141" MODIFIED="1605787160131"/>
</node>
<node TEXT="posible problema" ID="ID_478548212" CREATED="1385051020680" MODIFIED="1521139800060">
<node TEXT="el cliente puede no aceptar cookies (aunque hoy día no es habitual)" ID="ID_288057720" CREATED="1275130140872" MODIFIED="1385051038967"/>
</node>
</node>
</node>
<node TEXT="" ID="ID_271876877" CREATED="1275129599930" MODIFIED="1414434456294">
<icon BUILTIN="info_informaciвn"/>
<node TEXT="la sesión tiene una ID" ID="ID_202016699" CREATED="1275129650801" MODIFIED="1275129654859"/>
<node TEXT="la primera vez el servidor devuelve el ID de sesión junto con la página (en una Cookie)" ID="ID_643211332" CREATED="1275129693452" MODIFIED="1605787324086"/>
<node TEXT="y en TODAS las siguientes llamada el navegador indica al servidor cuál es la sesión (mediante la cookie)" ID="ID_297051332" CREATED="1275129705175" MODIFIED="1605787355539"/>
</node>
<node TEXT="caducidad de cookies de sesión" ID="ID_1322914868" CREATED="1575542792026" MODIFIED="1575542797455">
<node TEXT="mediante estas directivas en php.ini&#xa;(deberían ir de la mano):" ID="ID_611511733" CREATED="1575542799825" MODIFIED="1607684918130">
<node TEXT="caducidad de la cookie:" ID="ID_1393022852" CREATED="1607684879538" MODIFIED="1607684885623">
<node TEXT="session.cookie_lifetime" ID="ID_1072995842" CREATED="1575542797727" MODIFIED="1607947044637">
<icon BUILTIN="atenciвn_!"/>
</node>
<node TEXT="si se pone 0: duran la sesión (hasta cerrar el navegador o la pestaña)" ID="ID_1790873751" CREATED="1575542807335" MODIFIED="1605787466302"/>
</node>
<node TEXT="caducidad de &quot;la tablet&quot; en la RAM del servidor" ID="ID_726424745" CREATED="1607684886479" MODIFIED="1666872364267">
<node TEXT="session.gc_maxlifetime" ID="ID_467350692" CREATED="1607684903122" MODIFIED="1607684908404">
<icon BUILTIN="atenciвn_!"/>
</node>
</node>
</node>
</node>
<node TEXT="instrucciones&#xa;en PHP" ID="ID_1223236180" CREATED="1385051085963" MODIFIED="1605787472644">
<node TEXT="session_start()" FOLDED="true" ID="ID_1090740023" CREATED="1275129503264" MODIFIED="1575971910449">
<node TEXT="Esto tiene que estar al inicio de cualquier PHP que pretenda hacer algo con la sesión RAM." ID="ID_1122222234" CREATED="1635234339928" MODIFIED="1635234360065"/>
<node TEXT="Inicializa la sesión con el usuario o, si ya estaba inicializada, la recupera para utilizarla." ID="ID_1051741353" CREATED="1361546119766" MODIFIED="1361546124512"/>
<node TEXT="esta llamada tiene que venir ANTES que cualquier etiqueta HTML (o intro, etc.)" ID="ID_237670414" CREATED="1275129752716" MODIFIED="1635234702123">
<node TEXT="porque la cookie que soporta la sesión se envía en los ENCABEZADOS de HTTP" ID="ID_8289718" CREATED="1275129762771" MODIFIED="1575541892090"/>
</node>
<node TEXT="" ID="ID_1710475106" CREATED="1275129751977" MODIFIED="1521139800047">
<node TEXT="si es la 1ª vez crea una sesión nueva" ID="ID_1163968589" CREATED="1275129504302" MODIFIED="1275129511027"/>
<node TEXT="si no, la 2ª y sucesivas veces" ID="ID_1737398858" CREATED="1275129511267" MODIFIED="1521139803215">
<node TEXT="obtiene la sesión existente" ID="ID_1139906026" CREATED="1275129586920" MODIFIED="1275129586920"/>
<node TEXT="esto CARGA la variable $_SESSION" ID="ID_1939254203" CREATED="1385063359202" MODIFIED="1635234787796"/>
</node>
</node>
<node TEXT="y, al finalizar el script PHP, toma el contenido de $_SESSION y lo guarda en RAM para la próxima" ID="ID_892015530" CREATED="1605787687283" MODIFIED="1605787708698"/>
<node TEXT="si en php.ini se establece esto, no es necesario hacer session_start() en cada página:" ID="ID_1288498460" CREATED="1575542017591" MODIFIED="1575542041110">
<node TEXT=" session.auto_start=1" ID="ID_983182080" CREATED="1575542041351" MODIFIED="1575542122594"/>
</node>
</node>
<node TEXT="$_SESSION" FOLDED="true" ID="ID_845514511" CREATED="1275129546788" MODIFIED="1575971905149">
<node TEXT="es la forma de acceder a los datos de la sesión (acceder a la zona de RAM que el servidor nos ha reservado)" ID="ID_203514104" CREATED="1275129551304" MODIFIED="1370447646996"/>
<node TEXT="es un array asociativo" ID="ID_1502098500" CREATED="1275129563106" MODIFIED="1370447651107"/>
<node TEXT="PHP lo que hace es:" ID="ID_1796944794" CREATED="1370448395989" MODIFIED="1521139800039">
<node TEXT="al hacer session_start() CARGA desde la RAM al array los datos que haya" ID="ID_28628947" CREATED="1370448401020" MODIFIED="1370448416868"/>
<node TEXT="al terminar la ejecución del PHP y devolver la página al cliente, GUARDA en la RAM los datos que tenga el array" ID="ID_969800900" CREATED="1370448417387" MODIFIED="1605693078248">
<icon BUILTIN="atenciвn_!!"/>
</node>
</node>
<node TEXT="" ID="ID_1322406768" CREATED="1370447660507" MODIFIED="1521139800035">
<node TEXT="con $_SESSION[&quot;tal&quot;] = 17 creo o actualizo una clave en la sesión" ID="ID_715035420" CREATED="1275130725214" MODIFIED="1605693148657"/>
<node TEXT="con echo $_SESSION[&quot;tal&quot;] recupero y uso un valor de la sesión" ID="ID_17855061" CREATED="1275130725214" MODIFIED="1449086682078"/>
<node TEXT="con isset($_SESSION[&quot;tal&quot;]) comprobamos si existe determinada clave en la sesión" ID="ID_1420107742" CREATED="1275130753949" MODIFIED="1605693142390"/>
<node TEXT="con unset($_SESSION[&quot;tal&quot;]) quitamos un valor de la sesión" ID="ID_342428644" CREATED="1275130742990" MODIFIED="1575971650887"/>
</node>
<node TEXT="tipos de datos en $_SESSION" ID="ID_1748434450" CREATED="1605791757747" MODIFIED="1605791765824">
<node TEXT="en general PHP conserva el tipo de dato (más o menos...)" ID="ID_1267071009" CREATED="1605791766178" MODIFIED="1605791895592"/>
<node TEXT="pero con los objetos, no (puede que en algún otro caso, tampoco)" ID="ID_96826739" CREATED="1605791890348" MODIFIED="1605791954404"/>
<node TEXT="para asegurarnos, serializar/deserializar:" ID="ID_1890342973" CREATED="1605791954794" MODIFIED="1605791965697"/>
<node TEXT="guardar" ID="ID_868779746" CREATED="1605791856859" MODIFIED="1605791858211">
<node TEXT="session_start();&#xa;$object = new sample_object();&#xa;$_SESSION[&apos;sample&apos;] = serialize($object);" ID="ID_234192090" CREATED="1605791848804" MODIFIED="1605791855889"/>
</node>
<node TEXT="recuperar" ID="ID_1513952348" CREATED="1605791858405" MODIFIED="1605791859642">
<node TEXT="session_start();&#xa;$object = unserialize($_SESSION[&apos;sample&apos;]);" ID="ID_1197631096" CREATED="1605791861324" MODIFIED="1605791862507"/>
</node>
</node>
</node>
<node TEXT="destrucción&#xa;de la sesión" ID="ID_280566063" CREATED="1385051161823" MODIFIED="1605787833928">
<node TEXT="session_start();" ID="ID_545133239" CREATED="1385051210373" MODIFIED="1575971661554">
<icon BUILTIN="full-1"/>
<node TEXT="primero hay que hacer esto, aunque parezca raro. Es para recuperar la sesión, si no, PHP no sabe qué sesión hay que destruir" ID="ID_734041547" CREATED="1385051199954" MODIFIED="1385051334732"/>
</node>
<node TEXT="session_destroy();" ID="ID_575541396" CREATED="1385051228347" MODIFIED="1634890633017">
<icon BUILTIN="full-2"/>
<node TEXT="luego se solicita destruir la sesión" ID="ID_592434692" CREATED="1385051221163" MODIFIED="1385051339430">
<node TEXT="esto elimina de la RAM la información que haya" ID="ID_1076424015" CREATED="1575971708148" MODIFIED="1575971719781"/>
<node TEXT="y borra la cookie (le pide al cliente que la borre)" ID="ID_1530487181" CREATED="1575971719936" MODIFIED="1575971739255"/>
</node>
<node TEXT="pero después de ejecutar esto, y solo para este &quot;acto&quot; de procesamiento de PHP, $_SESSION seguirá estando DISPONIBLE con todos los datos que se hayan cargado en el session_start()" ID="ID_425562877" CREATED="1385668869801" MODIFIED="1385668923940"/>
</node>
<node TEXT="// Esto es necesario solo si luego viene HTML.&#xa;unset($_SESSION);" ID="ID_786059019" CREATED="1385051296132" MODIFIED="1575971663586">
<icon BUILTIN="full-3"/>
<node TEXT="si este PHP tiene parte HTML, hay que tener en cuenta que el array asociativo $_SESSION estará CARGADO con datos que ya no están vigentes, por lo que hay que borrarlo con el unset" ID="ID_1431490266" CREATED="1385051258705" MODIFIED="1417031306510"/>
<node TEXT="ejemplo" FOLDED="true" ID="ID_1540256365" CREATED="1385669359916" MODIFIED="1521139803210">
<icon BUILTIN="z_script"/>
<node TEXT="&lt;?php&#xa;    session_start();&#xa;    session_destroy();&#xa;    // ***&#xa;?&gt;&#xa;&#xa;...&#xa;&#xa;&lt;?php&#xa;    if (isset($_SESSION[&quot;sesionIniciada&quot;])) {&#xa;        // Si NO hago un unset($_SESSION) arriba en la posición marcada con ***,&#xa;        // aquí parecería que SÍ hay sesión iniciada a pesar del session_destroy().&#xa;        // ...&#xa;    }&#xa;?&gt;" ID="ID_1220875861" CREATED="1605693431723" MODIFIED="1605693433266"/>
</node>
</node>
<node TEXT="ejemplo, cerrarSesion.php" ID="ID_861930094" CREATED="1385051173747" MODIFIED="1605693524106">
<icon BUILTIN="z_script"/>
<node TEXT="&lt;?php&#xa;         session_start();&#xa;&#xa;         session_destroy();&#xa;&#xa;         // No hace falta hacer unset($_SESSION), porque este PHP no tiene HTML.&#xa;&#xa;         // Se redirige al cliente a otro PHP.&#xa;         header(&quot;Location: iniciarSesion.php&quot;);&#xa;         exit();&#xa;?&gt;" ID="ID_1562055074" CREATED="1385051175969" MODIFIED="1605693557000">
<arrowlink SHAPE="LINE" COLOR="#000000" WIDTH="2" TRANSPARENCY="200" FONT_SIZE="9" FONT_FAMILY="SansSerif" DESTINATION="ID_1562055074" STARTINCLINATION="0 pt;0 pt;" ENDINCLINATION="0 pt;0 pt;" STARTARROW="NONE" ENDARROW="DEFAULT"/>
<linktarget COLOR="#b0b0b0" DESTINATION="ID_1562055074" ENDARROW="Default" ENDINCLINATION="0;0;" ID="Arrow_ID_1229805768" SOURCE="ID_1562055074" STARTARROW="None" STARTINCLINATION="0;0;"/>
</node>
</node>
</node>
</node>
</node>
<node TEXT="DAW2" POSITION="right" ID="ID_233672740" CREATED="1632818296085" MODIFIED="1632818301633">
<icon BUILTIN="info_acciвn"/>
</node>
<node TEXT="(antiguo - idea general)&#xa;esquema de uso de sesiones&#xa;con identificador y contraseña" FOLDED="true" POSITION="right" ID="ID_602473421" CREATED="1385063975349" MODIFIED="1637835672327">
<node TEXT="en CADA página PHP que tenga contenidos que haya que proteger, habrá una parte común que haga las comprobaciones" ID="ID_605742653" CREATED="1385063993286" MODIFIED="1416249823231">
<node TEXT="es buena idea llamarla _ComprobarSesion.php e incluirla al principio con un require_once" ID="ID_1862222769" CREATED="1385064036173" MODIFIED="1636627780739"/>
</node>
<node TEXT="esa parte común&#xa;(_ComprobarSesion.php)&#xa;hará lo siguiente" ID="ID_1120016012" CREATED="1385064063597" MODIFIED="1636627793279">
<node TEXT="lo primero:&#xa;session_start();" ID="ID_941208567" CREATED="1575972423480" MODIFIED="1575972432168">
<node TEXT="¿hay sesión-USUARIO iniciada?&#xa;¿isset($_SESSION[&quot;id&quot;])?" ID="ID_195206406" CREATED="1385064073589" MODIFIED="1636627813704">
<node TEXT="SÍ, hay sesión USUARIO" ID="ID_232756329" CREATED="1385064117765" MODIFIED="1521139803203">
<node TEXT="no hacemos nada (es decir, dejamos que se continúe ejecutando el PHP y muestre el contenido)" ID="ID_110262311" CREATED="1385064129700" MODIFIED="1449689065854">
<icon BUILTIN="forward"/>
</node>
</node>
<node TEXT="NO, no hay&#xa;sesión USUARIO" ID="ID_1247129490" CREATED="1385064117765" MODIFIED="1521139803170">
<node TEXT="¿viene un código-cookie&#xa;en una cookie?" ID="ID_1832812210" CREATED="1576750047746" MODIFIED="1576750068836">
<node TEXT="SÍ, hay&#xa;código cookie" ID="ID_606324578" CREATED="1576752383428" MODIFIED="1576754978092">
<node TEXT="¿En la BD, coincide el código cookie?" ID="ID_1027652441" CREATED="1576754860399" MODIFIED="1576754878898">
<node TEXT="SÍ, coincide el código&#xa;cookie en la BD" ID="ID_1547808590" CREATED="1576754889935" MODIFIED="1576754898622">
<node TEXT="TODO OK" ID="ID_359599820" CREATED="1576754937503" MODIFIED="1576754953408">
<node TEXT="marcamos la sesión como iniciada:&#xa;$_SESSION[&quot;id&quot;] = $id;" ID="ID_1548668521" CREATED="1576754953533" MODIFIED="1636628562920"/>
<node TEXT="re-generamos la cookie" ID="ID_643678191" CREATED="1576754954125" MODIFIED="1576754960830"/>
</node>
</node>
<node TEXT="NO, no coincide el código&#xa;cookie en la BD" ID="ID_1557384267" CREATED="1576754882565" MODIFIED="1576754906545">
<node TEXT="(OJO... Pueden estar intentando algo raro)" ID="ID_224516656" CREATED="1576754913093" MODIFIED="1576754930434"/>
<node TEXT="redirigimos a IniciarSesion.php" ID="ID_1356996370" CREATED="1385064260476" MODIFIED="1636628511295">
<icon BUILTIN="forward"/>
</node>
</node>
</node>
</node>
<node TEXT="NO, no hay&#xa;código cookie" ID="ID_1900968000" CREATED="1576750041937" MODIFIED="1576754982065">
<node TEXT="¿viene en $_REQUEST un formulario&#xa;de inicio de sesión enviado?&#xa;¿(isset($_REQUEST[&quot;identificador&quot;] ... ))?" ID="ID_601479278" CREATED="1385064155469" MODIFIED="1636628639728">
<node TEXT="SÍ, hay&#xa;formulario&#xa;enviado" ID="ID_382378893" CREATED="1385064117765" MODIFIED="1521139803182">
<node TEXT="¿son correctos los datos (comprobar contra BD)?&#xa;[si estás empezando a programar esto, en este punto,&#xa;simplemente mira a ver si la contraseña es &quot;a&quot;, por ejemplo]" ID="ID_377898788" CREATED="1385064129700" MODIFIED="1521139803187">
<node TEXT="SÍ, son correctos" ID="ID_1545049657" CREATED="1385064306635" MODIFIED="1521139803201">
<node TEXT="$_SESSION[&quot;id&quot;] = $id; // Nos anotamos que ESTE usuario tiene iniciada la sesión (con esto bastaría, en realidad)." ID="ID_484139654" CREATED="1385064314515" MODIFIED="1636629619505"/>
<node TEXT="$_SESSION[&quot;identificador&quot;] = $identificador; // Nos anotamos QUIÉN es el usuario que tiene iniciada la sesión." ID="ID_113238545" CREATED="1385064314515" MODIFIED="1636629615025"/>
<node TEXT="(y guardamos en $_SESSION cualquier otra info que nos pueda venir bien tener &quot;a mano&quot; en la RAM del servidor)" ID="ID_57955493" CREATED="1576752422047" MODIFIED="1576752445303"/>
<node TEXT="y, SI HAN MARCADO EL CHECKBOX DE RECORDAR, creamos un código cookie y se lo enviamos al cliente en una cookie junto con otra cookie con su identificador, y, además, lo anotamos en nuestra BD." ID="ID_291537071" CREATED="1576752547974" MODIFIED="1636629693930"/>
<node TEXT="no hacemos nada más (es decir, dejamos que se continúe ejecutando el PHP y muestre el contenido)" ID="ID_1847446047" CREATED="1385064129700" MODIFIED="1575543704423">
<icon BUILTIN="forward"/>
</node>
</node>
<node TEXT="NO, no son correctos" ID="ID_970017143" CREATED="1385064404387" MODIFIED="1521139803191">
<node TEXT="redirigimos a IniciarSesion.php" ID="ID_1165746358" CREATED="1385064260476" MODIFIED="1636628669815">
<icon BUILTIN="forward"/>
<node TEXT="(quizá se puede añadir un parámetro ?incorrecto=true para que la página muestre un mensajito)" ID="ID_1453415704" CREATED="1385064443483" MODIFIED="1385064443483"/>
</node>
</node>
</node>
</node>
<node TEXT="NO, no hay&#xa;formulario&#xa;enviado" ID="ID_74504712" CREATED="1385064117765" MODIFIED="1521139803178">
<node TEXT="redirigimos a IniciarSesion.php" ID="ID_1458143120" CREATED="1385064260476" MODIFIED="1636628648062">
<icon BUILTIN="forward"/>
</node>
</node>
</node>
</node>
</node>
</node>
</node>
</node>
</node>
<node TEXT="y cuando el usuario cierra sesión no solo hay que eliminar la info de $_SESSION sino TAMBIÉN LA COOKIE." ID="ID_1419254114" CREATED="1576752355245" MODIFIED="1576752367032"/>
</node>
<node TEXT="NUEVO esquema&#xa;de gestión de sesión" FOLDED="true" POSITION="right" ID="ID_1514593091" CREATED="1637145496017" MODIFIED="1637835590724">
<node TEXT="(páginas públicas)" ID="ID_215298732" CREATED="1637138577780" MODIFIED="1637228741813">
<node TEXT="if (comprobarRenovarSesion())" ID="ID_972718769" CREATED="1637138605933" MODIFIED="1637143948896">
<icon BUILTIN="executable"/>
<node TEXT="pintar info sesión en la pantalla" ID="ID_389482413" CREATED="1637142191673" MODIFIED="1637142198748"/>
</node>
<node TEXT="else" ID="ID_516612272" CREATED="1637142106010" MODIFIED="1637143950393">
<node TEXT="pintar link a iniciar sesión" ID="ID_1619855901" CREATED="1637142212082" MODIFIED="1637142216188"/>
</node>
</node>
<node TEXT="SesionFormulario.php" ID="ID_4666182" CREATED="1637138761389" MODIFIED="1637138939719">
<node TEXT="entrarSiSesionIniciada()" ID="ID_1917688627" CREATED="1637138605933" MODIFIED="1637232376269" COLOR="#ff00ff">
<icon BUILTIN="executable"/>
<node TEXT="(si ya había sesión, nos redirigirán a dentro)" ID="ID_1246943441" CREATED="1637138630397" MODIFIED="1637231915981" COLOR="#ff00ff"/>
</node>
<node TEXT="(y, si llegamos hasta aquí, dejar pasar a la página)" ID="ID_1126403537" CREATED="1637138630397" MODIFIED="1637231141940">
<icon BUILTIN="button_ok"/>
</node>
</node>
<node TEXT="SesionComprobar.php" ID="ID_10990567" CREATED="1637138772645" MODIFIED="1637138938136">
<node TEXT="entrarSiSesionIniciada()" ID="ID_1629323358" CREATED="1637138605933" MODIFIED="1637232377494" COLOR="#ff00ff">
<icon BUILTIN="executable"/>
<node TEXT="(si ya había sesión, nos redirigirán a dentro)" ID="ID_1756648838" CREATED="1637138630397" MODIFIED="1637231915981" COLOR="#ff00ff"/>
</node>
<node TEXT="(no hay sesión)" ID="ID_1670926838" CREATED="1637142106010" MODIFIED="1637142110213">
<node TEXT="si NO recibimos formulario" ID="ID_965531464" CREATED="1637139025126" MODIFIED="1637140126618">
<node TEXT="redirigir a SF.php" ID="ID_1901461980" CREATED="1637139038366" MODIFIED="1637141176202">
<icon BUILTIN="forward"/>
</node>
</node>
<node TEXT="SÍ recibimos&#xa;formulario" ID="ID_60078991" CREATED="1637140110903" MODIFIED="1637140143650">
<node TEXT="¿llegan los&#xa;campos?" ID="ID_430180695" CREATED="1637138778141" MODIFIED="1637230830026">
<node TEXT="¿datos de inicio de&#xa;sesión correctos?" ID="ID_731508861" CREATED="1637138785709" MODIFIED="1637140141233">
<node TEXT="generar sesión-RAM" ID="ID_723136383" CREATED="1637138819638" MODIFIED="1637142167430">
<icon BUILTIN="executable"/>
</node>
<node TEXT="¿han marcado recuérdame?" ID="ID_1826567030" CREATED="1637138833470" MODIFIED="1637138840912">
<node TEXT="generarRenovarSesionCookie()" ID="ID_86865000" CREATED="1637138819638" MODIFIED="1637235233578">
<icon BUILTIN="executable"/>
</node>
</node>
</node>
</node>
<node TEXT="si algo falla" ID="ID_1584121877" CREATED="1637141200256" MODIFIED="1637141202275">
<node TEXT="redirigir a SF.php?error" ID="ID_388353211" CREATED="1637139038366" MODIFIED="1637229663631">
<icon BUILTIN="forward"/>
<node ID="ID_1527339685" CREATED="1637229663923" MODIFIED="1637229663923"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      (parámetro para que salga mensaje de error)
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
</node>
</node>
<node TEXT="(y, si llegamos hasta aquí, dejar pasar a la página)" ID="ID_747622940" CREATED="1637138630397" MODIFIED="1637231141940">
<icon BUILTIN="button_ok"/>
</node>
</node>
<node TEXT="(páginas privadas)" ID="ID_821007809" CREATED="1637138535029" MODIFIED="1637140408001">
<node TEXT="salirSiSesionFalla()" ID="ID_1947208745" CREATED="1637139867374" MODIFIED="1637232382285" COLOR="#ff00ff">
<icon BUILTIN="executable"/>
<node TEXT="(si falla, nos redirigirán a SF.php)" ID="ID_1885729643" CREATED="1637138630397" MODIFIED="1637230761441" COLOR="#ff00ff"/>
</node>
<node TEXT="¿quién es el&#xa;usuario actual?" ID="ID_225094045" CREATED="1637138630005" MODIFIED="1637145409817">
<node TEXT="lo miro en $_SESSION, que para eso lo tengo" ID="ID_1837817262" CREATED="1637144727351" MODIFIED="1637145028722"/>
<node TEXT="en el futuro, crearemos una función que nos dé un objeto Usuario" ID="ID_1307146447" CREATED="1637145031968" MODIFIED="1637145136810"/>
</node>
</node>
<node TEXT="_Sesion.php" ID="ID_1082678009" CREATED="1637141039368" MODIFIED="1637228654299">
<node TEXT="entrarSiSesionIniciada()" ID="ID_1172231881" CREATED="1637139867374" MODIFIED="1637232348782" COLOR="#ff00ff">
<icon BUILTIN="executable"/>
<node TEXT="if (comprobarRenovarSesion())" ID="ID_1067317290" CREATED="1637139867374" MODIFIED="1637231980463" COLOR="#ff00ff">
<icon BUILTIN="executable"/>
<node TEXT="redirigir a &quot;página privada home&quot; (ListadoPersonas)" ID="ID_1515089966" CREATED="1637230272501" MODIFIED="1637231884734" COLOR="#ff00ff">
<icon BUILTIN="forward"/>
</node>
</node>
</node>
<node TEXT="salirSiSesionFalla()" ID="ID_462458041" CREATED="1637139867374" MODIFIED="1637232363198" COLOR="#ff00ff">
<icon BUILTIN="executable"/>
<node TEXT="if (!comprobarRenovarSesion())" ID="ID_1928413079" CREATED="1637139867374" MODIFIED="1637230954420" COLOR="#ff00ff">
<icon BUILTIN="executable"/>
<node TEXT="redirigir a SF.php" ID="ID_1495691875" CREATED="1637230272501" MODIFIED="1637230761442" COLOR="#ff00ff">
<icon BUILTIN="forward"/>
</node>
</node>
</node>
<node TEXT="comprobarRenovarSesion(): bool" ID="ID_1021156113" CREATED="1637139867374" MODIFIED="1637231173005" COLOR="#000000">
<icon BUILTIN="executable"/>
<node TEXT="¿tiene sesión RAM?" ID="ID_613381750" CREATED="1637138605933" MODIFIED="1637143036464">
<icon BUILTIN="executable"/>
</node>
<node TEXT="(no tiene&#xa;sesión-RAM)" ID="ID_329937047" CREATED="1637142674563" MODIFIED="1637230810042">
<node TEXT="¿hay sesión-COOKIE?" ID="ID_1675774518" CREATED="1637138621429" MODIFIED="1637143031815">
<icon BUILTIN="executable"/>
</node>
</node>
<node TEXT="(sí tiene sesión-RAM)" ID="ID_1127089205" CREATED="1637142688259" MODIFIED="1637230206690">
<node TEXT="¿hay sesión-COOKIE?" ID="ID_1830613829" CREATED="1637140295504" MODIFIED="1637142990589">
<icon BUILTIN="executable"/>
<node TEXT="generarRenovarSesionCookie()" ID="ID_1892558997" CREATED="1637140232944" MODIFIED="1637235217162">
<icon BUILTIN="executable"/>
</node>
</node>
</node>
</node>
<node TEXT="haySesionRAM(): bool" ID="ID_994593962" CREATED="1637138605933" MODIFIED="1637143512303">
<icon BUILTIN="executable"/>
<node TEXT="¿isset($_SESSION[&quot;id&quot;])?" ID="ID_340071284" CREATED="1637232978243" MODIFIED="1637232990335"/>
</node>
<node TEXT="haySesionCookie(): bool" ID="ID_470600555" CREATED="1637142966644" MODIFIED="1637143483047">
<icon BUILTIN="executable"/>
<node TEXT="¿vienen las cookies?" ID="ID_1956808213" CREATED="1637138665261" MODIFIED="1637138689496"/>
<node TEXT="¿codigoCookie coincide?" ID="ID_804783075" CREATED="1637138631932" MODIFIED="1637138660000"/>
<node TEXT="¿caducidad OK?" ID="ID_1939129592" CREATED="1637138660525" MODIFIED="1637138663647"/>
</node>
<node TEXT="generarSesionRAM(array $usuario)" ID="ID_1726443720" CREATED="1637138819638" MODIFIED="1637234607099">
<icon BUILTIN="executable"/>
<node TEXT="($usuario es una $fila)" ID="ID_1454930038" CREATED="1637143755510" MODIFIED="1637143777014"/>
<node TEXT="$_SESSION[&quot;id&quot;] = $usuario[&quot;id&quot;];" ID="ID_276871571" CREATED="1637232978243" MODIFIED="1637233439039"/>
<node TEXT="$_SESSION[&quot;...&quot;] = $usuario[&quot;...&quot;];" ID="ID_1746388737" CREATED="1637232978243" MODIFIED="1637233442063"/>
<node TEXT="..." ID="ID_1676649378" CREATED="1637233426692" MODIFIED="1637234607099"/>
</node>
<node TEXT="generarRenovarSesionCookie()" ID="ID_976321116" CREATED="1637140232944" MODIFIED="1637308163928">
<icon BUILTIN="executable"/>
</node>
<node TEXT="cerrarSesion()" ID="ID_38778863" CREATED="1637142904227" MODIFIED="1637143836623">
<icon BUILTIN="executable"/>
<node TEXT="destruir sesión-RAM" ID="ID_1011570586" CREATED="1637142916180" MODIFIED="1637142923462"/>
<node TEXT="¿hay sesión-COOKIE?" ID="ID_1066588874" CREATED="1637142966644" MODIFIED="1637142992458">
<icon BUILTIN="executable"/>
<node TEXT="borrar cookie" ID="ID_1081780410" CREATED="1637142923604" MODIFIED="1637142935654"/>
<node TEXT="eliminar info cookie de la BD" ID="ID_1635660150" CREATED="1637142951099" MODIFIED="1637142961356"/>
</node>
</node>
</node>
</node>
<node TEXT="POO con PHP" FOLDED="true" POSITION="right" ID="ID_324968914" CREATED="1579077200297" MODIFIED="1637835679625">
<node TEXT="muy parecida a Java en prácticamente todo" ID="ID_1564780997" CREATED="1579077983152" MODIFIED="1579079151093"/>
<node TEXT="TIENE recolector de basura" ID="ID_422938202" CREATED="1579077988178" MODIFIED="1579077992376"/>
<node TEXT="estructura general de una clase" ID="ID_255400265" CREATED="1579078962296" MODIFIED="1579078967823">
<node TEXT="ejemplo" FOLDED="true" ID="ID_21148054" CREATED="1579078234202" MODIFIED="1579079013737">
<icon BUILTIN="z_script"/>
<node TEXT="&lt;?php&#xa;abstract class ParentClass {&#xa;  // Abstract method with an argument&#xa;  abstract protected function prefixName(string $name): string;&#xa;}&#xa;&#xa;class ChildClass extends ParentClass {&#xa;  public function prefixName(string $name): string {&#xa;    if ($name == &quot;John Doe&quot;) {&#xa;      $prefix = &quot;Mr.&quot;;&#xa;    } elseif ($name == &quot;Jane Doe&quot;) {&#xa;      $prefix = &quot;Mrs.&quot;;&#xa;    } else {&#xa;      $prefix = &quot;&quot;;&#xa;    }&#xa;    return &quot;{$prefix} {$name}&quot;;&#xa;  }&#xa;}&#xa;&#xa;$objeto = new ChildClass;&#xa;echo $objeto-&gt;prefixName(&quot;John Doe&quot;);&#xa;echo &quot;&lt;br&gt;&quot;;&#xa;echo $objeto-&gt;prefixName(&quot;Jane Doe&quot;);&#xa;?&gt;" ID="ID_1767689977" CREATED="1579078237817" MODIFIED="1637913280882"/>
</node>
</node>
<node TEXT="visibilidad" ID="ID_1635115851" CREATED="1579078968095" MODIFIED="1579078970784">
<node TEXT="private, protected, public" ID="ID_1761288631" CREATED="1579078970987" MODIFIED="1579078979935"/>
</node>
<node TEXT="constructores" ID="ID_1530438027" CREATED="1579680333794" MODIFIED="1579680335509">
<node TEXT="ejemplo" FOLDED="true" ID="ID_1531368242" CREATED="1579680336255" MODIFIED="1579682206607">
<icon BUILTIN="z_script"/>
<node TEXT="    function __construct(int $id=null, string $nombre, string $descripcion, double $precio)&#xa;    {&#xa;        if ($id == null) { // No nos han pasado id.&#xa;            // TODO obtener info de la BD.&#xa;        } else {&#xa;            // TODO crear el dato en la BD y actualizarle el id&#xa;        }&#xa;    }" ID="ID_1834049923" CREATED="1579682207196" MODIFIED="1579682213690"/>
</node>
</node>
<node TEXT="campos estáticos" ID="ID_1702910473" CREATED="1579079027900" MODIFIED="1579079033829">
<node TEXT="ejemplo" FOLDED="true" ID="ID_761374965" CREATED="1579079034660" MODIFIED="1579079036045">
<icon BUILTIN="z_script"/>
<node TEXT="&lt;?php&#xa;class ClassName {&#xa;  public static $staticProp = &quot;W3Schools&quot;;&#xa;}&#xa;?&gt;" ID="ID_1615554847" CREATED="1579079036328" MODIFIED="1579079038702"/>
</node>
</node>
<node TEXT="métodos estáticos" ID="ID_1343140092" CREATED="1579078958379" MODIFIED="1579078961360">
<node TEXT="ejemplo" FOLDED="true" ID="ID_1979311241" CREATED="1579078994269" MODIFIED="1579078996602">
<icon BUILTIN="z_script"/>
<node TEXT=" &lt;?php&#xa;class ClassName {&#xa;  public static function staticMethod() {&#xa;    echo &quot;Hello World!&quot;;&#xa;  }&#xa;}&#xa;?&gt;" ID="ID_1940827098" CREATED="1579078985714" MODIFIED="1579078989336"/>
</node>
</node>
<node TEXT="traits" ID="ID_526966998" CREATED="1579078909852" MODIFIED="1579078911478">
<node TEXT="&quot;trait&quot; = rasgos" ID="ID_1109198646" CREATED="1637913415684" MODIFIED="1637913443423"/>
<node TEXT="es &quot;casi&quot; herencia múltiple" ID="ID_1454699247" CREATED="1637913443676" MODIFIED="1637913454846"/>
<node TEXT="los traits de PHP sí permiten" ID="ID_281059071" CREATED="1579078402735" MODIFIED="1637835705135">
<node TEXT="campos" ID="ID_1270081490" CREATED="1637835707985" MODIFIED="1637835708932"/>
<node TEXT="métodos implementados" ID="ID_1093279546" CREATED="1637835706138" MODIFIED="1637835706958">
<node TEXT="además de, por supuesto, abstractos" ID="ID_1362197825" CREATED="1579078411393" MODIFIED="1579078416100"/>
</node>
</node>
<node TEXT="ejemplo" FOLDED="true" ID="ID_196491955" CREATED="1579078912188" MODIFIED="1579078916865">
<icon BUILTIN="z_script"/>
<node TEXT=" &lt;?php&#xa;trait message1 {&#xa;  public function msg1() {&#xa;    echo &quot;OOP is fun! &quot;;&#xa;  }&#xa;}&#xa;&#xa;trait message2 {&#xa;  public function msg2() {&#xa;    echo &quot;OOP reduces code duplication!&quot;;&#xa;  }&#xa;}&#xa;&#xa;class Welcome {&#xa;  use message1;&#xa;}&#xa;&#xa;class Welcome2 {&#xa;  use message1, message2;&#xa;}&#xa;&#xa;$obj = new Welcome();&#xa;$obj-&gt;msg1();&#xa;echo &quot;&lt;br&gt;&quot;;&#xa;&#xa;$obj2 = new Welcome2();&#xa;$obj2-&gt;msg1();&#xa;$obj2-&gt;msg2();&#xa;?&gt;" ID="ID_171238582" CREATED="1579078914520" MODIFIED="1579078915485"/>
</node>
</node>
<node TEXT="clases y métodos abstractos" ID="ID_181535245" CREATED="1579078191868" MODIFIED="1579078211392">
<node TEXT="ejemplo" FOLDED="true" ID="ID_1010299409" CREATED="1579079044724" MODIFIED="1579079048379">
<icon BUILTIN="z_script"/>
<node TEXT="abstract class ParentClass {&#xa;  abstract public function someMethod1();&#xa;  ...&#xa;}" ID="ID_1632536706" CREATED="1579078195932" MODIFIED="1579078203356"/>
</node>
</node>
<node TEXT="Parent" ID="ID_1360375762" CREATED="1579077202753" MODIFIED="1637913517417">
<node TEXT="equivale al super de Java, pero en clase, no en objeto" ID="ID_1038770187" CREATED="1579077844901" MODIFIED="1637913550949"/>
<node TEXT="ejemplo:" ID="ID_838986235" CREATED="1579077853251" MODIFIED="1579079000763">
<icon BUILTIN="z_script"/>
<node TEXT="Parent::__destruct()" ID="ID_1343707853" CREATED="1579077849112" MODIFIED="1637913519598"/>
</node>
</node>
<node TEXT="this" ID="ID_217414083" CREATED="1637913556580" MODIFIED="1637913559904">
<node TEXT="el objeto actual" ID="ID_234569135" CREATED="1637913561748" MODIFIED="1637913564214"/>
</node>
<node TEXT="Self" ID="ID_934822707" CREATED="1637913559979" MODIFIED="1637913560895">
<node TEXT="la CLASE actual" ID="ID_321985906" CREATED="1637913564723" MODIFIED="1637913568159"/>
</node>
</node>
<node TEXT="JSON" FOLDED="true" POSITION="right" ID="ID_759030514" CREATED="1540365575091" MODIFIED="1547558618271">
<node TEXT="" ID="ID_1909952889" CREATED="1541509892626" MODIFIED="1541509892626">
<node TEXT="" ID="ID_1802744666" CREATED="1541509892049" MODIFIED="1541509892049">
<node TEXT="https://jsonplaceholder.typicode.com/" ID="ID_809137415" CREATED="1541509883334" MODIFIED="1541509899898" LINK="https://jsonplaceholder.typicode.com/">
<icon BUILTIN="atenciвn_!!"/>
<icon BUILTIN="atenciвn_!!"/>
<icon BUILTIN="atenciвn_!!"/>
<icon BUILTIN="atenciвn_!!"/>
<icon BUILTIN="atenciвn_!!"/>
<font SIZE="30"/>
</node>
</node>
</node>
<node TEXT="&quot;JavaScript Object Notation&quot; (notación de objeto de JavaScript)" ID="ID_272635056" CREATED="1540365586251" MODIFIED="1540365600206"/>
<node TEXT="es un formato de solo texto (sin nada de binario) para intercambio de datos" ID="ID_1394576191" CREATED="1540365600439" MODIFIED="1547797727107"/>
<node TEXT="se basa en la notación literal de objetos de JavaScript" ID="ID_1506087634" CREATED="1540365617820" MODIFIED="1540365632794">
<node TEXT="pero puede ser escrito o leído en cualquier lenguaje" ID="ID_1542076768" CREATED="1540367294658" MODIFIED="1540367302731"/>
</node>
<node TEXT="es muy fácil pasar de objetos JS a este formato y viceversa" ID="ID_1190938379" CREATED="1540365637124" MODIFIED="1540365654595">
<node TEXT="el formato JSON &quot;se evalúa a objetos JS&quot;" ID="ID_1546500435" CREATED="1540367340796" MODIFIED="1540367349978"/>
</node>
<node TEXT="formato" ID="ID_1575361087" CREATED="1540367358749" MODIFIED="1540367562690">
<node TEXT="&quot;etiqueta&quot;:&quot;valor&quot;" ID="ID_1802683872" CREATED="1540367473701" MODIFIED="1540367476713">
<node TEXT="&quot;nombreDeCampo&quot;:&quot;valorDelCampo&quot;" ID="ID_828847722" CREATED="1547627612807" MODIFIED="1547627622842"/>
<node TEXT="los datos (las propiedades de los objetos) vienen en parejas con comillas dobles" ID="ID_1689684169" CREATED="1540367361579" MODIFIED="1540367483986"/>
<node TEXT="los datos se separan por comas" ID="ID_1291052849" CREATED="1540367361580" MODIFIED="1540367396045"/>
</node>
<node TEXT="{objetos}" ID="ID_14694698" CREATED="1540367512628" MODIFIED="1540367513726">
<node TEXT="las llaves representan objetos" ID="ID_742772455" CREATED="1540367361586" MODIFIED="1540367512236"/>
<node TEXT="ejemplo" ID="ID_963400231" CREATED="1540367551837" MODIFIED="1540367552913">
<node TEXT="{&quot;firstName&quot;:&quot;John&quot;, &quot;lastName&quot;:&quot;Doe&quot;} " ID="ID_1646939381" CREATED="1540367530605" MODIFIED="1540367531896"/>
</node>
</node>
<node TEXT="[arrays]" ID="ID_1434988527" CREATED="1540367517808" MODIFIED="1540367518958">
<node TEXT="los corchetes representan los valores de un array" ID="ID_538000936" CREATED="1540367361588" MODIFIED="1547192427079"/>
<node TEXT="ejemplo" ID="ID_355819545" CREATED="1540367549289" MODIFIED="1540367550997">
<node TEXT="&quot;empleados&quot;:[&#xa;    {&quot;firstName&quot;:&quot;John&quot;, &quot;lastName&quot;:&quot;Doe&quot;},&#xa;    {&quot;firstName&quot;:&quot;Anna&quot;, &quot;lastName&quot;:&quot;Smith&quot;},&#xa;    {&quot;firstName&quot;:&quot;Peter&quot;, &quot;lastName&quot;:&quot;Jones&quot;}&#xa;]" ID="ID_1851830830" CREATED="1540367542387" MODIFIED="1547627701122"/>
</node>
</node>
</node>
<node TEXT="conversión" ID="ID_643900475" CREATED="1540367581292" MODIFIED="1540367583029">
<node TEXT="ejemplo" ID="ID_105106284" CREATED="1540367763065" MODIFIED="1540367764530">
<node TEXT="var texto = &apos;{ &quot;employees&quot; : [{ &quot;firstName&quot;:&quot;John&quot; , &quot;lastName&quot;:&quot;Doe&quot; },{ &quot;firstName&quot;:&quot;Anna&quot; , &quot;lastName&quot;:&quot;Smith&quot; },{ &quot;firstName&quot;:&quot;Peter&quot; , &quot;lastName&quot;:&quot;Jones&quot; } ]}&apos;;&#xa;&#xa;var obj = JSON.parse(text);&#xa;&#xa;&lt;p id=&quot;demo&quot;&gt;&lt;/p&gt;&#xa;&#xa;&lt;script&gt;&#xa;    document.getElementById(&quot;demo&quot;).innerHTML =&#xa;    obj.employees[1].firstName + &quot; &quot; + obj.employees[1].lastName;&#xa;&lt;/script&gt;" ID="ID_1394300216" CREATED="1540367587940" MODIFIED="1540367760038"/>
</node>
</node>
<node TEXT="OJO" ID="ID_719486925" CREATED="1548839500985" MODIFIED="1548839505872">
<icon BUILTIN="atenciвn_!!"/>
<node TEXT="solo se &quot;stringifizan&quot; los campos de datos, NO los métodos" ID="ID_403139008" CREATED="1548839502334" MODIFIED="1548839535036"/>
<node TEXT="si el objeto que paso por JSON pertenece a una clase que tiene métodos, cuando &quot;descongele&quot; el objeto este habrá dejado de pertenecer a su clase (si es que algún día perteneció...) y NO podrá llamarse a sus métodos" ID="ID_1387062926" CREATED="1548839530607" MODIFIED="1548839590535"/>
<node TEXT="solución&#xa;(ñapa):" ID="ID_1248856975" CREATED="1548840165013" MODIFIED="1548840228220">
<node TEXT="guardar" ID="ID_1259534661" CREATED="1548840214528" MODIFIED="1548840216072">
<node TEXT="localStorage.rgb = JSON.stringify({&quot;r&quot;:color.getR(), &quot;g&quot;:color.getG(), &quot;b&quot;:color.getB()});" ID="ID_1441296434" CREATED="1548840210137" MODIFIED="1548840211001"/>
</node>
<node TEXT="cargar" ID="ID_1334555188" CREATED="1548840216655" MODIFIED="1548840217695">
<node TEXT="color = new Color();&#xa;&#xa;if (localStorage.rgb) { // Si SÍ existe el valor en localStorage, cargo sus valores.&#xa;  var rgb = JSON.parse(localStorage.rgb);&#xa;  color.setR(rgb.r);&#xa;  color.setG(rgb.g);&#xa;  color.setB(rgb.b);&#xa;}" ID="ID_1548054457" CREATED="1548840179119" MODIFIED="1548840198609"/>
</node>
</node>
</node>
<node TEXT="conversiones en Javascript" ID="ID_1778219005" CREATED="1612441034642" MODIFIED="1612441044343">
<node TEXT="de JSON a objetos" ID="ID_240713643" CREATED="1612441119050" MODIFIED="1612441123868">
<node TEXT="var objetos = JSON.parse(texto);" ID="ID_1450150229" CREATED="1612441047177" MODIFIED="1612441179443"/>
</node>
<node TEXT="de objetos a JSON" ID="ID_519479074" CREATED="1612441125057" MODIFIED="1612441128931">
<node TEXT="var texto = JSON.stringify(objetos);" ID="ID_1272487860" CREATED="1612441115481" MODIFIED="1612441183186"/>
</node>
</node>
<node TEXT="conversiones en PHP" ID="ID_41843513" CREATED="1612441034642" MODIFIED="1612441139995">
<node TEXT="de JSON a objetos" ID="ID_1086882360" CREATED="1612441119050" MODIFIED="1612441123868">
<node TEXT="$objetos = json_decode($texto);" ID="ID_66016054" CREATED="1612441047177" MODIFIED="1612441205827"/>
</node>
<node TEXT="de objetos a JSON" ID="ID_380036207" CREATED="1612441125057" MODIFIED="1612441128931">
<node TEXT="$texto = json_encode($objetos)" ID="ID_116048108" CREATED="1612441115481" MODIFIED="1612441171390"/>
</node>
</node>
</node>
<node TEXT="AJAX" FOLDED="true" POSITION="right" ID="ID_1940917263" CREATED="1540365581168" MODIFIED="1612441779177">
<node TEXT="" FOLDED="true" ID="ID_1207659829" CREATED="1549008444621" MODIFIED="1549008454575">
<icon BUILTIN="z_world"/>
<node TEXT="http://www.tutorialesprogramacionya.com/ajaxya/" ID="ID_644796698" CREATED="1549008923483" MODIFIED="1549008923483" LINK="http://www.tutorialesprogramacionya.com/ajaxya/"/>
<node TEXT="https://www.w3schools.com/js/js_ajax_http_send.asp" ID="ID_353264210" CREATED="1549371601841" MODIFIED="1549371601841" LINK="https://www.w3schools.com/js/js_ajax_http_send.asp"/>
</node>
<node TEXT="&quot;Asynchronous JavaScript And XML&quot;" ID="ID_1108797951" CREATED="1549007524737" MODIFIED="1549007527580"/>
<node TEXT="es una TÉCNICA de programación" ID="ID_1086645270" CREATED="1549007528043" MODIFIED="1549007537338"/>
<node TEXT="objetivo:" FOLDED="true" ID="ID_244088119" CREATED="1549007537918" MODIFIED="1549007569097">
<node TEXT="pedir información al servidor y actualizar la página con ella, con la página &quot;en marcha&quot; y sin recargarla entera" ID="ID_1528133406" CREATED="1549007539660" MODIFIED="1549007656053"/>
<node TEXT="enviar (guardar) información en el servidor, y confirmárselo al usuario, con la página &quot;en marcha&quot; y sin recargarla entera" ID="ID_961451777" CREATED="1549007569532" MODIFIED="1549007665201"/>
</node>
<node TEXT="concepto SPA" FOLDED="true" ID="ID_1267760267" CREATED="1544605461774" MODIFIED="1544605464916">
<node TEXT="Un single-page application (SPA), o aplicación de página única es una aplicación web o es un sitio web que cabe en una sola página con el propósito de dar una experiencia más fluida a los usuarios como una aplicación de escritorio. En un SPA todos los códigos de HTML, JavaScript, y CSS se carga de una vez​ o los recursos necesarios se cargan dinámicamente como lo requiera la página y se van agregando, normalmente como respuesta de las acciones del usuario. La página no tiene que cargar otra vez en ningún punto del proceso tampoco se transfiere a otra página, aunque las tecnologías modernas (como el pushState() API del HTML5) pueden permitir la navegabilidad en páginas lógicas dentro de la aplicación" ID="ID_226477253" CREATED="1544605465585" MODIFIED="1548762871190"/>
<node TEXT="pushState(...)" ID="ID_1966627770" CREATED="1544605468750" MODIFIED="1544605652811">
<node TEXT="" ID="ID_1188963357" CREATED="1544605704704" MODIFIED="1544605704704">
<node TEXT="HTML5 incluyó pushState(); un método del objecto window.history de javascript que se encarga de cambiar directamente la url actual del navegador sin necesidad de refrescar la página. Por razones de seguridad sólo podrás cambiar el PATH del dominio y no la URL completa. La manera de usar este método es el siguiente.." ID="ID_1147281565" CREATED="1544605653216" MODIFIED="1544605653216"/>
<node TEXT="Código :" ID="ID_1175813372" CREATED="1544605653216" MODIFIED="1544605653216"/>
<node TEXT="window.history.pushState(data, &quot;Titulo&quot;, &quot;nueva_url.html&quot;);" FOLDED="true" ID="ID_44938300" CREATED="1544605653219" MODIFIED="1544605653219">
<node TEXT="Primer argumento (Object o String): Datos almacenados que podrán ser recogidos con el evento window.onpopstate; activado cuando se usa un pushState() o replaceState()." ID="ID_1851825230" CREATED="1544605653219" MODIFIED="1544605653219"/>
<node TEXT="Segundo argumento (String): Asigna un título a la nueva URL. El título (ó &lt;title&gt;) del documento no cambiará. Es más una descripción para el manejo de historial que otra cosa." ID="ID_329455393" CREATED="1544605653219" MODIFIED="1544605653219"/>
<node TEXT="Tercer argumento (String): La nueva ruta a mostrár en el documento." ID="ID_1214331674" CREATED="1544605653219" MODIFIED="1544605653219"/>
</node>
</node>
<node TEXT="" ID="ID_1768030851" CREATED="1544605705331" MODIFIED="1544605705331">
<node TEXT="Supongamos que http://mozilla.org/foo.html ejecuta el siguiente JavaScript:" ID="ID_332545782" CREATED="1544605706066" MODIFIED="1544605706066" LINK="http://mozilla.org/foo.html"/>
<node TEXT="var stateObj = { foo: &quot;bar&quot; };" ID="ID_237602257" CREATED="1544605706066" MODIFIED="1544605706066"/>
<node TEXT="history.pushState(stateObj, &quot;page 2&quot;, &quot;bar.html&quot;);" ID="ID_903168889" CREATED="1544605706066" MODIFIED="1544605706066"/>
<node TEXT="Esto causará que la barra de URL muestre http://mozilla.org/bar.html, pero no provocará que el navegador carge load.bar ni tampoco que verifique si bar.html existe." ID="ID_391604203" CREATED="1544605706067" MODIFIED="1544605706067" LINK="http://mozilla.org/bar.html,"/>
</node>
</node>
</node>
<node TEXT="funciones clave&#xa;JavaScript" ID="ID_1529744937" CREATED="1549371413027" MODIFIED="1612444537132">
<node TEXT="request = new XMLHttpRequest();" ID="ID_1141743508" CREATED="1549371442393" MODIFIED="1549371758459"/>
<node TEXT="" ID="ID_1712525120" CREATED="1549371956705" MODIFIED="1549371956705">
<node TEXT="crea un objeto que nos ayudará a realizar una petición al servidor" ID="ID_914649761" CREATED="1549371894649" MODIFIED="1549371946648"/>
<node TEXT="esta petición puede servir tanto para RECOGER datos como para ENVIAR datos, e incluso las dos cosas simultáneamente" ID="ID_1603349399" CREATED="1549371986376" MODIFIED="1549372025640"/>
</node>
<node TEXT="request.onreadystatechange = atenderEventosRequest;" ID="ID_426940908" CREATED="1549371442395" MODIFIED="1549372259235"/>
<node TEXT="" ID="ID_240441978" CREATED="1549371954292" MODIFIED="1549371954292">
<node TEXT="le dice al objeto que, según se produzcan &quot;novedades&quot; (cambios de estado en la petición) llame a una función manejadora nuestra" ID="ID_411600879" CREATED="1549371947352" MODIFIED="1549372069321"/>
<node TEXT="equivale a añadir un suscriptor a un servicio de eventos" ID="ID_1487923235" CREATED="1549372069550" MODIFIED="1549372069870"/>
</node>
<node TEXT="request.open(&quot;GET&quot;, &quot;obtenerDatos.php?id=17&quot;);" ID="ID_1503436907" CREATED="1549371442398" MODIFIED="1549371870738"/>
<node TEXT="" ID="ID_308168738" CREATED="1549372070777" MODIFIED="1549372070777">
<node TEXT="le dice al objeto cuál va a ser el método (&quot;GET&quot; o &quot;POST&quot;) de envío de la petición al servidor" ID="ID_1033062556" CREATED="1549372071983" MODIFIED="1549372157115"/>
<node TEXT="la comunicación será por defecto ASÍNCRONA, es decir, NO nos vamos a quedar bloqueados en esta función hasta que llegue la respuesta sino que la ejecución de Javascript seguirá a partir del envío de la petición y ya, cuando vaya llegando la respuesta irán llamando a mi función manejadora para hacérselo saber" ID="ID_966431186" CREATED="1549372086138" MODIFIED="1549372210673"/>
</node>
<node TEXT="request.send();" ID="ID_289708623" CREATED="1549371442400" MODIFIED="1549371874583"/>
<node TEXT="" ID="ID_723648816" CREATED="1549372122217" MODIFIED="1549372122217">
<node TEXT="lanza ya de forma efectiva la petición al servidor" ID="ID_776499030" CREATED="1549372122757" MODIFIED="1549372133851"/>
</node>
</node>
<node TEXT="mi función&#xa;manejadora&#xa;de eventos" ID="ID_605265025" CREATED="1549371406391" MODIFIED="1549372243585">
<node TEXT="atenderEventosRequest()" ID="ID_1769317178" CREATED="1549371888810" MODIFIED="1549372262818">
<node ID="ID_1114842108" CREATED="1549371409502" MODIFIED="1549372389215"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      var request; // Declarada de forma global para que sea accesible desde donde se prepara la request y tambi&#233;n desde atenderEventosRequest().<br/><br/>(...)<br/><br/>function atenderEventosRequest() {
    </p>
    <p>
      &#160;&#160;&#160;&#160;if(conexion1.readyState == 4) { // Ya est&#225; la respuesta completa.
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;detalles.innerHTML = request.responseText;
    </p>
    <p>
      &#160;&#160;&#160;&#160;} else { // Me han llamado con un evento que corresponde a un estado intermedio. A&#250;n no est&#225; la respuesta completa.
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;detalles.innerHTML = 'Cargando...';
    </p>
    <p>
      &#160;&#160;&#160;&#160;}
    </p>
    <p>
      }
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
<node TEXT="generar JSON&#xa;desde PHP" FOLDED="true" ID="ID_691526751" CREATED="1549008459844" MODIFIED="1549008469114">
<node TEXT="echo json_encode($array);" ID="ID_1798960138" CREATED="1549439848293" MODIFIED="1549439919798">
<node TEXT="toma un array asociativo a base de N elementos, cada uno de los cuales tenga M propiedades" ID="ID_751818069" CREATED="1549440221903" MODIFIED="1549440245783"/>
<node TEXT="devuelve un string con la codificación JSON del array en forma de N objetos, cada uno con sus M propiedades" ID="ID_1824324731" CREATED="1549440247064" MODIFIED="1549440287458"/>
</node>
<node TEXT="$array = json_decode($datosJson, true);" ID="ID_294834344" CREATED="1549440197827" MODIFIED="1549440217258">
<node TEXT="toma datos JSON codificados en forma de string" ID="ID_730242877" CREATED="1549440276687" MODIFIED="1549440301277"/>
<node TEXT="devuelve un array asociativo con tantos elementos como objetos había en el JSON, cada uno de ellos con todas sus propiedades" ID="ID_1396519003" CREATED="1549440301432" MODIFIED="1549440325941"/>
</node>
<node TEXT="ejemplo&#xa;desde BD" FOLDED="true" ID="ID_872591906" CREATED="1549008492557" MODIFIED="1549439894694">
<icon BUILTIN="z_script"/>
<node TEXT="$return_arr = array();&#xa;&#xa;$fetch = mysql_query(&quot;SELECT * FROM table&quot;);&#xa;&#xa;while ($row = mysql_fetch_array($fetch, MYSQL_ASSOC)) {&#xa;    $row_array[&apos;id&apos;] = $row[&apos;id&apos;];&#xa;    $row_array[&apos;col1&apos;] = $row[&apos;col1&apos;];&#xa;    $row_array[&apos;col2&apos;] = $row[&apos;col2&apos;];&#xa;&#xa;    array_push($return_arr,$row_array);&#xa;}&#xa;&#xa;echo json_encode($return_arr);" ID="ID_1185570953" CREATED="1549008494245" MODIFIED="1549008501579"/>
<node TEXT="It returns a json string in this format:&#xa;&#xa;[{&quot;id&quot;:&quot;1&quot;,&quot;col1&quot;:&quot;col1_value&quot;,&quot;col2&quot;:&quot;col2_value&quot;},{&quot;id&quot;:&quot;2&quot;,&quot;col1&quot;:&quot;col1_value&quot;,&quot;col2&quot;:&quot;col2_value&quot;}]" ID="ID_533869804" CREATED="1549008502006" MODIFIED="1549008503144"/>
</node>
<node TEXT="ejemplo&#xa;con literales" FOLDED="true" ID="ID_342764883" CREATED="1549008490531" MODIFIED="1549439904565">
<icon BUILTIN="z_script"/>
<node TEXT="$year = date(&apos;Y&apos;);&#xa;$month = date(&apos;m&apos;);&#xa;&#xa;$json_array = array(&#xa;&#xa;//Each array below must be pulled from database&#xa;    //1st record&#xa;    array(&#xa;    &apos;id&apos; =&gt; 111,&#xa;    &apos;title&apos; =&gt; &quot;Event1&quot;,&#xa;    &apos;start&apos; =&gt; &quot;$year-$month-10&quot;,&#xa;    &apos;url&apos; =&gt; &quot;http://yahoo.com/&quot;&#xa;),&#xa;&#xa;     //2nd record&#xa;     array(&#xa;    &apos;id&apos; =&gt; 222,&#xa;    &apos;title&apos; =&gt; &quot;Event2&quot;,&#xa;    &apos;start&apos; =&gt; &quot;$year-$month-20&quot;,&#xa;    &apos;end&apos; =&gt; &quot;$year-$month-22&quot;,&#xa;    &apos;url&apos; =&gt; &quot;http://yahoo.com/&quot;&#xa;)&#xa;&#xa;);&#xa;&#xa;echo json_encode($json_array);" ID="ID_444282943" CREATED="1549008469552" MODIFIED="1549008490068"/>
</node>
</node>
</node>
<node TEXT="seguridad en PHP" FOLDED="true" POSITION="right" ID="ID_1617170601" CREATED="1606475370407" MODIFIED="1606475375548">
<node ID="ID_1057359749" CREATED="1606474636095" MODIFIED="1606474636095" LINK="https://phptherightway.com/#security"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      https://phptherightway.com/#security
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node TEXT="web scraping" FOLDED="true" POSITION="right" ID="ID_1008250485" CREATED="1641559938552" MODIFIED="1641560016163">
<icon BUILTIN="idea"/>
<node TEXT="cURL con cookies" ID="ID_207981032" CREATED="1641559977393" MODIFIED="1641559980430">
<node TEXT="https://code-boxx.com/php-curl-cookies/" ID="ID_129858321" CREATED="1641559980687" MODIFIED="1641559980687" LINK="https://code-boxx.com/php-curl-cookies/"/>
</node>
</node>
<node TEXT="i18n y l10n" FOLDED="true" POSITION="right" ID="ID_1263443491" CREATED="1606475201030" MODIFIED="1606742400367">
<icon BUILTIN="idea"/>
<node TEXT="https://phptherightway.com/#i18n_l10n" ID="ID_754967839" CREATED="1606475213906" MODIFIED="1606475213906" LINK="https://phptherightway.com/#i18n_l10n"/>
</node>
<node TEXT="generar PDFs" FOLDED="true" POSITION="right" ID="ID_1021978191" CREATED="1571658785271" MODIFIED="1606742400370">
<icon BUILTIN="idea"/>
<node TEXT="https://stackoverflow.com/questions/6438522/create-new-pdf-from-template-with-php" ID="ID_1115163844" CREATED="1571658820264" MODIFIED="1571658820264" LINK="https://stackoverflow.com/questions/6438522/create-new-pdf-from-template-with-php"/>
<node TEXT="https://ourcodeworld.com/articles/read/226/top-5-best-open-source-pdf-generation-libraries-for-php" ID="ID_1756706514" CREATED="1571658824546" MODIFIED="1571658824546" LINK="https://ourcodeworld.com/articles/read/226/top-5-best-open-source-pdf-generation-libraries-for-php"/>
<node TEXT="FPDF es una herramienta para ello" ID="ID_69681200" CREATED="1592818617817" MODIFIED="1606738590313"/>
</node>
<node TEXT="texto sobre una imagen" FOLDED="true" POSITION="right" ID="ID_1789183919" CREATED="1641559899372" MODIFIED="1641559923422">
<icon BUILTIN="idea"/>
<node TEXT="https://code-boxx.com/php-add-text-image/" ID="ID_357824894" CREATED="1641559925915" MODIFIED="1641559925915" LINK="https://code-boxx.com/php-add-text-image/"/>
</node>
<node TEXT="zz" POSITION="right" ID="ID_1166101184" CREATED="1447271947768" MODIFIED="1450097638305">
<node TEXT="en caso de usar Eclipse como IDE" FOLDED="true" ID="ID_1118953776" CREATED="1350324142372" MODIFIED="1573030892597">
<node TEXT="para programar en PHP es suficiente un Notepad++ pero un IDE facilita un poco la vida" ID="ID_740241738" CREATED="1380218294627" MODIFIED="1418690973896"/>
<node TEXT="Eclipse es uno de los muchos que pueden utilizarse" ID="ID_412588360" CREATED="1418690974926" MODIFIED="1418690983417"/>
<node TEXT="workspace (= una carpeta)" ID="ID_1802674049" CREATED="1350324146660" MODIFIED="1414434456315">
<node TEXT="proyecto 1 (=carpeta)" ID="ID_182763688" CREATED="1350324378872" MODIFIED="1350324530484"/>
<node TEXT="proyecto 2" ID="ID_1314203475" CREATED="1350324383754" MODIFIED="1350324530484"/>
<node TEXT="proyecto ..." ID="ID_1732273122" CREATED="1350324397328" MODIFIED="1350324530500"/>
<node TEXT="OJO: no poner tildes, espacios, etc. en el nombre de los proyectos ya que da problemas" ID="ID_1108970521" CREATED="1380218351737" MODIFIED="1396285549820">
<icon BUILTIN="atención_!!"/>
</node>
</node>
<node TEXT="asistentes" ID="ID_653898369" CREATED="1350328734409" MODIFIED="1414434456316">
<node TEXT="archivo, nuevo, PHP Project" ID="ID_1264199432" CREATED="1350328737347" MODIFIED="1380218342176"/>
<node TEXT="archivo, nuevo, PHP File" ID="ID_642419049" CREATED="1350328737347" MODIFIED="1380218346022"/>
</node>
</node>
<node TEXT="mensajes de error frecuentes" FOLDED="true" ID="ID_1483984493" CREATED="1380824496072" MODIFIED="1573030892597">
<node TEXT="failed to open stream, failed opening..." ID="ID_805926289" CREATED="1380824502706" MODIFIED="1414434456317">
<node TEXT="mensaje completo" ID="ID_708055022" CREATED="1380824518770" MODIFIED="1521139799973">
<node TEXT="Warning: Unknown: failed to open stream: No such file or directory in Unknown on line 0&#xa;&#xa;Fatal error: Unknown: Failed opening required &apos;W:/p_PFE/13-14 LV/IMP/workspace/010 Ejercicios bÃ¡sicos/script.php&apos; (include_path=&apos;.;C:\xampp\php\PEAR&apos;) in Unknown on line 0" ID="ID_1560588227" CREATED="1380824503823" MODIFIED="1380824505525"/>
</node>
<node TEXT="mira a ver si has puesto tildes (¡bien! Pero no en este caso) en el nombre de la carpeta o en el de alguno de los ficheros" ID="ID_1248908663" CREATED="1380824523483" MODIFIED="1396285597899"/>
</node>
</node>
</node>
</node>
</map>
